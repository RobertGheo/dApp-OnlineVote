{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.QueryResponse = void 0;\n\nconst networkParams_1 = require(\"../networkParams\");\n\nconst query_1 = require(\"./query\");\n\nconst returnCode_1 = require(\"./returnCode\");\n\nconst bignumber_js_1 = __importDefault(require(\"bignumber.js\"));\n\nconst result_1 = require(\"./result\");\n\nclass QueryResponse {\n  constructor(init) {\n    this.returnData = (init === null || init === void 0 ? void 0 : init.returnData) || [];\n    this.returnCode = (init === null || init === void 0 ? void 0 : init.returnCode) || returnCode_1.ReturnCode.Unknown;\n    this.returnMessage = (init === null || init === void 0 ? void 0 : init.returnMessage) || \"\";\n    this.gasUsed = (init === null || init === void 0 ? void 0 : init.gasUsed) || networkParams_1.GasLimit.min();\n  }\n  /**\n   * Constructs a QueryResponse object from a HTTP response (as returned by the provider).\n   */\n\n\n  static fromHttpResponse(payload) {\n    let returnData = payload[\"returnData\"] || payload[\"ReturnData\"];\n    let returnCode = payload[\"returnCode\"] || payload[\"ReturnCode\"];\n    let returnMessage = payload[\"returnMessage\"] || payload[\"ReturnMessage\"];\n    let gasRemaining = new bignumber_js_1.default(payload[\"gasRemaining\"] || payload[\"GasRemaining\"] || 0);\n    let gasUsed = new networkParams_1.GasLimit(query_1.MaxUint64.minus(gasRemaining).toNumber());\n    return new QueryResponse({\n      returnData: returnData,\n      returnCode: new returnCode_1.ReturnCode(returnCode),\n      returnMessage: returnMessage,\n      gasUsed: gasUsed\n    });\n  }\n\n  getEndpointDefinition() {\n    return this.endpointDefinition;\n  }\n\n  getReturnCode() {\n    return this.returnCode;\n  }\n\n  getReturnMessage() {\n    return this.returnMessage;\n  }\n\n  unpackOutput() {\n    return result_1.Result.unpackOutput(this);\n  }\n\n  assertSuccess() {\n    result_1.Result.assertSuccess(this);\n  }\n\n  isSuccess() {\n    return this.returnCode.isSuccess();\n  }\n\n  setEndpointDefinition(endpointDefinition) {\n    this.endpointDefinition = endpointDefinition;\n  }\n\n  outputUntyped() {\n    this.assertSuccess();\n    let buffers = this.returnData.map(item => Buffer.from(item || \"\", \"base64\"));\n    return buffers;\n  }\n\n  outputTyped() {\n    return result_1.Result.outputTyped(this);\n  }\n  /**\n   * Converts the object to a pretty, plain JavaScript object.\n   */\n\n\n  toJSON() {\n    return {\n      success: this.isSuccess(),\n      returnData: this.returnData,\n      returnCode: this.returnCode,\n      returnMessage: this.returnMessage,\n      gasUsed: this.gasUsed.valueOf()\n    };\n  }\n\n}\n\nexports.QueryResponse = QueryResponse;","map":{"version":3,"sources":["../../src/smartcontracts/queryResponse.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.QueryResponse = void 0;\nconst networkParams_1 = require(\"../networkParams\");\nconst query_1 = require(\"./query\");\nconst returnCode_1 = require(\"./returnCode\");\nconst bignumber_js_1 = __importDefault(require(\"bignumber.js\"));\nconst result_1 = require(\"./result\");\nclass QueryResponse {\n    constructor(init) {\n        this.returnData = (init === null || init === void 0 ? void 0 : init.returnData) || [];\n        this.returnCode = (init === null || init === void 0 ? void 0 : init.returnCode) || returnCode_1.ReturnCode.Unknown;\n        this.returnMessage = (init === null || init === void 0 ? void 0 : init.returnMessage) || \"\";\n        this.gasUsed = (init === null || init === void 0 ? void 0 : init.gasUsed) || networkParams_1.GasLimit.min();\n    }\n    /**\n     * Constructs a QueryResponse object from a HTTP response (as returned by the provider).\n     */\n    static fromHttpResponse(payload) {\n        let returnData = payload[\"returnData\"] || payload[\"ReturnData\"];\n        let returnCode = payload[\"returnCode\"] || payload[\"ReturnCode\"];\n        let returnMessage = payload[\"returnMessage\"] || payload[\"ReturnMessage\"];\n        let gasRemaining = new bignumber_js_1.default(payload[\"gasRemaining\"] || payload[\"GasRemaining\"] || 0);\n        let gasUsed = new networkParams_1.GasLimit(query_1.MaxUint64.minus(gasRemaining).toNumber());\n        return new QueryResponse({\n            returnData: returnData,\n            returnCode: new returnCode_1.ReturnCode(returnCode),\n            returnMessage: returnMessage,\n            gasUsed: gasUsed,\n        });\n    }\n    getEndpointDefinition() {\n        return this.endpointDefinition;\n    }\n    getReturnCode() {\n        return this.returnCode;\n    }\n    getReturnMessage() {\n        return this.returnMessage;\n    }\n    unpackOutput() {\n        return result_1.Result.unpackOutput(this);\n    }\n    assertSuccess() {\n        result_1.Result.assertSuccess(this);\n    }\n    isSuccess() {\n        return this.returnCode.isSuccess();\n    }\n    setEndpointDefinition(endpointDefinition) {\n        this.endpointDefinition = endpointDefinition;\n    }\n    outputUntyped() {\n        this.assertSuccess();\n        let buffers = this.returnData.map((item) => Buffer.from(item || \"\", \"base64\"));\n        return buffers;\n    }\n    outputTyped() {\n        return result_1.Result.outputTyped(this);\n    }\n    /**\n     * Converts the object to a pretty, plain JavaScript object.\n     */\n    toJSON() {\n        return {\n            success: this.isSuccess(),\n            returnData: this.returnData,\n            returnCode: this.returnCode,\n            returnMessage: this.returnMessage,\n            gasUsed: this.gasUsed.valueOf(),\n        };\n    }\n}\nexports.QueryResponse = QueryResponse;\n//# sourceMappingURL=queryResponse.js.map"]},"metadata":{},"sourceType":"script"}