{"ast":null,"code":"import { createAction, createSlice, combineReducers, configureStore } from '@reduxjs/toolkit';\nimport { ChainID, Address, ExtensionProvider, HWProvider, WalletConnectProvider, WalletProvider, ProxyProvider, ApiProvider, TransactionVersion, TransactionOptions, Transaction, Balance, TransactionPayload, GasLimit, GasPrice, Token, Nonce as Nonce$1 } from '@elrondnetwork/erdjs';\nimport isEqual from 'lodash/isEqual';\nimport { createSelectorCreator, defaultMemoize, createSelector } from 'reselect';\nimport { REHYDRATE, persistReducer, FLUSH, PAUSE, PERSIST, PURGE, REGISTER, persistStore } from 'redux-persist';\nimport storage$1 from 'redux-persist/lib/storage';\nimport throttle from 'lodash/throttle';\nimport sessionStorage$1 from 'redux-persist/lib/storage/session';\nimport omit from 'lodash/omit';\nimport BigNumber from 'bignumber.js';\nimport { Nonce, TransactionOptions as TransactionOptions$1, createBalanceBuilder, Token as Token$1, TokenType, Address as Address$1 } from '@elrondnetwork/erdjs/out';\nimport { validation, operations } from '@elrondnetwork/dapp-utils';\nimport React__default, { useState, useRef, useEffect, useContext, useCallback, createElement, Fragment, Component, useMemo } from 'react';\nimport { createStoreHook, createDispatchHook, createSelectorHook, Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport axios from 'axios';\nimport { Signature } from '@elrondnetwork/erdjs/out/signature';\nimport qs from 'qs';\nimport debounce from 'lodash/debounce'; // A type of promise-like that resolves synchronously and supports only one observer\n\nconst _Pact = /*#__PURE__*/function () {\n  function _Pact() {}\n\n  _Pact.prototype.then = function (onFulfilled, onRejected) {\n    const result = new _Pact();\n    const state = this.s;\n\n    if (state) {\n      const callback = state & 1 ? onFulfilled : onRejected;\n\n      if (callback) {\n        try {\n          _settle(result, 1, callback(this.v));\n        } catch (e) {\n          _settle(result, 2, e);\n        }\n\n        return result;\n      } else {\n        return this;\n      }\n    }\n\n    this.o = function (_this) {\n      try {\n        const value = _this.v;\n\n        if (_this.s & 1) {\n          _settle(result, 1, onFulfilled ? onFulfilled(value) : value);\n        } else if (onRejected) {\n          _settle(result, 1, onRejected(value));\n        } else {\n          _settle(result, 2, value);\n        }\n      } catch (e) {\n        _settle(result, 2, e);\n      }\n    };\n\n    return result;\n  };\n\n  return _Pact;\n}(); // Settles a pact synchronously\n\n\nfunction _settle(pact, state, value) {\n  if (!pact.s) {\n    if (value instanceof _Pact) {\n      if (value.s) {\n        if (state & 1) {\n          state = value.s;\n        }\n\n        value = value.v;\n      } else {\n        value.o = _settle.bind(null, pact, state);\n        return;\n      }\n    }\n\n    if (value && value.then) {\n      value.then(_settle.bind(null, pact, state), _settle.bind(null, pact, 2));\n      return;\n    }\n\n    pact.s = state;\n    pact.v = value;\n    const observer = pact.o;\n\n    if (observer) {\n      observer(pact);\n    }\n  }\n}\n\nfunction _isSettledPact(thenable) {\n  return thenable instanceof _Pact && thenable.s & 1;\n} // Asynchronously iterate through an object that has a length property, passing the index as the first argument to the callback (even as the length property changes)\n\n\nfunction _forTo(array, body, check) {\n  var i = -1,\n      pact,\n      reject;\n\n  function _cycle(result) {\n    try {\n      while (++i < array.length && (!check || !check())) {\n        result = body(i);\n\n        if (result && result.then) {\n          if (_isSettledPact(result)) {\n            result = result.v;\n          } else {\n            result.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n            return;\n          }\n        }\n      }\n\n      if (pact) {\n        _settle(pact, 1, result);\n      } else {\n        pact = result;\n      }\n    } catch (e) {\n      _settle(pact || (pact = new _Pact()), 2, e);\n    }\n  }\n\n  _cycle();\n\n  return pact;\n}\n\nconst _iteratorSymbol = /*#__PURE__*/typeof Symbol !== \"undefined\" ? Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\")) : \"@@iterator\"; // Asynchronously iterate through an object's values\n// Uses for...of if the runtime supports it, otherwise iterates until length on a copy\n\n\nfunction _forOf(target, body, check) {\n  if (typeof target[_iteratorSymbol] === \"function\") {\n    var iterator = target[_iteratorSymbol](),\n        step,\n        pact,\n        reject;\n\n    function _cycle(result) {\n      try {\n        while (!(step = iterator.next()).done && (!check || !check())) {\n          result = body(step.value);\n\n          if (result && result.then) {\n            if (_isSettledPact(result)) {\n              result = result.v;\n            } else {\n              result.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n              return;\n            }\n          }\n        }\n\n        if (pact) {\n          _settle(pact, 1, result);\n        } else {\n          pact = result;\n        }\n      } catch (e) {\n        _settle(pact || (pact = new _Pact()), 2, e);\n      }\n    }\n\n    _cycle();\n\n    if (iterator.return) {\n      var _fixup = function (value) {\n        try {\n          if (!step.done) {\n            iterator.return();\n          }\n        } catch (e) {}\n\n        return value;\n      };\n\n      if (pact && pact.then) {\n        return pact.then(_fixup, function (e) {\n          throw _fixup(e);\n        });\n      }\n\n      _fixup();\n    }\n\n    return pact;\n  } // No support for Symbol.iterator\n\n\n  if (!(\"length\" in target)) {\n    throw new TypeError(\"Object is not iterable\");\n  } // Handle live collections properly\n\n\n  var values = [];\n\n  for (var i = 0; i < target.length; i++) {\n    values.push(target[i]);\n  }\n\n  return _forTo(values, function (i) {\n    return body(values[i]);\n  }, check);\n}\n\nconst _asyncIteratorSymbol = /*#__PURE__*/typeof Symbol !== \"undefined\" ? Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\")) : \"@@asyncIterator\"; // Asynchronously call a function and send errors to recovery continuation\n\n\nfunction _catch(body, recover) {\n  try {\n    var result = body();\n  } catch (e) {\n    return recover(e);\n  }\n\n  if (result && result.then) {\n    return result.then(void 0, recover);\n  }\n\n  return result;\n} // Asynchronously await a promise and pass the result to a finally continuation\n\n\nfunction _finallyRethrows(body, finalizer) {\n  try {\n    var result = body();\n  } catch (e) {\n    return finalizer(true, e);\n  }\n\n  if (result && result.then) {\n    return result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n  }\n\n  return finalizer(false, result);\n}\n\nvar logoutAction = createAction('logout');\nvar loginAction = createAction('login', function (payload) {\n  return {\n    payload: payload\n  };\n});\nvar createDeepEqualSelector = createSelectorCreator(defaultMemoize, isEqual);\n\nvar networkConfigSelector = function networkConfigSelector(state) {\n  return state.networkConfig;\n};\n\nvar proxySelector = createDeepEqualSelector(networkConfigSelector, function (state) {\n  return state.proxy;\n});\nvar providerSelector = createDeepEqualSelector(networkConfigSelector, function (state) {\n  return state.provider;\n});\nvar chainIDSelector = createDeepEqualSelector(networkConfigSelector, function (state) {\n  return new ChainID(state.chainID);\n});\nvar apiProviderSelector = createDeepEqualSelector(networkConfigSelector, function (state) {\n  return state.apiProvider;\n});\nvar walletConnectBridgeAddressSelector = createDeepEqualSelector(networkConfigSelector, function (state) {\n  return state.network.walletConnectBridgeAddress;\n});\nvar walletConnectDeepLinkSelector = createDeepEqualSelector(networkConfigSelector, function (state) {\n  return state.network.walletConnectDeepLink;\n});\nvar networkSelector = createDeepEqualSelector(networkConfigSelector, function (state) {\n  return state.network;\n});\nvar apiNetworkSelector = createDeepEqualSelector(networkSelector, function (state) {\n  return state.apiAddress;\n});\nvar explorerAddressSelector = createDeepEqualSelector(networkSelector, function (state) {\n  return state.explorerAddress;\n});\nvar egldLabelSelector = createDeepEqualSelector(networkSelector, function (state) {\n  return state.egldLabel;\n});\nvar TransactionServerStatusesEnum;\n\n(function (TransactionServerStatusesEnum) {\n  TransactionServerStatusesEnum[\"pending\"] = \"pending\";\n  TransactionServerStatusesEnum[\"fail\"] = \"fail\";\n  TransactionServerStatusesEnum[\"invalid\"] = \"invalid\";\n  TransactionServerStatusesEnum[\"success\"] = \"success\";\n  TransactionServerStatusesEnum[\"executed\"] = \"executed\";\n  TransactionServerStatusesEnum[\"completed\"] = \"completed\";\n})(TransactionServerStatusesEnum || (TransactionServerStatusesEnum = {}));\n\nvar TransactionBatchStatusesEnum;\n\n(function (TransactionBatchStatusesEnum) {\n  TransactionBatchStatusesEnum[\"signed\"] = \"signed\";\n  TransactionBatchStatusesEnum[\"cancelled\"] = \"cancelled\";\n  TransactionBatchStatusesEnum[\"success\"] = \"success\";\n  TransactionBatchStatusesEnum[\"sent\"] = \"sent\";\n  TransactionBatchStatusesEnum[\"fail\"] = \"fail\";\n  TransactionBatchStatusesEnum[\"timedOut\"] = \"timedOut\";\n})(TransactionBatchStatusesEnum || (TransactionBatchStatusesEnum = {}));\n\nvar LoginMethodsEnum;\n\n(function (LoginMethodsEnum) {\n  LoginMethodsEnum[\"ledger\"] = \"ledger\";\n  LoginMethodsEnum[\"walletconnect\"] = \"walletconnect\";\n  LoginMethodsEnum[\"wallet\"] = \"wallet\";\n  LoginMethodsEnum[\"extension\"] = \"extension\";\n  LoginMethodsEnum[\"extra\"] = \"extra\";\n  LoginMethodsEnum[\"none\"] = \"\";\n})(LoginMethodsEnum || (LoginMethodsEnum = {}));\n\nvar NotificationTypesEnum;\n\n(function (NotificationTypesEnum) {\n  NotificationTypesEnum[\"warning\"] = \"warning\";\n  NotificationTypesEnum[\"error\"] = \"error\";\n  NotificationTypesEnum[\"success\"] = \"success\";\n})(NotificationTypesEnum || (NotificationTypesEnum = {}));\n\nvar TypesOfSmartContractCallsEnum;\n\n(function (TypesOfSmartContractCallsEnum) {\n  TypesOfSmartContractCallsEnum[\"MultiESDTNFTTransfer\"] = \"MultiESDTNFTTransfer\";\n  TypesOfSmartContractCallsEnum[\"ESDTNFTTransfer\"] = \"ESDTNFTTransfer\";\n})(TypesOfSmartContractCallsEnum || (TypesOfSmartContractCallsEnum = {}));\n\nvar EnvironmentsEnum;\n\n(function (EnvironmentsEnum) {\n  EnvironmentsEnum[\"testnet\"] = \"testnet\";\n  EnvironmentsEnum[\"devnet\"] = \"devnet\";\n  EnvironmentsEnum[\"mainnet\"] = \"mainnet\";\n})(EnvironmentsEnum || (EnvironmentsEnum = {}));\n\nvar accountInfoSelector = function accountInfoSelector(state) {\n  return state.account;\n};\n\nvar addressSelector = createDeepEqualSelector(accountInfoSelector, function (state) {\n  return state.address;\n});\nvar accountSelector = createDeepEqualSelector(accountInfoSelector, function (state) {\n  return state.account;\n});\nvar accountBalanceSelector = createDeepEqualSelector(accountSelector, function (account) {\n  return account.balance;\n});\nvar accountNonceSelector = createDeepEqualSelector(accountSelector, function (state) {\n  var _state$nonce;\n\n  return (state === null || state === void 0 ? void 0 : (_state$nonce = state.nonce) === null || _state$nonce === void 0 ? void 0 : _state$nonce.valueOf()) || 0;\n});\nvar shardSelector = createDeepEqualSelector(accountInfoSelector, function (state) {\n  return state.shard;\n});\nvar ledgerAccountSelector = createDeepEqualSelector(accountInfoSelector, function (state) {\n  return state.ledgerAccount;\n});\nvar walletConnectAccountSelector = createDeepEqualSelector(accountInfoSelector, function (state) {\n  return state.walletConnectAccount;\n});\nvar isAccountLoadingSelector = createDeepEqualSelector(accountInfoSelector, function (state) {\n  return state.isAccountLoading;\n});\nvar isAccountLoadingErrorSelector = createDeepEqualSelector(accountInfoSelector, function (state) {\n  return state.accountLoadingError;\n});\n\nvar loginInfoSelector = function loginInfoSelector(state) {\n  return state.loginInfo;\n};\n\nvar loginMethodSelector = createDeepEqualSelector(loginInfoSelector, function (state) {\n  return state.loginMethod;\n});\nvar isLoggedInSelector = createDeepEqualSelector(loginInfoSelector, addressSelector, function (state, address) {\n  return state.loginMethod != LoginMethodsEnum.none && Boolean(address);\n});\nvar walletConnectLoginSelector = createDeepEqualSelector(loginInfoSelector, function (state) {\n  return state.walletConnectLogin;\n});\nvar ledgerLoginSelector = createDeepEqualSelector(loginInfoSelector, function (state) {\n  return state.ledgerLogin;\n});\nvar walletLoginSelector = createDeepEqualSelector(loginInfoSelector, function (state) {\n  return state.walletLogin;\n});\nvar loginExpiresAtSelector = createDeepEqualSelector(loginInfoSelector, function (state) {\n  return state.loginExpiresAt;\n});\n\nfunction getNewLoginExpiresTimestamp() {\n  return new Date().setHours(new Date().getHours() + 24);\n}\n\nfunction optionalRedirect(callbackUrl, shouldRedirect) {\n  if (shouldRedirect && callbackUrl != null) {\n    setTimeout(function () {\n      if (!window.location.pathname.includes(callbackUrl)) {\n        window.location.href = callbackUrl;\n      }\n    }, 200);\n  }\n}\n\nfunction getBridgeAddressFromNetwork(walletConnectBridgeAddresses) {\n  return walletConnectBridgeAddresses[Math.floor(Math.random() * walletConnectBridgeAddresses.length)];\n}\n\nvar initialState = {\n  loginMethod: LoginMethodsEnum.none,\n  walletConnectLogin: null,\n  ledgerLogin: null,\n  tokenLogin: null,\n  walletLogin: null,\n  extensionLogin: null,\n  loginExpiresAt: getNewLoginExpiresTimestamp()\n};\nvar loginInfoSlice = createSlice({\n  name: 'loginInfoSlice',\n  initialState: initialState,\n  reducers: {\n    setLoginMethod: function setLoginMethod(state, action) {\n      state.loginMethod = action.payload;\n    },\n    setTokenLogin: function setTokenLogin(state, action) {\n      state.tokenLogin = action.payload;\n    },\n    setTokenLoginSignature: function setTokenLoginSignature(state, action) {\n      if ((state === null || state === void 0 ? void 0 : state.tokenLogin) != null) {\n        state.tokenLogin.signature = action.payload;\n      }\n    },\n    setWalletLogin: function setWalletLogin(state, action) {\n      state.walletLogin = action.payload;\n    },\n    setWalletConnectLogin: function setWalletConnectLogin(state, action) {\n      state.walletConnectLogin = action.payload;\n    },\n    setLedgerLogin: function setLedgerLogin(state, action) {\n      state.ledgerLogin = action.payload;\n    },\n    setLoginExpiresAt: function setLoginExpiresAt(state, action) {\n      state.loginExpiresAt = action.payload;\n    }\n  },\n  extraReducers: function extraReducers(builder) {\n    builder.addCase(logoutAction, function () {\n      return initialState;\n    });\n    builder.addCase(loginAction, function (state, action) {\n      state.loginMethod = action.payload.loginMethod;\n      state.loginExpiresAt = getNewLoginExpiresTimestamp();\n    });\n  }\n});\nvar _loginInfoSlice$actio = loginInfoSlice.actions,\n    setWalletConnectLogin = _loginInfoSlice$actio.setWalletConnectLogin,\n    setLedgerLogin = _loginInfoSlice$actio.setLedgerLogin,\n    setTokenLogin = _loginInfoSlice$actio.setTokenLogin,\n    setTokenLoginSignature = _loginInfoSlice$actio.setTokenLoginSignature,\n    setWalletLogin = _loginInfoSlice$actio.setWalletLogin,\n    setLoginExpiresAt = _loginInfoSlice$actio.setLoginExpiresAt;\nvar loginInfo = loginInfoSlice.reducer;\nvar whitelistedActions = ['loginInfoSlice/setLoginExpiresAt', 'logout'];\nvar throttledSetNewToken = throttle(function (store) {\n  store.dispatch(setLoginExpiresAt(getNewLoginExpiresTimestamp()));\n}, 5000);\n\nvar loginSessionMiddleware = function loginSessionMiddleware(store) {\n  return function (next) {\n    return function (action) {\n      if (whitelistedActions.includes(action.type)) {\n        return next(action);\n      }\n\n      var appState = store.getState();\n      var loginTimestamp = loginExpiresAtSelector(appState);\n      var isLoggedIn = isLoggedInSelector(appState);\n\n      if (!isLoggedIn) {\n        return next(action);\n      }\n\n      if (loginTimestamp == null) {\n        return store.dispatch(setLoginExpiresAt(getNewLoginExpiresTimestamp()));\n      }\n\n      var now = Date.now();\n      var isExpired = loginTimestamp - now < 0;\n\n      if (isExpired) {\n        return setTimeout(function () {\n          try {\n            var provider = providerSelector(store.getState());\n            console.log('session expired');\n            store.dispatch(logoutAction());\n\n            var _temp2 = _catch(function () {\n              return Promise.resolve(provider.logout({\n                callbackUrl: '/'\n              })).then(function () {});\n            }, function (err) {\n              console.error('error logging out', err);\n            });\n\n            return Promise.resolve(_temp2 && _temp2.then ? _temp2.then(function () {}) : void 0);\n          } catch (e) {\n            return Promise.reject(e);\n          }\n        }, 1000);\n      } else {\n        throttledSetNewToken(store);\n      }\n\n      return next(action);\n    };\n  };\n};\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n\n  _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (it) return (it = it.call(o)).next.bind(it);\n\n  if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n    if (it) o = it;\n    var i = 0;\n    return function () {\n      if (i >= o.length) return {\n        done: true\n      };\n      return {\n        done: false,\n        value: o[i++]\n      };\n    };\n  }\n\n  throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar emptyAccount = {\n  balance: '...',\n  address: '',\n  nonce: 0\n};\nvar initialState$1 = {\n  address: '',\n  account: emptyAccount,\n  ledgerAccount: null,\n  publicKey: '',\n  walletConnectAccount: null,\n  isAccountLoading: true,\n  accountLoadingError: null\n};\nvar accountInfoSlice = createSlice({\n  name: 'accountInfoSlice',\n  initialState: initialState$1,\n  reducers: {\n    setAddress: function setAddress(state, action) {\n      var address = action.payload;\n      state.address = address;\n      state.publicKey = new Address(address).hex();\n    },\n    setAccount: function setAccount(state, action) {\n      state.account = action.payload;\n      state.isAccountLoading = false;\n      state.accountLoadingError = null;\n    },\n    setAccountNonce: function setAccountNonce(state, action) {\n      state.account.nonce = action.payload;\n    },\n    setAccountShard: function setAccountShard(state, action) {\n      state.shard = action.payload;\n    },\n    setLedgerAccount: function setLedgerAccount(state, action) {\n      state.ledgerAccount = action.payload;\n    },\n    setWalletConnectAccount: function setWalletConnectAccount(state, action) {\n      state.walletConnectAccount = action.payload;\n    },\n    setIsAccountLoading: function setIsAccountLoading(state, action) {\n      state.isAccountLoading = action.payload;\n      state.accountLoadingError = null;\n    },\n    setAccountLoadingError: function setAccountLoadingError(state, action) {\n      state.accountLoadingError = action.payload;\n      state.isAccountLoading = false;\n    }\n  },\n  extraReducers: function extraReducers(builder) {\n    builder.addCase(logoutAction, function () {\n      return initialState$1;\n    });\n    builder.addCase(loginAction, function (state, action) {\n      var address = action.payload.address;\n      state.address = address;\n      state.publicKey = new Address(address).hex();\n    });\n    builder.addCase(REHYDRATE, function (state, action) {\n      var _action$payload;\n\n      if (!((_action$payload = action.payload) !== null && _action$payload !== void 0 && _action$payload.account)) {\n        return;\n      }\n\n      var accountInfo = action.payload.account;\n      var address = accountInfo.address,\n          shard = accountInfo.shard,\n          account = accountInfo.account,\n          publicKey = accountInfo.publicKey;\n      state.address = address;\n      state.shard = shard;\n      state.account = account;\n      state.publicKey = publicKey;\n    });\n  }\n});\nvar _accountInfoSlice$act = accountInfoSlice.actions,\n    setAccount = _accountInfoSlice$act.setAccount,\n    setAccountNonce = _accountInfoSlice$act.setAccountNonce,\n    setAccountShard = _accountInfoSlice$act.setAccountShard,\n    setLedgerAccount = _accountInfoSlice$act.setLedgerAccount,\n    setIsAccountLoading = _accountInfoSlice$act.setIsAccountLoading,\n    setAccountLoadingError = _accountInfoSlice$act.setAccountLoadingError;\nvar account = accountInfoSlice.reducer;\nvar DAPP_INIT_ROUTE = '/dapp/init';\n\nvar getProviderType = function getProviderType(provider) {\n  switch (provider === null || provider === void 0 ? void 0 : provider.constructor) {\n    case WalletProvider:\n      return LoginMethodsEnum.wallet;\n\n    case WalletConnectProvider:\n      return LoginMethodsEnum.walletconnect;\n\n    case HWProvider:\n      return LoginMethodsEnum.ledger;\n\n    case ExtensionProvider:\n      return LoginMethodsEnum.extension;\n\n    case EmptyProvider:\n      return LoginMethodsEnum.none;\n\n    default:\n      return LoginMethodsEnum.extra;\n  }\n};\n\nvar newWalletProvider = function newWalletProvider(walletAddress) {\n  return new WalletProvider(\"\" + walletAddress + DAPP_INIT_ROUTE);\n};\n\nvar notInitializedError = function notInitializedError(caller) {\n  return \"Unable to perform \" + caller + \", Provider not initialized\";\n};\n\nvar EmptyProvider = /*#__PURE__*/function () {\n  function EmptyProvider() {}\n\n  var _proto = EmptyProvider.prototype;\n\n  _proto.init = function init() {\n    return Promise.resolve(false);\n  };\n\n  _proto.login = function login(options) {\n    throw new Error(notInitializedError(\"login with options: \" + options));\n  };\n\n  _proto.logout = function logout(options) {\n    try {\n      throw new Error(notInitializedError(\"logout with options: \" + options));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  _proto.getAddress = function getAddress() {\n    try {\n      throw new Error(notInitializedError('getAddress'));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  _proto.isInitialized = function isInitialized() {\n    return false;\n  };\n\n  _proto.isConnected = function isConnected() {\n    return Promise.resolve(false);\n  };\n\n  _proto.sendTransaction = function sendTransaction(transaction, options) {\n    try {\n      throw new Error(notInitializedError(\"sendTransaction with transactions: \" + transaction + \" options: \" + options));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  _proto.signTransaction = function signTransaction(transaction, options) {\n    try {\n      throw new Error(notInitializedError(\"signTransaction with transactions: \" + transaction + \" options: \" + options));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  _proto.signTransactions = function signTransactions(transactions, options) {\n    try {\n      throw new Error(notInitializedError(\"signTransactions with transactions: \" + transactions + \" options: \" + options));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  _proto.signMessage = function signMessage(message) {\n    try {\n      throw new Error(notInitializedError(\"signTransactions with \" + message));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  return EmptyProvider;\n}();\n\nvar emptyProvider = new EmptyProvider();\nvar initialState$2 = {\n  log: function log() {\n    return null;\n  },\n  getProvider: function getProvider() {\n    return emptyProvider;\n  },\n  init: function init() {\n    return null;\n  }\n};\nvar extraActionsSlice = createSlice({\n  name: 'extraActionsSlice',\n  initialState: initialState$2,\n  reducers: {\n    initializeExtraActions: function initializeExtraActions(state, action) {\n      return _extends({}, state, action.payload);\n    }\n  }\n});\nvar initializeExtraActions = extraActionsSlice.actions.initializeExtraActions;\nvar extraActions = extraActionsSlice.reducer;\nvar initialState$3 = {};\nvar modalsSlice = createSlice({\n  name: 'modalsSlice',\n  initialState: initialState$3,\n  reducers: {\n    setTxSubmittedModal: function setTxSubmittedModal(state, action) {\n      state.txSubmittedModal = action.payload;\n    },\n    setNotificationModal: function setNotificationModal(state, action) {\n      state.notificationModal = action.payload;\n    },\n    clearTxSubmittedModal: function clearTxSubmittedModal(state) {\n      state.txSubmittedModal = undefined;\n    },\n    clearNotificationModal: function clearNotificationModal(state) {\n      state.notificationModal = undefined;\n    }\n  },\n  extraReducers: function extraReducers(builder) {\n    builder.addCase(logoutAction, function () {\n      return initialState$3;\n    });\n  }\n});\nvar _modalsSlice$actions = modalsSlice.actions,\n    setTxSubmittedModal = _modalsSlice$actions.setTxSubmittedModal,\n    setNotificationModal = _modalsSlice$actions.setNotificationModal,\n    clearNotificationModal = _modalsSlice$actions.clearNotificationModal;\nvar modals = modalsSlice.reducer;\nvar defaultNetwork = {\n  id: 'not-configured',\n  name: 'NOT CONFIGURED',\n  egldLabel: '',\n  egldDenomination: '18',\n  decimals: '4',\n  gasPerDataByte: '1500',\n  walletConnectDeepLink: '',\n  walletConnectBridgeAddress: '',\n  walletAddress: '',\n  apiAddress: '',\n  explorerAddress: '',\n  apiTimeout: '4000'\n};\nvar initialState$4 = {\n  network: defaultNetwork,\n  proxy: new ProxyProvider(defaultNetwork.apiAddress, {\n    timeout: Number(defaultNetwork.apiTimeout)\n  }),\n  apiProvider: new ApiProvider(defaultNetwork.apiAddress, {\n    timeout: Number(defaultNetwork.apiTimeout)\n  }),\n  provider: emptyProvider,\n  chainID: '-1'\n};\nvar networkConfigSlice = createSlice({\n  name: 'appConfig',\n  initialState: initialState$4,\n  reducers: {\n    initializeNetworkConfig: function initializeNetworkConfig(state, action) {\n      var walletConnectBridgeAddress = getBridgeAddressFromNetwork(action.payload.walletConnectBridgeAddresses);\n      var network = omit(action.payload, 'walletConnectBridgeAddresses');\n      var apiAddress = network.apiAddress;\n\n      if (apiAddress) {\n        state.proxy = new ProxyProvider(apiAddress, {\n          timeout: Number(network.apiTimeout || defaultNetwork.apiTimeout)\n        });\n        state.apiProvider = new ApiProvider(apiAddress, {\n          timeout: Number(network.apiTimeout || defaultNetwork.apiTimeout)\n        });\n      }\n\n      state.network = _extends({}, state.network, network, {\n        walletConnectBridgeAddress: walletConnectBridgeAddress\n      });\n    },\n    setChainID: function setChainID(state, action) {\n      state.chainID = action.payload;\n    },\n    setProvider: function setProvider(state, action) {\n      state.provider = action.payload;\n    }\n  },\n  extraReducers: function extraReducers(builder) {\n    builder.addCase(logoutAction, function (state) {\n      state.provider = initialState$4.provider;\n    });\n  }\n});\nvar _networkConfigSlice$a = networkConfigSlice.actions,\n    initializeNetworkConfig = _networkConfigSlice$a.initializeNetworkConfig,\n    setChainID = _networkConfigSlice$a.setChainID,\n    setProvider = _networkConfigSlice$a.setProvider;\nvar networkConfig = networkConfigSlice.reducer;\nvar defaultTransactionErrorMessage = 'Transaction failed';\nvar defaultTransactionSuccessMessage = 'Transaction successful';\nvar defaultTransactionProcessingMessage = 'Processing transaction';\nvar defaultTransactionSubmittedMessage = 'Transaction submitted';\nvar initialState$5 = {};\nvar signTransactionsSlice = createSlice({\n  name: 'transactionsInfo',\n  initialState: initialState$5,\n  reducers: {\n    setTransactionsDisplayInfo: function setTransactionsDisplayInfo(state, action) {\n      var _action$payload = action.payload,\n          sessionId = _action$payload.sessionId,\n          transactionsDisplayInfo = _action$payload.transactionsDisplayInfo;\n\n      if (sessionId != null) {\n        state[sessionId] = {\n          errorMessage: (transactionsDisplayInfo === null || transactionsDisplayInfo === void 0 ? void 0 : transactionsDisplayInfo.errorMessage) || defaultTransactionErrorMessage,\n          successMessage: (transactionsDisplayInfo === null || transactionsDisplayInfo === void 0 ? void 0 : transactionsDisplayInfo.successMessage) || defaultTransactionSuccessMessage,\n          processingMessage: (transactionsDisplayInfo === null || transactionsDisplayInfo === void 0 ? void 0 : transactionsDisplayInfo.processingMessage) || defaultTransactionProcessingMessage,\n          submittedMessage: (transactionsDisplayInfo === null || transactionsDisplayInfo === void 0 ? void 0 : transactionsDisplayInfo.submittedMessage) || defaultTransactionSubmittedMessage,\n          transactionDuration: transactionsDisplayInfo === null || transactionsDisplayInfo === void 0 ? void 0 : transactionsDisplayInfo.transactionDuration\n        };\n      }\n    },\n    clearTransactionsInfoForSessionId: function clearTransactionsInfoForSessionId(state, action) {\n      if (action.payload != null) {\n        delete state[action.payload];\n      }\n    },\n    clearTransactionsInfo: function clearTransactionsInfo() {\n      return initialState$5;\n    }\n  },\n  extraReducers: function extraReducers(builder) {\n    builder.addCase(logoutAction, function () {\n      return initialState$5;\n    });\n  }\n});\nvar _signTransactionsSlic = signTransactionsSlice.actions,\n    setTransactionsDisplayInfo = _signTransactionsSlic.setTransactionsDisplayInfo,\n    clearTransactionsInfoForSessionId = _signTransactionsSlic.clearTransactionsInfoForSessionId;\nvar transactionsInfo = signTransactionsSlice.reducer;\nvar TransactionTypesEnum;\n\n(function (TransactionTypesEnum) {\n  TransactionTypesEnum[\"MultiESDTNFTTransfer\"] = \"MultiESDTNFTTransfer\";\n  TransactionTypesEnum[\"ESDTTransfer\"] = \"ESDTTransfer\";\n  TransactionTypesEnum[\"ESDTNFTTransfer\"] = \"ESDTNFTTransfer\";\n  TransactionTypesEnum[\"esdtTransaction\"] = \"esdtTransaction\";\n  TransactionTypesEnum[\"nftTransaction\"] = \"nftTransaction\";\n  TransactionTypesEnum[\"scCall\"] = \"scCall\";\n})(TransactionTypesEnum || (TransactionTypesEnum = {}));\n\nvar okInHex = '6f6b';\n\nfunction areScCallsSuccessful(scResults) {\n  if (!scResults) {\n    return true;\n  }\n\n  var success = false;\n  scResults.forEach(function (result) {\n    if (result !== null && result !== void 0 && result.data) {\n      var decoded = Buffer.from(result.data, 'base64').toString().split('@');\n      var hasOkPart = Boolean(decoded.find(function (part) {\n        return part === okInHex;\n      }));\n\n      if (hasOkPart) {\n        success = true;\n        return;\n      }\n    }\n  });\n  return success;\n}\n\nfunction isContract(receiver, data) {\n  if (data === void 0) {\n    data = '';\n  }\n\n  try {\n    var extractedAddress = getAddressFromDataField({\n      receiver: receiver,\n      data: data\n    });\n\n    if (!extractedAddress) {\n      return false;\n    }\n\n    return new Address(extractedAddress).isContractAddress();\n  } catch (err) {\n    console.log('err', err);\n    return false;\n  }\n}\n\nfunction getAddressFromDataField(_ref) {\n  var receiver = _ref.receiver,\n      data = _ref.data;\n\n  try {\n    if (!data) {\n      return receiver;\n    }\n\n    var addressIndex = getAddressIndex(data);\n    var parts = data.split('@');\n    return addressIndex > -1 ? parts[addressIndex] : receiver;\n  } catch (err) {\n    console.log(err);\n    return;\n  }\n}\n\nfunction getAddressIndex(data) {\n  return data.includes(TypesOfSmartContractCallsEnum.MultiESDTNFTTransfer) ? 1 : data.includes(TypesOfSmartContractCallsEnum.ESDTNFTTransfer) ? 4 : -1;\n}\n\nvar pendingBatchTransactionsStates = [TransactionBatchStatusesEnum.sent];\nvar successBatchTransactionsStates = [TransactionBatchStatusesEnum.success];\nvar failBatchTransactionsStates = [TransactionBatchStatusesEnum.fail, TransactionBatchStatusesEnum.cancelled, TransactionBatchStatusesEnum.timedOut];\nvar timedOutBatchTransactionsStates = [TransactionBatchStatusesEnum.timedOut];\nvar pendingServerTransactionsStatuses = [TransactionServerStatusesEnum.pending];\nvar successServerTransactionsStates = [TransactionServerStatusesEnum.success];\nvar completedServerTransactionsStates = [TransactionServerStatusesEnum.completed];\nvar failServerTransactionsStates = [TransactionServerStatusesEnum.fail, TransactionServerStatusesEnum.invalid];\n\nfunction getIsTransactionCompleted(status) {\n  return completedServerTransactionsStates.includes(status);\n}\n\nfunction getIsTransactionPending(status, isScCall) {\n  if (isScCall === void 0) {\n    isScCall = false;\n  }\n\n  var isPending = status != null && (isBatchTransactionPending(status) || isServerTransactionPending(status));\n  return isScCall ? isPending || getIsTransactionSuccessful(status) && !getIsTransactionCompleted(status) : isPending;\n}\n\nfunction getIsTransactionSuccessful(status) {\n  return status != null && (isBatchTransactionSuccessful(status) || isServerTransactionSuccessful(status));\n}\n\nfunction getIsTransactionFailed(status) {\n  return status != null && (isBatchTransactionFailed(status) || isServerTransactionFailed(status));\n}\n\nfunction getIsTransactionTimedOut(status) {\n  return status != null && isBatchTransactionTimedOut(status);\n}\n\nfunction isBatchTransactionPending(status) {\n  return status != null && pendingBatchTransactionsStates.includes(status);\n}\n\nfunction isBatchTransactionSuccessful(status) {\n  return status != null && successBatchTransactionsStates.includes(status);\n}\n\nfunction isBatchTransactionFailed(status) {\n  return status != null && failBatchTransactionsStates.includes(status);\n}\n\nfunction isBatchTransactionTimedOut(status) {\n  return status != null && timedOutBatchTransactionsStates.includes(status);\n}\n\nfunction isServerTransactionPending(status) {\n  return status != null && pendingServerTransactionsStatuses.includes(status);\n}\n\nfunction isServerTransactionSuccessful(status) {\n  return status != null && successServerTransactionsStates.includes(status);\n}\n\nfunction isServerTransactionFailed(status) {\n  return status != null && failServerTransactionsStates.includes(status);\n}\n\nvar base64Regex = /(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)/;\n\nfunction isStringBase64(string) {\n  return base64Regex.test(string);\n}\n\nfunction encodeToBase64(string) {\n  return btoa(string);\n}\n\nfunction decodeBase64(string) {\n  return atob(string);\n}\n\nvar isUtf8 = function isUtf8(str) {\n  for (var i = 0; i < str.length; i++) {\n    if (str.charCodeAt(i) > 127) return false;\n  }\n\n  return true;\n};\n\nfunction decodePart(part) {\n  var decodedPart = part;\n\n  try {\n    var hexPart = Buffer.from(part, 'hex').toString().trim();\n\n    if (isUtf8(hexPart) && hexPart.length > 1) {\n      decodedPart = hexPart;\n    }\n  } catch (error) {}\n\n  return decodedPart;\n}\n\nvar getAllStringOccurrences = function getAllStringOccurrences(sourceStr, searchStr) {\n  return [].concat(sourceStr.matchAll(new RegExp(searchStr, 'gi'))).map(function (a) {\n    return a.index;\n  });\n};\n\nfunction parseMultiEsdtTransferData(data) {\n  var transactions = [];\n  var contractCallDataIndex = 0;\n\n  try {\n    if (data !== null && data !== void 0 && data.startsWith(TransactionTypesEnum.MultiESDTNFTTransfer) && data !== null && data !== void 0 && data.includes('@')) {\n      var _data$split = data === null || data === void 0 ? void 0 : data.split('@'),\n          receiver = _data$split[1],\n          encodedTxCount = _data$split[2],\n          rest = _data$split.slice(3);\n\n      if (receiver) {\n        var txCount = new BigNumber(encodedTxCount, 16).toNumber();\n        var itemIndex = 0;\n\n        for (var txIndex = 0; txIndex < txCount; txIndex++) {\n          var transaction = {\n            type: TransactionTypesEnum.nftTransaction,\n            data: '',\n            receiver: receiver\n          };\n\n          for (var index = 0; index < 3; index++) {\n            switch (index) {\n              case 0:\n                transaction.token = decodePart(rest[itemIndex]);\n                transaction.data = rest[itemIndex];\n                break;\n\n              case 1:\n                {\n                  var encodedNonce = rest[itemIndex] && rest[itemIndex].length ? rest[itemIndex] : '';\n\n                  if (encodedNonce) {\n                    transaction.nonce = encodedNonce;\n                  } else {\n                    transaction.type = TransactionTypesEnum.esdtTransaction;\n                  }\n\n                  transaction.data = transaction.data + \"@\" + rest[itemIndex];\n                  break;\n                }\n\n              case 2:\n                transaction.amount = new BigNumber(rest[itemIndex], 16).toString(10);\n                transaction.data = transaction.data + \"@\" + rest[itemIndex];\n                break;\n\n              default:\n                break;\n            }\n\n            contractCallDataIndex = itemIndex + 1;\n            itemIndex++;\n          }\n\n          transactions[txIndex] = transaction;\n        }\n\n        if (transactions.length !== txCount || transactions.some(function (tx) {\n          return getAllStringOccurrences(tx.data, '@').length !== 2;\n        }) || transactions.some(function (tx) {\n          return tx.data.startsWith('@');\n        })) {\n          return [];\n        }\n\n        if (rest[contractCallDataIndex]) {\n          var scCallData = rest[contractCallDataIndex];\n\n          for (var i = contractCallDataIndex + 1; i < rest.length; i++) {\n            scCallData += '@' + rest[i];\n          }\n\n          transactions[txCount] = {\n            type: TransactionTypesEnum.scCall,\n            data: scCallData,\n            receiver: receiver\n          };\n        }\n      }\n    }\n  } catch (err) {\n    return transactions;\n  }\n\n  return transactions;\n}\n\nvar noData = {\n  tokenId: '',\n  amount: ''\n};\n\nfunction getTokenFromData(data) {\n  var tokenTransfer = data === null || data === void 0 ? void 0 : data.includes(TransactionTypesEnum.ESDTTransfer);\n  var nftTransfer = data === null || data === void 0 ? void 0 : data.includes(TransactionTypesEnum.ESDTNFTTransfer);\n\n  if (data != null && (tokenTransfer || nftTransfer)) {\n    try {\n      var encodedToken = data.split('@')[1];\n      var encodedAmount = data.split('@')[tokenTransfer ? 2 : 3];\n      var tokenId = Buffer.from(encodedToken, 'hex').toString('ascii');\n\n      if (tokenId) {\n        var amount = new BigNumber('0x' + encodedAmount.replace('0x', '')).toString(10);\n        return {\n          tokenId: tokenId,\n          amount: amount\n        };\n      } else {\n        return noData;\n      }\n    } catch (e) {\n      return noData;\n    }\n  }\n\n  return noData;\n}\n\nfunction isTokenTransfer(_ref) {\n  var tokenId = _ref.tokenId,\n      erdLabel = _ref.erdLabel;\n  return Boolean(tokenId && tokenId !== erdLabel);\n}\n\nfunction buildUrlParams(search, urlParams) {\n  var urlSearchParams = new URLSearchParams(search);\n  var params = Object.fromEntries(urlSearchParams);\n  var nextUrlParams = new URLSearchParams(_extends({}, params, urlParams)).toString();\n  return {\n    nextUrlParams: nextUrlParams,\n    params: params\n  };\n}\n\nfunction buildReplyUrl(_ref) {\n  var callbackUrl = _ref.callbackUrl,\n      _ref$urlParams = _ref.urlParams,\n      urlParams = _ref$urlParams === void 0 ? {} : _ref$urlParams;\n  var url = callbackUrl;\n\n  if (Object.entries(urlParams).length > 0) {\n    var _URL = new URL(callbackUrl),\n        search = _URL.search,\n        origin = _URL.origin,\n        pathname = _URL.pathname;\n\n    var _buildUrlParams = buildUrlParams(search, urlParams),\n        nextUrlParams = _buildUrlParams.nextUrlParams;\n\n    url = \"\" + origin + pathname + \"?\" + nextUrlParams;\n  }\n\n  return url;\n}\n\nfunction parseTransactionAfterSigning(transaction, isLedger) {\n  if (isLedger === void 0) {\n    isLedger = false;\n  }\n\n  if (isLedger) {\n    transaction.version = TransactionVersion.withTxHashSignVersion();\n    transaction.options = TransactionOptions.withTxHashSignOptions();\n  }\n\n  var parsedTransaction = transaction.toPlainObject();\n  parsedTransaction.hash = transaction.getHash().toString();\n  parsedTransaction.status = TransactionServerStatusesEnum.pending;\n  return parsedTransaction;\n}\n\nvar initialState$6 = {\n  signedTransactions: {},\n  transactionsToSign: null,\n  signTransactionsError: null\n};\nvar transactionsSlice = createSlice({\n  name: 'transactionsSlice',\n  initialState: initialState$6,\n  reducers: {\n    updateSignedTransaction: function updateSignedTransaction(state, action) {\n      state.signedTransactions = _extends({}, state.signedTransactions, action.payload);\n    },\n    updateSignedTransactions: function updateSignedTransactions(state, action) {\n      var _action$payload = action.payload,\n          sessionId = _action$payload.sessionId,\n          status = _action$payload.status,\n          errorMessage = _action$payload.errorMessage,\n          transactions = _action$payload.transactions;\n      var transaction = state.signedTransactions[sessionId];\n\n      if (transaction != null) {\n        state.signedTransactions[sessionId].status = status;\n\n        if (errorMessage != null) {\n          state.signedTransactions[sessionId].errorMessage = errorMessage;\n        }\n\n        if (transactions != null) {\n          state.signedTransactions[sessionId].transactions = transactions;\n        }\n      }\n    },\n    updateSignedTransactionStatus: function updateSignedTransactionStatus(state, action) {\n      var _state$signedTransact, _state$signedTransact2;\n\n      var _action$payload2 = action.payload,\n          sessionId = _action$payload2.sessionId,\n          status = _action$payload2.status,\n          errorMessage = _action$payload2.errorMessage,\n          transactionHash = _action$payload2.transactionHash;\n      var transactions = (_state$signedTransact = state.signedTransactions) === null || _state$signedTransact === void 0 ? void 0 : (_state$signedTransact2 = _state$signedTransact[sessionId]) === null || _state$signedTransact2 === void 0 ? void 0 : _state$signedTransact2.transactions;\n\n      if (transactions != null) {\n        var _state$signedTransact3, _state$signedTransact4, _state$signedTransact5, _state$signedTransact6;\n\n        state.signedTransactions[sessionId].transactions = transactions.map(function (transaction) {\n          if (transaction.hash === transactionHash) {\n            return _extends({}, transaction, {\n              status: status,\n              errorMessage: errorMessage\n            });\n          }\n\n          return transaction;\n        });\n        var areTransactionsSuccessful = (_state$signedTransact3 = state.signedTransactions[sessionId]) === null || _state$signedTransact3 === void 0 ? void 0 : (_state$signedTransact4 = _state$signedTransact3.transactions) === null || _state$signedTransact4 === void 0 ? void 0 : _state$signedTransact4.every(function (transaction) {\n          var isScCall = isContract(transaction.receiver, transaction.data);\n          return isScCall ? getIsTransactionCompleted(transaction.status) : getIsTransactionSuccessful(transaction.status);\n        });\n        var areTransactionsFailed = (_state$signedTransact5 = state.signedTransactions[sessionId]) === null || _state$signedTransact5 === void 0 ? void 0 : (_state$signedTransact6 = _state$signedTransact5.transactions) === null || _state$signedTransact6 === void 0 ? void 0 : _state$signedTransact6.every(function (transaction) {\n          return getIsTransactionFailed(transaction.status);\n        });\n\n        if (areTransactionsSuccessful) {\n          state.signedTransactions[sessionId].status = TransactionBatchStatusesEnum.success;\n        }\n\n        if (areTransactionsFailed) {\n          state.signedTransactions[sessionId].status = TransactionBatchStatusesEnum.fail;\n        }\n      }\n    },\n    setTransactionsToSign: function setTransactionsToSign(state, action) {\n      state.transactionsToSign = action.payload;\n      state.signTransactionsError = null;\n    },\n    clearSignTransactions: function clearSignTransactions(state) {\n      state.transactionsToSign = initialState$6.transactionsToSign;\n      state.signTransactionsError = null;\n    },\n    setSignTransactionsError: function setSignTransactionsError(state, action) {\n      state.signTransactionsError = action.payload;\n    }\n  },\n  extraReducers: function extraReducers(builder) {\n    builder.addCase(logoutAction, function () {\n      return initialState$6;\n    });\n    builder.addCase(REHYDRATE, function (state, action) {\n      var _action$payload3;\n\n      if (!((_action$payload3 = action.payload) !== null && _action$payload3 !== void 0 && _action$payload3.transactions)) {\n        return;\n      }\n\n      var signedTransactions = action.payload.transactions.signedTransactions;\n      var parsedSignedTransactions = Object.entries(signedTransactions).reduce(function (acc, _ref) {\n        var sessionId = _ref[0],\n            transaction = _ref[1];\n        var txTimestamp = new Date(sessionId);\n        var expiration = new Date();\n        expiration.setHours(expiration.getHours() + 5);\n        var isExpired = expiration - txTimestamp > 0;\n\n        if (!isExpired) {\n          acc[sessionId] = transaction;\n        }\n\n        return acc;\n      }, {});\n\n      if (signedTransactions != null) {\n        state.signedTransactions = parsedSignedTransactions;\n      }\n    });\n  }\n});\nvar _transactionsSlice$ac = transactionsSlice.actions,\n    updateSignedTransaction = _transactionsSlice$ac.updateSignedTransaction,\n    updateSignedTransactionStatus = _transactionsSlice$ac.updateSignedTransactionStatus,\n    updateSignedTransactions = _transactionsSlice$ac.updateSignedTransactions,\n    setTransactionsToSign = _transactionsSlice$ac.setTransactionsToSign,\n    clearSignTransactions = _transactionsSlice$ac.clearSignTransactions,\n    setSignTransactionsError = _transactionsSlice$ac.setSignTransactionsError;\nvar transactions = transactionsSlice.reducer;\nvar transactionsInfoPersistConfig = {\n  key: 'dapp-core-transactionsInfo',\n  version: 1,\n  storage: sessionStorage$1\n};\nvar transactionsReducer = {\n  key: 'dapp-core-transactions',\n  version: 1,\n  storage: sessionStorage$1,\n  blacklist: ['transactionsToSign']\n};\nvar customReducers = {\n  transactions: persistReducer(transactionsReducer, transactions),\n  transactionsInfo: persistReducer(transactionsInfoPersistConfig, transactionsInfo)\n};\nvar rootReducer = combineReducers(_extends({}, customReducers, {\n  account: account,\n  networkConfig: networkConfig,\n  extraActions: extraActions,\n  loginInfo: loginInfo,\n  modals: modals\n}));\nvar persistConfig = {\n  key: 'dapp-core-store',\n  version: 1,\n  storage: storage$1,\n  whitelist: ['account', 'loginInfo', 'toasts', 'modals']\n};\nvar localStorageReducers = persistReducer(persistConfig, rootReducer);\nvar store = configureStore({\n  reducer: localStorageReducers,\n  middleware: function middleware(getDefaultMiddleware) {\n    return getDefaultMiddleware({\n      serializableCheck: {\n        ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER, 'appConfig/setProvider', 'accountInfoSlice/setAccount', 'accountInfoSlice/setAccountNonce', 'extraActionsSlice/initializeExtraActions'],\n        ignoredPaths: ['networkConfig.proxy', 'networkConfig.apiProvider', 'networkConfig.provider', 'payload.nonce', 'account.account.nonce', 'extraActions.log', 'payload.log', 'payload.onLogin', 'extraActions.getProvider', 'extraActions.init']\n      }\n    }).concat(loginSessionMiddleware);\n  }\n});\nvar persistor = persistStore(store);\n\nvar extraActionsSelector = function extraActionsSelector(state) {\n  return state.extraActions;\n};\n\nvar extraActionsInit = createSelector(extraActionsSelector, function (state) {\n  return state.init;\n});\n\nfunction newTransaction(rawTransaction) {\n  var data = rawTransaction.data;\n  var parsedData = data ? atob(data) : '';\n  return new Transaction(_extends({\n    value: Balance.fromString(rawTransaction.value),\n    data: new TransactionPayload(parsedData),\n    nonce: new Nonce(rawTransaction.nonce),\n    receiver: new Address(rawTransaction.receiver),\n    gasLimit: new GasLimit(rawTransaction.gasLimit),\n    gasPrice: new GasPrice(rawTransaction.gasPrice),\n    chainID: new ChainID(rawTransaction.chainID)\n  }, rawTransaction.version ? {\n    version: new TransactionVersion(rawTransaction.version)\n  } : {}, rawTransaction.options ? {\n    options: new TransactionOptions$1(rawTransaction.options)\n  } : {}));\n}\n\nvar transactionsSelectors = function transactionsSelectors(state) {\n  return state.transactions;\n};\n\nvar signedTransactionsSelector = createDeepEqualSelector(transactionsSelectors, function (state) {\n  return state.signedTransactions;\n});\nvar signTransactionsErrorSelector = createDeepEqualSelector(transactionsSelectors, function (state) {\n  return state.signTransactionsError;\n});\nvar pendingSignedTransactionsSelector = createDeepEqualSelector(signedTransactionsSelector, function (signedTransactions) {\n  return Object.entries(signedTransactions).reduce(function (acc, _ref) {\n    var sessionId = _ref[0],\n        txBody = _ref[1];\n\n    if (getIsTransactionPending(txBody.status)) {\n      acc[sessionId] = txBody;\n    }\n\n    return acc;\n  }, {});\n});\nvar successfulTransactionsSelector = createDeepEqualSelector(signedTransactionsSelector, function (signedTransactions) {\n  return Object.entries(signedTransactions).reduce(function (acc, _ref2) {\n    var sessionId = _ref2[0],\n        txBody = _ref2[1];\n\n    if (getIsTransactionSuccessful(txBody.status)) {\n      acc[sessionId] = txBody;\n    }\n\n    return acc;\n  }, {});\n});\nvar completedTransactionsSelector = createDeepEqualSelector(signedTransactionsSelector, function (signedTransactions) {\n  return Object.entries(signedTransactions).reduce(function (acc, _ref3) {\n    var sessionId = _ref3[0],\n        txBody = _ref3[1];\n\n    if (getIsTransactionCompleted(txBody.status)) {\n      acc[sessionId] = txBody;\n    }\n\n    return acc;\n  }, {});\n});\nvar failedTransactionsSelector = createDeepEqualSelector(signedTransactionsSelector, function (signedTransactions) {\n  return Object.entries(signedTransactions).reduce(function (acc, _ref4) {\n    var sessionId = _ref4[0],\n        txBody = _ref4[1];\n\n    if (getIsTransactionFailed(txBody.status)) {\n      acc[sessionId] = txBody;\n    }\n\n    return acc;\n  }, {});\n});\nvar timedOutTransactionsSelector = createDeepEqualSelector(signedTransactionsSelector, function (signedTransactions) {\n  return Object.entries(signedTransactions).reduce(function (acc, _ref5) {\n    var sessionId = _ref5[0],\n        txBody = _ref5[1];\n\n    if (getIsTransactionTimedOut(txBody.status)) {\n      acc[sessionId] = txBody;\n    }\n\n    return acc;\n  }, {});\n});\nvar transactionsToSignSelector = createDeepEqualSelector(transactionsSelectors, function (state) {\n  var _state$transactionsTo;\n\n  if ((state === null || state === void 0 ? void 0 : state.transactionsToSign) == null) {\n    return null;\n  }\n\n  return _extends({}, state.transactionsToSign, {\n    transactions: (state === null || state === void 0 ? void 0 : (_state$transactionsTo = state.transactionsToSign) === null || _state$transactionsTo === void 0 ? void 0 : _state$transactionsTo.transactions.map(function (tx) {\n      return newTransaction(tx);\n    })) || []\n  });\n});\nvar transactionStatusSelector = createDeepEqualSelector(signedTransactionsSelector, function (_, transactionSessionId) {\n  return transactionSessionId;\n}, function (signedTransactions, transactionSessionId) {\n  return transactionSessionId != null ? (signedTransactions === null || signedTransactions === void 0 ? void 0 : signedTransactions[transactionSessionId]) || {} : {};\n});\nvar defaultTransactionInfo = {\n  errorMessage: defaultTransactionErrorMessage,\n  successMessage: defaultTransactionSuccessMessage,\n  processingMessage: defaultTransactionProcessingMessage\n};\n\nvar transactionsInfoSelectors = function transactionsInfoSelectors(state) {\n  return state.transactionsInfo;\n};\n\nvar transactionDisplayInfoSelector = createDeepEqualSelector(transactionsInfoSelectors, function (_, transactionSessionId) {\n  return transactionSessionId;\n}, function (transactionsDisplayInfo, transactionSessionId) {\n  return transactionSessionId != null ? (transactionsDisplayInfo === null || transactionsDisplayInfo === void 0 ? void 0 : transactionsDisplayInfo[Number(transactionSessionId)]) || defaultTransactionInfo : defaultTransactionInfo;\n});\n\nvar modalsSliceSelector = function modalsSliceSelector(state) {\n  return state.modals;\n};\n\nvar txSubmittedModalSelector = createDeepEqualSelector(modalsSliceSelector, function (state) {\n  return state.txSubmittedModal;\n});\nvar notificationModalSelector = createDeepEqualSelector(modalsSliceSelector, function (state) {\n  return state.notificationModal;\n});\n\nfunction getIsLoggedIn() {\n  return isLoggedInSelector(store.getState());\n}\n\nvar logout = function logout(callbackUrl, onRedirect) {\n  try {\n    var provider = providerSelector(store.getState());\n    var isLoggedIn = getIsLoggedIn();\n\n    if (!isLoggedIn) {\n      return Promise.resolve();\n    }\n\n    store.dispatch(logoutAction());\n\n    var _temp2 = _catch(function () {\n      return Promise.resolve(provider.logout({\n        callbackUrl: callbackUrl\n      })).then(function () {\n        if (callbackUrl) {\n          if (onRedirect) {\n            onRedirect(callbackUrl);\n          } else {\n            window.location.href = callbackUrl;\n          }\n        }\n      });\n    }, function (err) {\n      console.error('error logging out', err);\n    });\n\n    return Promise.resolve(_temp2 && _temp2.then ? _temp2.then(function () {}) : void 0);\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nfunction buildUrlParams$1(search, urlParams) {\n  var urlSearchParams = new URLSearchParams(search);\n  var params = Object.fromEntries(urlSearchParams);\n  var nextUrlParams = new URLSearchParams(_extends({}, params, urlParams)).toString();\n  return {\n    nextUrlParams: nextUrlParams,\n    params: params\n  };\n}\n\nvar _excluded = [\"default\"];\n\nfunction switchTrue(object) {\n  var defaultValue = object[\"default\"],\n      rest = _objectWithoutPropertiesLoose(object, _excluded);\n\n  var obj = _extends({\n    \"default\": defaultValue\n  }, rest);\n\n  var result = Object.keys(obj).reduce(function (acc, cur) {\n    var _extends2;\n\n    return _extends({}, acc, (_extends2 = {}, _extends2[cur === 'default' ? 'true' : cur] = obj[cur], _extends2));\n  }, {});\n  return result['true'];\n}\n\nfunction canTransformToPublicKey(address) {\n  try {\n    var checkAddress = new Address(address);\n    return Boolean(checkAddress.bech32());\n  } catch (_unused) {\n    return false;\n  }\n}\n\nfunction addressIsValid(destinationAddress) {\n  var isValidBach = (destinationAddress === null || destinationAddress === void 0 ? void 0 : destinationAddress.startsWith('erd')) && destinationAddress.length === 62 && /^\\w+$/.test(destinationAddress);\n  return isValidBach && canTransformToPublicKey(destinationAddress);\n}\n\nfunction getNetworkProxy() {\n  return proxySelector(store.getState());\n}\n\nfunction getApiProvider() {\n  return apiProviderSelector(store.getState());\n}\n\nfunction getAccountProvider() {\n  return providerSelector(store.getState());\n}\n\nfunction getAccountProviderType() {\n  var provider = getAccountProvider();\n  return getProviderType(provider);\n}\n\nfunction getChainID() {\n  return chainIDSelector(store.getState());\n}\n\nfunction getNetworkConfig() {\n  return networkSelector(store.getState());\n}\n\nfunction getEgldLabel() {\n  return egldLabelSelector(store.getState());\n}\n\nfunction getIsProviderEqualTo(comparedProviderType) {\n  var providerType = getAccountProviderType();\n  return providerType === comparedProviderType;\n}\n\nfunction getAddress() {\n  var search = window.location.search;\n  var appState = store.getState();\n  var provider = providerSelector(appState);\n  var address = addressSelector(appState);\n  var loggedIn = isLoggedInSelector(appState);\n  var walletLogin = walletLoginSelector(appState);\n\n  if (getIsProviderEqualTo(LoginMethodsEnum.ledger) && loggedIn) {\n    return new Promise(function (resolve) {\n      resolve(address);\n    });\n  }\n\n  return !getIsProviderEqualTo(LoginMethodsEnum.none) && !getIsProviderEqualTo(LoginMethodsEnum.wallet) && !getIsProviderEqualTo(LoginMethodsEnum.extra) ? provider.getAddress() : new Promise(function (resolve) {\n    if (walletLogin != null) {\n      var urlSearchParams = new URLSearchParams(search);\n      var params = Object.fromEntries(urlSearchParams);\n\n      if (addressIsValid(params.address)) {\n        resolve(params.address);\n      }\n    }\n\n    if (loggedIn) {\n      resolve(address);\n    }\n\n    resolve('');\n  });\n}\n\nfunction getAccount(address) {\n  var proxy = proxySelector(store.getState());\n  return proxy.getAccount(new Address(address));\n}\n\nfunction setNonce(nonce) {\n  store.dispatch(setAccountNonce(nonce));\n}\n\nfunction getLatestNonce(account) {\n  var appState = store.getState();\n  var currentAccountNonce = accountNonceSelector(appState);\n  return currentAccountNonce && !isNaN(currentAccountNonce) ? Math.max(currentAccountNonce, account.nonce.valueOf()) : account.nonce.valueOf();\n}\n\nvar getAccountBalance = function getAccountBalance(address) {\n  try {\n    var accountAddress = address;\n\n    if (accountAddress == null) {\n      var account = accountSelector(store.getState());\n      accountAddress = account.address;\n    }\n\n    return Promise.resolve(getAccount(accountAddress)).then(function (account) {\n      return account.balance.toString();\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nvar refreshAccount = function refreshAccount() {\n  try {\n    var _exit4 = false;\n    var provider = providerSelector(store.getState());\n\n    var _temp4 = function () {\n      if (provider.isInitialized()) {\n        var _setNewAccount3 = setNewAccount();\n\n        _exit4 = true;\n        return _setNewAccount3;\n      } else {\n        return _catch(function () {\n          return Promise.resolve(provider.init()).then(function (initialized) {\n            if (!initialized) {\n              _exit4 = true;\n              return;\n            }\n\n            var _setNewAccount2 = setNewAccount();\n\n            _exit4 = true;\n            return _setNewAccount2;\n          });\n        }, function (e) {\n          console.error('Failed initializing provider ', e);\n        });\n      }\n    }();\n\n    return Promise.resolve(_temp4 && _temp4.then ? _temp4.then(function (_result4) {\n      return _exit4 ? _result4 : undefined;\n    }) : _exit4 ? _temp4 : undefined);\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nvar setNewAccount = function setNewAccount() {\n  try {\n    var _exit2 = false;\n\n    var _temp2 = _catch(function () {\n      return Promise.resolve(getAddress()).then(function (address) {\n        return _catch(function () {\n          return Promise.resolve(getAccount(address)).then(function (account) {\n            var accountData = {\n              balance: account.balance.toString(),\n              address: address,\n              nonce: getLatestNonce(account)\n            };\n            store.dispatch(setAccount(accountData));\n            _exit2 = true;\n            return accountData;\n          });\n        }, function (e) {\n          console.error('Failed getting account ', e);\n        });\n      });\n    }, function (e) {\n      console.error('Failed getting address ', e);\n    });\n\n    return Promise.resolve(_temp2 && _temp2.then ? _temp2.then(function (_result) {\n      return _exit2 ? _result : null;\n    }) : _exit2 ? _temp2 : null);\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nvar isAddressOfMetachain = function isAddressOfMetachain(pubKey) {\n  var metachainPrefix = Buffer.from([0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);\n  var pubKeyPrefix = pubKey.slice(0, metachainPrefix.length);\n\n  if (pubKeyPrefix.equals(metachainPrefix)) {\n    return true;\n  }\n\n  var zeroAddress = Buffer.alloc(32).fill(0);\n  return pubKey.equals(zeroAddress);\n};\n\nvar getShardOfAddress = function getShardOfAddress(hexPubKey) {\n  try {\n    var numShards = 3;\n    var maskHigh = parseInt('11', 2);\n    var maskLow = parseInt('01', 2);\n    var pubKey = Buffer.from(hexPubKey, 'hex');\n    var lastByteOfPubKey = pubKey[31];\n\n    if (isAddressOfMetachain(pubKey)) {\n      return 4294967295;\n    }\n\n    var shard = lastByteOfPubKey & maskHigh;\n\n    if (shard > numShards - 1) {\n      shard = lastByteOfPubKey & maskLow;\n    }\n\n    return shard;\n  } catch (err) {\n    return -1;\n  }\n};\n\nvar logarithmicRest = function logarithmicRest(position) {\n  var minp = 0;\n  var maxp = 10;\n  var minv = Math.log(0.005);\n  var maxv = Math.log(2);\n  var scale = (maxv - minv) / (maxp - minp);\n  return Math.exp(minv + scale * (position - minp));\n};\n\nvar ledgerErrorCodes = {\n  0x9000: {\n    code: 'codeSuccess',\n    message: 'Success'\n  },\n  0x6985: {\n    code: 'ERR_USER_DENIED',\n    message: 'Rejected by user'\n  },\n  0x6d00: {\n    code: 'ERR_UNKNOWN_INSTRUCTION',\n    message: 'Unknown instruction'\n  },\n  0x6e00: {\n    code: 'ERR_WRONG_CLA',\n    message: 'Wrong CLA'\n  },\n  0x6e01: {\n    code: 'ERR_INVALID_ARGUMENTS',\n    message: 'Invalid arguments'\n  },\n  0x6e02: {\n    code: 'ERR_INVALID_MESSAGE',\n    message: 'Invalid message'\n  },\n  0x6e03: {\n    code: 'ERR_INVALID_P1',\n    message: 'Invalid P1'\n  },\n  0x6e04: {\n    code: 'ERR_MESSAGE_TOO_LONG',\n    message: 'Message too long'\n  },\n  0x6e05: {\n    code: 'ERR_RECEIVER_TOO_LONG',\n    message: 'Receiver too long'\n  },\n  0x6e06: {\n    code: 'ERR_AMOUNT_TOO_LONG',\n    message: 'Amount too long'\n  },\n  0x6e07: {\n    code: 'ERR_CONTRACT_DATA_DISABLED',\n    message: 'Contract data disabled in app options'\n  },\n  0x6e08: {\n    code: 'ERR_MESSAGE_INCOMPLETE',\n    message: 'Message incomplete'\n  },\n  0x6e10: {\n    code: 'ERR_SIGNATURE_FAILED',\n    message: 'Signature failed'\n  },\n  0x6e09: {\n    code: 'ERR_WRONG_TX_VERSION',\n    message: 'Wrong TX version'\n  },\n  0x6e0a: {\n    code: 'ERR_NONCE_TOO_LONG',\n    message: 'Nonce too long'\n  },\n  0x6e0b: {\n    code: 'ERR_INVALID_AMOUNT',\n    message: 'Invalid amount'\n  },\n  0x6e0c: {\n    code: 'ERR_INVALID_FEE',\n    message: 'Invalid fee'\n  },\n  0x6e0d: {\n    code: 'ERR_PRETTY_FAILED',\n    message: 'Pretty failed'\n  },\n  0x6e0e: {\n    code: 'ERR_DATA_TOO_LONG',\n    message: 'Data too long'\n  },\n  0x6e0f: {\n    code: 'ERR_WRONG_TX_OPTIONS',\n    message: 'Invalid transaction options'\n  },\n  0x6e11: {\n    code: 'ERR_SIGN_TX_DEPRECATED',\n    message: 'Regular transaction signing is deprecated in this version. Use hash signing.'\n  }\n};\nvar ledgerErrorCodes$1 = {\n  __proto__: null,\n  'default': ledgerErrorCodes\n};\nvar DEFAULT_MIN_GAS_LIMIT = 50000;\nvar configEndpoint = {\n  mainnet: 'https://api.elrond.com/dapp/config',\n  testnet: 'https://testnet-api.elrond.com/dapp/config',\n  devnet: 'https://devnet-api.elrond.com/dapp/config'\n};\nvar fallbackConfigurations = {\n  devnet: {\n    id: 'devnet',\n    name: 'Devnet',\n    egldLabel: 'xEGLD',\n    egldDenomination: '18',\n    decimals: '4',\n    gasPerDataByte: '1500',\n    walletConnectDeepLink: 'https://maiar.page.link/?apn=com.elrond.maiar.wallet&isi=1519405832&ibi=com.elrond.maiar.wallet&link=https://maiar.com/',\n    walletConnectBridgeAddresses: ['https://bridge.walletconnect.org'],\n    walletAddress: 'https://devnet-wallet.elrond.com',\n    apiAddress: 'https://devnet-api.elrond.com',\n    explorerAddress: 'http://devnet-explorer.elrond.com',\n    apiTimeout: '4000'\n  },\n  testnet: {\n    id: 'testnet',\n    name: 'Testnet',\n    egldLabel: 'xEGLD',\n    egldDenomination: '18',\n    decimals: '4',\n    gasPerDataByte: '1500',\n    walletConnectDeepLink: 'https://maiar.page.link/?apn=com.elrond.maiar.wallet&isi=1519405832&ibi=com.elrond.maiar.wallet&link=https://maiar.com/',\n    walletConnectBridgeAddresses: ['https://bridge.walletconnect.org'],\n    walletAddress: 'https://testnet-wallet.elrond.com',\n    apiAddress: 'https://testnet-api.elrond.com',\n    explorerAddress: 'http://testnet-explorer.elrond.com',\n    apiTimeout: '4000'\n  },\n  mainnet: {\n    id: 'mainnet',\n    name: 'Mainnet',\n    egldLabel: 'xEGLD',\n    egldDenomination: '18',\n    decimals: '4',\n    gasPerDataByte: '1500',\n    walletConnectDeepLink: 'https://maiar.page.link/?apn=com.elrond.maiar.wallet&isi=1519405832&ibi=com.elrond.maiar.wallet&link=https://maiar.com/',\n    walletConnectBridgeAddresses: ['https://bridge.walletconnect.org'],\n    walletAddress: 'https://wallet.elrond.com',\n    apiAddress: 'https://api.elrond.com',\n    explorerAddress: 'https://explorer.elrond.com',\n    apiTimeout: '4000'\n  }\n};\nvar gasPriceModifier = '0.01';\nvar gasPerDataByte = '1500';\nvar defaultGasPrice = 1000000000;\nvar defaultGasLimit = 60000000;\nvar denomination = 18;\nvar decimals = 4;\nvar dappInitRoute = '/dapp/init';\nvar walletSignSession = 'signSession';\n\nfunction pipe(previous) {\n  return {\n    \"if\": function _if(condition) {\n      if (condition) {\n        return {\n          then: function then(newValue) {\n            return newValue instanceof Function ? pipe(newValue(previous)) : pipe(newValue);\n          }\n        };\n      } else {\n        return {\n          then: function then() {\n            return pipe(previous);\n          }\n        };\n      }\n    },\n    then: function then(newValue) {\n      return newValue instanceof Function ? pipe(newValue(previous)) : pipe(newValue);\n    },\n    valueOf: function valueOf() {\n      return previous;\n    }\n  };\n}\n\nBigNumber.config({\n  ROUNDING_MODE: BigNumber.ROUND_FLOOR\n});\n\nfunction denominate(_ref) {\n  var input = _ref.input,\n      _ref$denomination = _ref.denomination,\n      denomination$1 = _ref$denomination === void 0 ? denomination : _ref$denomination,\n      _ref$decimals = _ref.decimals,\n      decimals$1 = _ref$decimals === void 0 ? decimals : _ref$decimals,\n      _ref$showLastNonZeroD = _ref.showLastNonZeroDecimal,\n      showLastNonZeroDecimal = _ref$showLastNonZeroD === void 0 ? true : _ref$showLastNonZeroD,\n      _ref$addCommas = _ref.addCommas,\n      addCommas = _ref$addCommas === void 0 ? false : _ref$addCommas;\n  var token = new Token({\n    decimals: denomination$1\n  });\n\n  if (typeof input === 'string' && !validation.stringIsInteger(input, false)) {\n    throw new Error('Invalid input');\n  }\n\n  return pipe(input)[\"if\"](typeof input === 'string').then(function () {\n    return new Balance(token, 0, new BigNumber(input)).toDenominated();\n  })[\"if\"](input.constructor === Balance).then(function () {\n    return input.toDenominated();\n  }).then(function (current) {\n    var bnBalance = new BigNumber(current);\n\n    if (bnBalance.isZero()) {\n      return '0';\n    }\n\n    var balance = bnBalance.toString(10);\n\n    var _balance$split = balance.split('.'),\n        integerPart = _balance$split[0],\n        decimalPart = _balance$split[1];\n\n    var bNdecimalPart = new BigNumber(decimalPart || 0);\n    var decimalPlaces = pipe(0)[\"if\"](Boolean(decimalPart && showLastNonZeroDecimal)).then(function () {\n      return Math.max(decimalPart.length, decimals$1);\n    })[\"if\"](bNdecimalPart.isZero() && !showLastNonZeroDecimal).then(0)[\"if\"](Boolean(decimalPart && !showLastNonZeroDecimal)).then(function () {\n      return Math.min(decimalPart.length, decimals$1);\n    }).valueOf();\n    var shownDecimalsAreZero = decimalPart && decimals$1 >= 1 && decimals$1 <= decimalPart.length && bNdecimalPart.isGreaterThan(0) && new BigNumber(decimalPart.substring(0, decimals$1)).isZero();\n    var formatted = bnBalance.toFormat(decimalPlaces);\n    var formattedBalance = pipe(balance)[\"if\"](addCommas).then(formatted)[\"if\"](Boolean(shownDecimalsAreZero) && !showLastNonZeroDecimal).then(function (current) {\n      var integerPartZero = new BigNumber(integerPart).isZero();\n\n      var _current$split = current.split('.'),\n          numericPart = _current$split[0];\n\n      var zeroPlaceholders = new Array(decimals$1 - 1).fill(0);\n      var zeros = [].concat(zeroPlaceholders, [0]).join('');\n      var minAmount = [].concat(zeroPlaceholders, [1]).join('');\n\n      if (integerPartZero) {\n        return \"<\" + numericPart + \".\" + minAmount;\n      } else {\n        return numericPart + \".\" + zeros;\n      }\n    }).valueOf();\n    return formattedBalance;\n  }).valueOf();\n}\n\nfunction nominate(input, customDenomination) {\n  var balance = createBalanceBuilder(new Token$1({\n    decimals: customDenomination || denomination,\n    type: TokenType.Fungible\n  }));\n  return balance(input).toString();\n}\n\nvar classnames = {};\n\ntry {\n  classnames = require('classnames');\n} catch (err) {}\n\nvar classnames$1 = classnames;\n\nfunction getGeneratedClasses(className, shouldRenderDefaultCss, defaultStyles) {\n  return Object.entries(defaultStyles).reduce(function (acc, _ref) {\n    var key = _ref[0],\n        defaultClassNames = _ref[1];\n    acc[key] = classnames$1 === null || classnames$1 === void 0 ? void 0 : classnames$1(className + \"_\" + key, shouldRenderDefaultCss && defaultClassNames);\n    return acc;\n  }, {});\n}\n\nvar wrapperClassName = 'dapp-core-ui-component';\nvar moment = {};\n\ntry {\n  moment = require('moment');\n} catch (err) {}\n\nvar moment$1 = moment;\n\nvar setItem = function setItem(_ref) {\n  var key = _ref.key,\n      data = _ref.data,\n      expires = _ref.expires;\n  sessionStorage.setItem(String(key), JSON.stringify({\n    expires: expires,\n    data: data\n  }));\n};\n\nvar getItem = function getItem(key) {\n  var item = sessionStorage.getItem(String(key));\n\n  if (!item) {\n    return null;\n  }\n\n  var deserializedItem = JSON.parse(item);\n\n  if (!deserializedItem) {\n    return null;\n  }\n\n  if (!deserializedItem.hasOwnProperty('expires') || !deserializedItem.hasOwnProperty('data')) {\n    return null;\n  }\n\n  var expired = moment$1().unix() >= deserializedItem.expires;\n\n  if (expired) {\n    sessionStorage.removeItem(String(key));\n    return null;\n  }\n\n  return deserializedItem.data;\n};\n\nvar removeItem = function removeItem(key) {\n  return sessionStorage.removeItem(String(key));\n};\n\nvar clear = function clear() {\n  return sessionStorage.clear();\n};\n\nvar storage = {\n  setItem: setItem,\n  getItem: getItem,\n  removeItem: removeItem,\n  clear: clear\n};\nvar defaultContextValue = null;\nvar DappCoreContext = React__default.createContext(defaultContextValue);\nvar useStore = createStoreHook(DappCoreContext);\nvar useDispatch = createDispatchHook(DappCoreContext);\nvar useSelector = createSelectorHook(DappCoreContext);\n\nvar useExtensionLogin = function useExtensionLogin(_ref) {\n  var initiateLogin = function initiateLogin() {\n    try {\n      setIsLoading(true);\n      var provider = ExtensionProvider.getInstance();\n      return Promise.resolve(_finallyRethrows(function () {\n        return _catch(function () {\n          return Promise.resolve(provider.init()).then(function (isSuccessfullyInitialized) {\n            if (!isSuccessfullyInitialized) {\n              console.warn('Something went wrong trying to redirect to wallet login..');\n              return;\n            }\n\n            var callbackUrl = encodeURIComponent(\"\" + window.location.origin + callbackRoute);\n\n            var providerLoginData = _extends({\n              callbackUrl: callbackUrl\n            }, token && {\n              token: token\n            });\n\n            return Promise.resolve(provider.login(providerLoginData)).then(function () {\n              dispatch(setProvider(provider));\n              var _provider$account = provider.account,\n                  signature = _provider$account.signature,\n                  address = _provider$account.address;\n\n              if (signature) {\n                dispatch(setTokenLogin({\n                  loginToken: String(token),\n                  signature: signature\n                }));\n              }\n\n              dispatch(loginAction({\n                address: address,\n                loginMethod: LoginMethodsEnum.extension\n              }));\n              optionalRedirect(callbackRoute, redirectAfterLogin);\n            });\n          });\n        }, function (error) {\n          console.error('error loging in', error);\n          setError('error logging in' + error.message);\n        });\n      }, function (_wasThrown, _result) {\n        setIsLoading(false);\n        if (_wasThrown) throw _result;\n        return _result;\n      }));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var callbackRoute = _ref.callbackRoute,\n      token = _ref.token,\n      _ref$redirectAfterLog = _ref.redirectAfterLogin,\n      redirectAfterLogin = _ref$redirectAfterLog === void 0 ? false : _ref$redirectAfterLog;\n\n  var _useState = useState(''),\n      error = _useState[0],\n      setError = _useState[1];\n\n  var _useState2 = useState(false),\n      isLoading = _useState2[0],\n      setIsLoading = _useState2[1];\n\n  var isLoggedIn = useSelector(isLoggedInSelector);\n  var dispatch = useDispatch();\n  var loginFailed = Boolean(error);\n  return [initiateLogin, {\n    loginFailed: loginFailed,\n    error: error,\n    isLoading: isLoading && !loginFailed,\n    isLoggedIn: isLoggedIn && !loginFailed\n  }];\n};\n\nvar useWebWalletLogin = function useWebWalletLogin(_ref) {\n  var initiateLogin = function initiateLogin() {\n    try {\n      var _temp2 = _finallyRethrows(function () {\n        return _catch(function () {\n          setIsLoading(true);\n          var appState = store.getState();\n          var network = networkSelector(appState);\n          var provider = newWalletProvider(network.walletAddress);\n          var now = new Date();\n          var expires = now.setMinutes(now.getMinutes() + 3) / 1000;\n          var walletLoginData = {\n            data: {},\n            expires: expires\n          };\n          store.dispatch(setWalletLogin(walletLoginData));\n          var callbackUrl = encodeURIComponent(\"\" + window.location.origin + callbackRoute);\n\n          var loginData = _extends({\n            callbackUrl: callbackUrl\n          }, token && {\n            token: token\n          });\n\n          return Promise.resolve(provider.login(loginData)).then(function () {});\n        }, function (error) {\n          console.error(error);\n          setError('error logging in' + error.message);\n        });\n      }, function (_wasThrown, _result) {\n        setIsLoading(false);\n        if (_wasThrown) throw _result;\n        return _result;\n      });\n\n      return Promise.resolve(_temp2 && _temp2.then ? _temp2.then(function () {}) : void 0);\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var callbackRoute = _ref.callbackRoute,\n      token = _ref.token;\n\n  var _useState = useState(''),\n      error = _useState[0],\n      setError = _useState[1];\n\n  var _useState2 = useState(false),\n      isLoading = _useState2[0],\n      setIsLoading = _useState2[1];\n\n  var isLoggedIn = useSelector(isLoggedInSelector);\n  var loginFailed = error != null;\n  return [initiateLogin, {\n    error: error,\n    loginFailed: loginFailed,\n    isLoading: isLoading && !loginFailed,\n    isLoggedIn: isLoggedIn && !loginFailed\n  }];\n};\n\nvar ledgerAppErrorText = 'Check if Elrond app is open on Ledger';\nvar failInitializeErrorText = 'Could not initialise ledger app, make sure Elrond app is open';\nvar defaultAddressesPerPage = 10;\n\nfunction useLedgerLogin(_ref) {\n  var onStartLogin = function onStartLogin() {\n    try {\n      setError('');\n      return Promise.resolve(_finallyRethrows(function () {\n        return _catch(function () {\n          setIsLoading(true);\n          return function () {\n            if (ledgerAccount != null) {\n              var _hwWalletP = new HWProvider(proxy);\n\n              return Promise.resolve(_hwWalletP.init()).then(function (initialized) {\n                if (!initialized) {\n                  console.warn(failInitializeErrorText);\n                  return;\n                }\n\n                return Promise.resolve(_hwWalletP.login()).then(function (address) {\n                  dispatch(setProvider(_hwWalletP));\n                  dispatch(loginAction({\n                    address: address,\n                    loginMethod: LoginMethodsEnum.ledger\n                  }));\n                  optionalRedirect(callbackRoute, redirectAfterLogin);\n                });\n              });\n            } else {\n              var _temp6 = function () {\n                if ((accounts === null || accounts === void 0 ? void 0 : accounts.length) > 0) {\n                  setShowAddressList(true);\n                } else {\n                  return Promise.resolve(fetchAccounts()).then(function () {\n                    setShowAddressList(true);\n                  });\n                }\n              }();\n\n              if (_temp6 && _temp6.then) return _temp6.then(function () {});\n            }\n          }();\n        }, function (error) {\n          console.error('error ', error);\n          setError(ledgerAppErrorText);\n        });\n      }, function (_wasThrown2, _result4) {\n        setIsLoading(false);\n        if (_wasThrown2) throw _result4;\n        return _result4;\n      }));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var fetchAccounts = function fetchAccounts() {\n    try {\n      return Promise.resolve(_catch(function () {\n        setIsLoading(true);\n        return Promise.resolve(hwWalletP.init()).then(function (initialized) {\n          if (!initialized) {\n            setError(failInitializeErrorText);\n            console.warn(failInitializeErrorText);\n            setIsLoading(false);\n            return;\n          }\n\n          return Promise.resolve(hwWalletP.getAccounts(startIndex, addressesPerPage)).then(function (accounts) {\n            setAccounts(accounts);\n            setIsLoading(false);\n          });\n        });\n      }, function (err) {\n        if (err.statusCode in ledgerErrorCodes$1) {\n          setError(ledgerErrorCodes$1[err.statusCode].message);\n        } else {\n          setError(ledgerAppErrorText);\n        }\n\n        console.error('error', err);\n        setIsLoading(false);\n      }));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var onConfirmSelectedAddress = function onConfirmSelectedAddress() {\n    try {\n      var _temp3 = function _temp3(_result) {\n        if (_exit2) return _result;\n        setShowAddressList(false);\n        return true;\n      };\n\n      var _exit2 = false;\n\n      var _temp4 = _finallyRethrows(function () {\n        return _catch(function () {\n          setIsLoading(true);\n\n          if (selectedAddress == null) {\n            _exit2 = true;\n            return false;\n          }\n\n          var address = selectedAddress.address,\n              index = selectedAddress.index;\n          dispatch(setLedgerAccount({\n            index: index,\n            address: address\n          }));\n          var hwWalletProvider = new HWProvider(proxy);\n          return Promise.resolve(hwWalletProvider.init()).then(function (initialized) {\n            if (!initialized) {\n              setError(failInitializeErrorText);\n              console.warn(failInitializeErrorText);\n              _exit2 = true;\n              return false;\n            }\n\n            setIsLoading(false);\n            return Promise.resolve(loginUser(hwWalletProvider)).then(function () {});\n          });\n        }, function (err) {\n          if (err.statusCode in ledgerErrorCodes$1) {\n            setError(ledgerErrorCodes$1[err.statusCode].message);\n          }\n\n          console.warn(failInitializeErrorText, err);\n        });\n      }, function (_wasThrown, _result) {\n        setIsLoading(false);\n        if (_wasThrown) throw _result;\n        return _result;\n      });\n\n      return Promise.resolve(_temp4 && _temp4.then ? _temp4.then(_temp3) : _temp3(_temp4));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var loginUser = function loginUser(hwWalletProvider) {\n    try {\n      var _exit4 = false;\n\n      if (selectedAddress == null) {\n        return Promise.resolve(false);\n      }\n\n      var index = selectedAddress.index;\n\n      var _temp9 = function () {\n        if (token) {\n          var _temp10 = _catch(function () {\n            return Promise.resolve(hwWalletProvider.tokenLogin({\n              token: Buffer.from(token + \"{}\"),\n              addressIndex: index\n            })).then(function (loginInfo) {\n              dispatchLoginActions({\n                address: loginInfo.address,\n                provider: hwWalletProvider,\n                index: index,\n                signature: loginInfo.signature.hex()\n              });\n            });\n          }, function (err) {\n            onLoginFailed(err, '. Update Elrond App to continue.');\n          });\n\n          if (_temp10 && _temp10.then) return _temp10.then(function () {});\n        } else {\n          return _catch(function () {\n            return Promise.resolve(hwWalletProvider.login({\n              addressIndex: index\n            })).then(function (address) {\n              dispatchLoginActions({\n                address: address,\n                provider: hwWalletProvider,\n                index: index\n              });\n            });\n          }, function (err) {\n            onLoginFailed(err);\n            _exit4 = true;\n            return false;\n          });\n        }\n      }();\n\n      return Promise.resolve(_temp9 && _temp9.then ? _temp9.then(function (_result5) {\n        return _exit4 ? _result5 : true;\n      }) : _exit4 ? _temp9 : true);\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var callbackRoute = _ref.callbackRoute,\n      token = _ref.token,\n      _ref$addressesPerPage = _ref.addressesPerPage,\n      addressesPerPage = _ref$addressesPerPage === void 0 ? defaultAddressesPerPage : _ref$addressesPerPage,\n      _ref$redirectAfterLog = _ref.redirectAfterLogin,\n      redirectAfterLogin = _ref$redirectAfterLog === void 0 ? false : _ref$redirectAfterLog;\n  var ledgerAccount = useSelector(ledgerAccountSelector);\n  var isLoggedIn = useSelector(isLoggedInSelector);\n  var proxy = useSelector(proxySelector);\n  var dispatch = useDispatch();\n\n  var _React$useState = React__default.useState(''),\n      error = _React$useState[0],\n      setError = _React$useState[1];\n\n  var _React$useState2 = React__default.useState(false),\n      isLoading = _React$useState2[0],\n      setIsLoading = _React$useState2[1];\n\n  var hwWalletP = new HWProvider(proxy);\n\n  var _React$useState3 = React__default.useState(0),\n      startIndex = _React$useState3[0],\n      setStartIndex = _React$useState3[1];\n\n  var _React$useState4 = React__default.useState([]),\n      accounts = _React$useState4[0],\n      setAccounts = _React$useState4[1];\n\n  var _React$useState5 = React__default.useState(null),\n      selectedAddress = _React$useState5[0],\n      setSelectedAddress = _React$useState5[1];\n\n  var _React$useState6 = React__default.useState(false),\n      showAddressList = _React$useState6[0],\n      setShowAddressList = _React$useState6[1];\n\n  function dispatchLoginActions(_ref2) {\n    var provider = _ref2.provider,\n        address = _ref2.address,\n        index = _ref2.index,\n        signature = _ref2.signature;\n    dispatch(setProvider(provider));\n    dispatch(setLedgerLogin({\n      index: index,\n      loginType: LoginMethodsEnum.ledger\n    }));\n\n    if (signature) {\n      dispatch(setTokenLogin({\n        loginToken: String(token),\n        signature: signature\n      }));\n    }\n\n    dispatch(loginAction({\n      address: address,\n      loginMethod: LoginMethodsEnum.ledger\n    }));\n    optionalRedirect(callbackRoute, redirectAfterLogin);\n  }\n\n  var onLoginFailed = function onLoginFailed(err, customMessage) {\n    if (err.statusCode in ledgerErrorCodes$1) {\n      setError(ledgerErrorCodes$1[err.statusCode].message + customMessage);\n    }\n\n    setIsLoading(false);\n    console.warn(err);\n    dispatch(setLedgerAccount(null));\n  };\n\n  function onSelectAddress(newSelectedAddress) {\n    setSelectedAddress(newSelectedAddress);\n  }\n\n  function onGoToNextPage() {\n    setSelectedAddress(null);\n    setStartIndex(function (current) {\n      return current + 1;\n    });\n  }\n\n  function onGoToPrevPage() {\n    setSelectedAddress(null);\n    setStartIndex(function (current) {\n      return current === 0 ? 0 : current - 1;\n    });\n  }\n\n  React__default.useEffect(function () {\n    fetchAccounts();\n  }, [startIndex]);\n  var loginFailed = Boolean(error);\n  return [onStartLogin, {\n    loginFailed: loginFailed,\n    isLoggedIn: isLoggedIn && !loginFailed,\n    error: error,\n    isLoading: isLoading && !loginFailed\n  }, {\n    accounts: accounts,\n    showAddressList: showAddressList,\n    startIndex: startIndex,\n    selectedAddress: selectedAddress,\n    onGoToPrevPage: onGoToPrevPage,\n    onGoToNextPage: onGoToNextPage,\n    onSelectAddress: onSelectAddress,\n    onConfirmSelectedAddress: onConfirmSelectedAddress\n  }];\n}\n\nfunction useUpdateEffect(effect, dependencies) {\n  if (dependencies === void 0) {\n    dependencies = [];\n  }\n\n  var isInitialMount = useRef(true);\n  useEffect(function () {\n    if (isInitialMount.current) {\n      isInitialMount.current = false;\n    } else {\n      effect();\n    }\n  }, dependencies);\n}\n\nvar useWalletConnectLogin = function useWalletConnectLogin(_ref) {\n  var generateWcUri = function generateWcUri() {\n    try {\n      var _providerRef$current2;\n\n      if (!walletConnectBridgeAddress) {\n        return Promise.resolve();\n      }\n\n      return Promise.resolve((_providerRef$current2 = providerRef.current) === null || _providerRef$current2 === void 0 ? void 0 : _providerRef$current2.login()).then(function (walletConnectUri) {\n        var hasUri = Boolean(walletConnectUri);\n\n        if (!hasUri) {\n          return;\n        }\n\n        if (!token) {\n          setWcUri(walletConnectUri);\n          return;\n        }\n\n        var wcUriWithToken = walletConnectUri + \"&token=\" + token;\n        setWcUri(wcUriWithToken);\n        dispatch(setTokenLogin({\n          loginToken: token\n        }));\n      });\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var initiateLogin = function initiateLogin(loginProvider) {\n    if (loginProvider === void 0) {\n      loginProvider = true;\n    }\n\n    try {\n      var _providerRef$current, _providerRef$current$;\n\n      if (!walletConnectBridgeAddress || providerRef !== null && providerRef !== void 0 && (_providerRef$current = providerRef.current) !== null && _providerRef$current !== void 0 && (_providerRef$current$ = _providerRef$current.isInitialized) !== null && _providerRef$current$ !== void 0 && _providerRef$current$.call(_providerRef$current)) {\n        return Promise.resolve();\n      }\n\n      var providerHandlers = {\n        onClientLogin: handleOnLogin,\n        onClientLogout: handleOnLogout\n      };\n      var newProvider = new WalletConnectProvider(proxy, walletConnectBridgeAddress, providerHandlers);\n      return Promise.resolve(newProvider.init()).then(function () {\n        dispatch(setProvider(newProvider));\n        providerRef.current = newProvider;\n\n        if (loginProvider) {\n          generateWcUri();\n        }\n      });\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var handleOnLogin = function handleOnLogin() {\n    try {\n      return Promise.resolve(_catch(function () {\n        var provider = providerRef.current;\n\n        if (isLoggedIn) {\n          return;\n        }\n\n        if (provider == null) {\n          return;\n        }\n\n        return Promise.resolve(provider.getAddress()).then(function (address) {\n          return Promise.resolve(provider.getSignature()).then(function (signature) {\n            var hasSignature = Boolean(signature);\n            var loginActionData = {\n              address: address,\n              loginMethod: LoginMethodsEnum.walletconnect\n            };\n            var loginData = {\n              logoutRoute: logoutRoute,\n              loginType: 'walletConnect',\n              callbackRoute: callbackRoute\n            };\n\n            if (hasSignature) {\n              dispatch(setWalletConnectLogin(loginData));\n              dispatch(setTokenLoginSignature(signature));\n            } else {\n              dispatch(setWalletConnectLogin(loginData));\n            }\n\n            dispatch(loginAction(loginActionData));\n            provider.walletConnector.on('heartbeat', function () {\n              clearInterval(heartbeatDisconnectInterval);\n              heartbeatDisconnectInterval = setInterval(function () {\n                console.log('Maiar Wallet Connection Lost');\n                handleOnLogout();\n                clearInterval(heartbeatDisconnectInterval);\n              }, 150000);\n            });\n            optionalRedirect(callbackRoute, redirectAfterLogin);\n          });\n        });\n      }, function (err) {\n        setError('Invalid address');\n        console.error(err);\n      }));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var handleHeartbeat = function handleHeartbeat() {\n    try {\n      var _providerRef$current3, _providerRef$current4;\n\n      var isProviderConnected = Boolean((_providerRef$current3 = providerRef.current) === null || _providerRef$current3 === void 0 ? void 0 : (_providerRef$current4 = _providerRef$current3.walletConnector) === null || _providerRef$current4 === void 0 ? void 0 : _providerRef$current4.connected);\n\n      if (!isProviderConnected) {\n        return Promise.resolve();\n      }\n\n      var customMessage = {\n        method: 'heartbeat',\n        params: {}\n      };\n\n      var _temp2 = _catch(function () {\n        return Promise.resolve(providerRef.current.sendCustomMessage(customMessage)).then(function () {});\n      }, function (error) {\n        console.error('Connection lost', error);\n        handleOnLogout();\n      });\n\n      return Promise.resolve(_temp2 && _temp2.then ? _temp2.then(function () {}) : void 0);\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var callbackRoute = _ref.callbackRoute,\n      logoutRoute = _ref.logoutRoute,\n      token = _ref.token,\n      _ref$redirectAfterLog = _ref.redirectAfterLogin,\n      redirectAfterLogin = _ref$redirectAfterLog === void 0 ? false : _ref$redirectAfterLog;\n  var dispatch = useDispatch();\n  var heartbeatInterval = 15000;\n\n  var _useState = useState(''),\n      error = _useState[0],\n      setError = _useState[1];\n\n  var _useState2 = useState(''),\n      wcUri = _useState2[0],\n      setWcUri = _useState2[1];\n\n  var proxy = useSelector(proxySelector);\n  var provider = useSelector(providerSelector);\n  var walletConnectBridgeAddress = useSelector(walletConnectBridgeAddressSelector);\n  var walletConnectDeepLink = useSelector(walletConnectDeepLinkSelector);\n  var isLoggedIn = useSelector(isLoggedInSelector);\n  var providerRef = useRef(provider);\n  var heartbeatDisconnectInterval;\n  var hasWcUri = Boolean(wcUri);\n  var isLoading = !hasWcUri;\n  var uriDeepLink = hasWcUri ? walletConnectDeepLink + \"?wallet-connect=\" + encodeURIComponent(wcUri) : null;\n  useEffect(function () {\n    handleHeartbeat();\n    var interval = setInterval(function () {\n      handleHeartbeat();\n    }, heartbeatInterval);\n    return function () {\n      return clearInterval(interval);\n    };\n  }, [provider]);\n  useUpdateEffect(function () {\n    generateWcUri();\n  }, [token]);\n  useUpdateEffect(function () {\n    providerRef.current = provider;\n  }, [provider]);\n\n  var handleOnLogout = function handleOnLogout() {\n    logout(callbackRoute);\n  };\n\n  var loginFailed = error != null;\n  return [initiateLogin, {\n    error: error,\n    loginFailed: loginFailed,\n    isLoading: isLoading && !loginFailed,\n    isLoggedIn: isLoggedIn && !loginFailed\n  }, {\n    uriDeepLink: uriDeepLink,\n    walletConnectUri: wcUri\n  }];\n};\n\nvar index = {\n  __proto__: null,\n  useExtensionLogin: useExtensionLogin,\n  useWebWalletLogin: useWebWalletLogin,\n  useLedgerLogin: useLedgerLogin,\n  useWalletConnectLogin: useWalletConnectLogin\n};\n\nfunction calcTotalFee(transactions, minGasLimit) {\n  var totalFee = new BigNumber(0);\n  transactions.forEach(function (tx) {\n    var fee = operations.calculateFeeLimit({\n      gasPerDataByte: gasPerDataByte,\n      gasPriceModifier: gasPriceModifier,\n      minGasLimit: String(minGasLimit),\n      gasLimit: tx.getGasLimit().valueOf().toString(),\n      gasPrice: tx.getGasPrice().valueOf().toString(),\n      data: tx.getData().toString(),\n      chainId: tx.getChainID().valueOf()\n    });\n    totalFee = totalFee.plus(new BigNumber(fee));\n  });\n  return totalFee;\n}\n\nfunction signTransactions(_ref) {\n  var transactions = _ref.transactions,\n      _ref$callbackRoute = _ref.callbackRoute,\n      callbackRoute = _ref$callbackRoute === void 0 ? window.location.pathname : _ref$callbackRoute,\n      _ref$redirectAfterSig = _ref.redirectAfterSign,\n      redirectAfterSign = _ref$redirectAfterSig === void 0 ? true : _ref$redirectAfterSig,\n      sessionInformation = _ref.sessionInformation,\n      _ref$minGasLimit = _ref.minGasLimit,\n      minGasLimit = _ref$minGasLimit === void 0 ? DEFAULT_MIN_GAS_LIMIT : _ref$minGasLimit,\n      transactionsDisplayInfo = _ref.transactionsDisplayInfo;\n  var appState = store.getState();\n  var sessionId = Date.now().toString();\n  var accountBalance = accountBalanceSelector(appState);\n  var storeChainId = chainIDSelector(appState);\n  var transactionsPayload = Array.isArray(transactions) ? transactions : [transactions];\n  var bNtotalFee = calcTotalFee(transactionsPayload, minGasLimit);\n  var bNbalance = new BigNumber(validation.stringIsFloat(accountBalance) ? accountBalance : '0');\n  var hasSufficientFunds = bNbalance.minus(bNtotalFee).isGreaterThan(0);\n\n  if (!hasSufficientFunds) {\n    var notificationPayload = {\n      type: NotificationTypesEnum.warning,\n      iconClassName: 'text-warning',\n      title: 'Insufficient EGLD funds',\n      description: 'Current EGLD balance cannot cover the transaction fees.'\n    };\n    store.dispatch(setNotificationModal(notificationPayload));\n    return {\n      error: 'insufficient funds',\n      sessionId: null\n    };\n  }\n\n  var hasValidChainId = transactionsPayload === null || transactionsPayload === void 0 ? void 0 : transactionsPayload.every(function (tx) {\n    return tx.getChainID().valueOf() === storeChainId.valueOf();\n  });\n\n  if (!hasValidChainId) {\n    var _notificationPayload = {\n      type: NotificationTypesEnum.warning,\n      iconClassName: 'text-warning',\n      title: 'Network change detected',\n      description: 'The application tried to change the transaction network'\n    };\n    store.dispatch(setNotificationModal(_notificationPayload));\n    return {\n      error: 'Invalid ChainID',\n      sessionId: null\n    };\n  }\n\n  var signTransactionsPayload = {\n    sessionId: sessionId,\n    callbackRoute: callbackRoute,\n    redirectAfterSign: redirectAfterSign,\n    sessionInformation: sessionInformation,\n    transactions: transactionsPayload.map(function (tx) {\n      return tx.toPlainObject();\n    })\n  };\n  store.dispatch(setTransactionsToSign(signTransactionsPayload));\n  store.dispatch(setTransactionsDisplayInfo({\n    sessionId: sessionId,\n    transactionsDisplayInfo: transactionsDisplayInfo\n  }));\n  return {\n    sessionId: sessionId\n  };\n}\n\nvar transformAndSignTransactions = function transformAndSignTransactions(_ref) {\n  var transactions = _ref.transactions;\n\n  try {\n    var address = addressSelector(store.getState());\n    return Promise.resolve(getAccount(address)).then(function (account) {\n      var nonce = getLatestNonce(account);\n      return transactions.map(function (tx) {\n        var value = tx.value,\n            receiver = tx.receiver,\n            _tx$data = tx.data,\n            data = _tx$data === void 0 ? '' : _tx$data,\n            chainID = tx.chainID,\n            version = tx.version,\n            options = tx.options,\n            _tx$gasPrice = tx.gasPrice,\n            gasPrice = _tx$gasPrice === void 0 ? defaultGasPrice : _tx$gasPrice,\n            _tx$gasLimit = tx.gasLimit,\n            gasLimit = _tx$gasLimit === void 0 ? defaultGasLimit : _tx$gasLimit;\n        var validatedReceiver = receiver;\n\n        try {\n          var addr = new Address$1(receiver);\n          validatedReceiver = addr.hex();\n        } catch (err) {\n          throw ErrorCodesEnum.invalidReceiver;\n        }\n\n        var storeChainId = chainIDSelector(store.getState()).valueOf().toString();\n        var transactionsChainId = chainID || storeChainId;\n        return newTransaction({\n          value: value,\n          receiver: validatedReceiver,\n          data: isStringBase64(data) ? data : encodeToBase64(data),\n          gasPrice: gasPrice,\n          gasLimit: gasLimit,\n          nonce: Number(nonce.valueOf().toString()),\n          sender: new Address$1(address).hex(),\n          chainID: transactionsChainId,\n          version: version,\n          options: options\n        });\n      });\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nvar ErrorCodesEnum;\n\n(function (ErrorCodesEnum) {\n  ErrorCodesEnum[\"invalidReceiver\"] = \"Invalid Receiver address\";\n  ErrorCodesEnum[\"unknownError\"] = \"Unknown Error. Please check the transactions and try again\";\n})(ErrorCodesEnum || (ErrorCodesEnum = {}));\n\nvar sendTransactions = function sendTransactions(_ref) {\n  var transactions = _ref.transactions,\n      transactionsDisplayInfo = _ref.transactionsDisplayInfo,\n      _ref$redirectAfterSig = _ref.redirectAfterSign,\n      redirectAfterSign = _ref$redirectAfterSig === void 0 ? true : _ref$redirectAfterSig,\n      sessionInformation = _ref.sessionInformation,\n      minGasLimit = _ref.minGasLimit;\n\n  try {\n    return Promise.resolve(_catch(function () {\n      function _temp2() {\n        return signTransactions({\n          transactions: txToSign,\n          minGasLimit: minGasLimit,\n          redirectAfterSign: redirectAfterSign,\n          sessionInformation: sessionInformation,\n          transactionsDisplayInfo: transactionsDisplayInfo\n        });\n      }\n\n      var transactionsPayload = Array.isArray(transactions) ? transactions : [transactions];\n      var areComplexTransactions = transactionsPayload.every(function (tx) {\n        return Object.getPrototypeOf(tx).toPlainObject != null;\n      });\n      var txToSign = transactionsPayload;\n\n      var _temp = function () {\n        if (!areComplexTransactions) {\n          return Promise.resolve(transformAndSignTransactions({\n            transactions: transactionsPayload,\n            minGasLimit: minGasLimit\n          })).then(function (_transformAndSignTran) {\n            txToSign = _transformAndSignTran;\n          });\n        }\n      }();\n\n      return _temp && _temp.then ? _temp.then(_temp2) : _temp2(_temp);\n    }, function (err) {\n      console.error('error signing transaction', err);\n      return {\n        error: err,\n        sessionId: null\n      };\n    }));\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nfunction useTrackTransactionStatus(_ref) {\n  var transactionId = _ref.transactionId,\n      onSuccess = _ref.onSuccess,\n      onFail = _ref.onFail,\n      onCancelled = _ref.onCancelled,\n      onTimedOut = _ref.onTimedOut,\n      onCompleted = _ref.onCompleted;\n  var transactionsBatch = useSelector(function (state) {\n    return transactionStatusSelector(state, transactionId);\n  });\n  var status = transactionsBatch.status,\n      transactions = transactionsBatch.transactions,\n      errorMessage = transactionsBatch.errorMessage;\n  var isPending = getIsTransactionPending(status);\n  var isFailed = getIsTransactionFailed(status);\n  var isTimedOut = getIsTransactionTimedOut(status);\n  var isSuccessful = getIsTransactionSuccessful(status);\n  var isCompleted = getIsTransactionCompleted(status);\n  var isCancelled = status === TransactionBatchStatusesEnum.cancelled;\n  useEffect(function () {\n    if (isSuccessful && onSuccess) {\n      onSuccess(transactionId);\n    }\n  }, [isSuccessful]);\n  useEffect(function () {\n    if (isCompleted && onCompleted) {\n      onCompleted(transactionId);\n    }\n  }, [isCompleted]);\n  useEffect(function () {\n    if (isFailed && onFail) {\n      onFail(transactionId, errorMessage);\n    }\n  }, [isFailed]);\n  useEffect(function () {\n    if (isCancelled && onCancelled) {\n      onCancelled(transactionId);\n    }\n  }, [isCancelled]);\n  useEffect(function () {\n    if (isTimedOut) {\n      if (onTimedOut) {\n        onTimedOut(transactionId);\n      } else {\n        onFail === null || onFail === void 0 ? void 0 : onFail(transactionId, 'timeout');\n      }\n    }\n  }, [isTimedOut]);\n\n  if (transactionId == null) {\n    return {};\n  }\n\n  if (transactionsBatch == null) {\n    return {\n      errorMessage: 'No transaction to track'\n    };\n  }\n\n  return {\n    isPending: isPending,\n    isSuccessful: isSuccessful,\n    isFailed: isFailed,\n    isCancelled: isCancelled,\n    isCompleted: isCompleted,\n    errorMessage: errorMessage,\n    status: status,\n    transactions: transactions\n  };\n}\n\nfunction useGetPendingTransactions() {\n  var pendingTransactions = useSelector(pendingSignedTransactionsSelector);\n  var pendingTransactionsArray = Object.entries(pendingTransactions);\n  var hasPendingTransactions = (pendingTransactionsArray === null || pendingTransactionsArray === void 0 ? void 0 : pendingTransactionsArray.length) > 0;\n  return {\n    pendingTransactions: pendingTransactions,\n    pendingTransactionsArray: pendingTransactionsArray,\n    hasPendingTransactions: hasPendingTransactions\n  };\n}\n\nfunction useGetFailedTransactions() {\n  var failedTransactions = useSelector(failedTransactionsSelector);\n  var failedTransactionsArray = Object.entries(failedTransactions);\n  var hasFailedTransactions = (failedTransactionsArray === null || failedTransactionsArray === void 0 ? void 0 : failedTransactionsArray.length) > 0;\n  return {\n    failedTransactions: failedTransactions,\n    failedTransactionsArray: failedTransactionsArray,\n    hasFailedTransactions: hasFailedTransactions\n  };\n}\n\nfunction useGetSuccessfulTransactions() {\n  var successfulTransactions = useSelector(successfulTransactionsSelector);\n  var successfulTransactionsArray = Object.entries(successfulTransactions);\n  var hasSuccessfulTransactions = (successfulTransactionsArray === null || successfulTransactionsArray === void 0 ? void 0 : successfulTransactionsArray.length) > 0;\n  return {\n    successfulTransactions: successfulTransactions,\n    successfulTransactionsArray: successfulTransactionsArray,\n    hasSuccessfulTransactions: hasSuccessfulTransactions\n  };\n}\n\nvar defaultTransactionInfo$1 = {\n  tokenId: '',\n  amount: '',\n  type: '',\n  multiTxData: '',\n  receiver: ''\n};\n\nfunction useParseMultiEsdtTransferData(_ref) {\n  var transactions = _ref.transactions;\n\n  var _useState = useState({}),\n      parsedTransactionsByDataField = _useState[0],\n      setParsedTransactions = _useState[1];\n\n  var _useState2 = useState([]),\n      allTransactions = _useState2[0],\n      setAllTransactions = _useState2[1];\n\n  function addTransactionDataToParsedInfo(data, txInfo) {\n    setParsedTransactions(function (existing) {\n      var _extends2;\n\n      return _extends({}, existing, (_extends2 = {}, _extends2[data] = txInfo, _extends2));\n    });\n  }\n\n  function getTxInfoByDataField(data, multiTransactionData) {\n    if (parsedTransactionsByDataField == null) {\n      return defaultTransactionInfo$1;\n    }\n\n    if (data in parsedTransactionsByDataField) {\n      return parsedTransactionsByDataField[data];\n    }\n\n    if (multiTransactionData != null && String(multiTransactionData) in parsedTransactionsByDataField) {\n      return parsedTransactionsByDataField[multiTransactionData];\n    }\n\n    return defaultTransactionInfo$1;\n  }\n\n  function extractTransactionESDTData() {\n    if (transactions && transactions.length > 0) {\n      var _allTransactions = [];\n      transactions.forEach(function (transaction, transactionIndex) {\n        var multiTxs = parseMultiEsdtTransferData(transaction.getData().toString());\n\n        if (multiTxs.length > 0) {\n          multiTxs.forEach(function (trx, idx) {\n            var newTx = {\n              transaction: transaction,\n              multiTxData: trx.data,\n              transactionIndex: idx\n            };\n            addTransactionDataToParsedInfo(trx.data, {\n              tokenId: trx.token ? trx.token : '',\n              amount: trx.amount ? trx.amount : '',\n              type: trx.type,\n              nonce: trx.nonce ? trx.nonce : '',\n              multiTxData: trx.data,\n              receiver: trx.receiver\n            });\n\n            _allTransactions.push(newTx);\n          });\n        } else {\n          var _getTokenFromData = getTokenFromData(transaction.getData().toString()),\n              tokenId = _getTokenFromData.tokenId,\n              amount = _getTokenFromData.amount;\n\n          if (tokenId) {\n            addTransactionDataToParsedInfo(transaction.getData().toString(), {\n              tokenId: tokenId,\n              amount: amount,\n              receiver: transaction.getReceiver().bech32()\n            });\n          }\n\n          _allTransactions.push({\n            transaction: transaction,\n            transactionIndex: transactionIndex\n          });\n        }\n      });\n      setAllTransactions(_allTransactions);\n    }\n  }\n\n  useEffect(function () {\n    extractTransactionESDTData();\n  }, [transactions]);\n  return {\n    parsedTransactionsByDataField: parsedTransactionsByDataField,\n    getTxInfoByDataField: getTxInfoByDataField,\n    allTransactions: allTransactions\n  };\n}\n\nfunction useGetActiveTransactionsStatus() {\n  var _Object$keys, _Object$keys2, _Object$keys3;\n\n  var signedTransactions = useSelector(signedTransactionsSelector);\n  var timedOutTransactions = useSelector(timedOutTransactionsSelector);\n  var failedTransactions = useSelector(failedTransactionsSelector);\n  var successfulTransactions = useSelector(successfulTransactionsSelector);\n  var pendingTransactions = useSelector(pendingSignedTransactionsSelector);\n  var completedTransactions = useSelector(completedTransactionsSelector);\n  var pending = ((_Object$keys = Object.keys(pendingTransactions)) === null || _Object$keys === void 0 ? void 0 : _Object$keys.length) > 0;\n  var timedOut = !pending && ((_Object$keys2 = Object.keys(timedOutTransactions)) === null || _Object$keys2 === void 0 ? void 0 : _Object$keys2.length) > 0;\n  var fail = !pending && !timedOut && ((_Object$keys3 = Object.keys(failedTransactions)) === null || _Object$keys3 === void 0 ? void 0 : _Object$keys3.length) > 0;\n  var success = !pending && !timedOut && !fail && Object.keys(successfulTransactions).length > 0;\n  var completed = !pending && !timedOut && !fail && Object.keys(completedTransactions).length > 0;\n  var hasActiveTransactions = Object.keys(signedTransactions).length > 0;\n  return {\n    pending: pending,\n    timedOut: timedOut,\n    fail: fail,\n    success: success,\n    completed: completed,\n    hasActiveTransactions: hasActiveTransactions\n  };\n}\n\nfunction useGetCompletedTransactions() {\n  var completedTransactions = useSelector(completedTransactionsSelector);\n  var completedTransactionsArray = Object.entries(completedTransactions);\n  var hasCompletedTransactions = (completedTransactionsArray === null || completedTransactionsArray === void 0 ? void 0 : completedTransactionsArray.length) > 0;\n  return {\n    completedTransactions: completedTransactions,\n    completedTransactionsArray: completedTransactionsArray,\n    hasCompletedTransactions: hasCompletedTransactions\n  };\n}\n\nvar index$1 = {\n  __proto__: null,\n  sendTransactions: sendTransactions,\n  signTransactions: signTransactions,\n  useTrackTransactionStatus: useTrackTransactionStatus,\n  useGetPendingTransactions: useGetPendingTransactions,\n  useGetFailedTransactions: useGetFailedTransactions,\n  useGetSuccessfulTransactions: useGetSuccessfulTransactions,\n  useParseMultiEsdtTransferData: useParseMultiEsdtTransferData,\n  useGetActiveTransactionsStatus: useGetActiveTransactionsStatus,\n  useGetCompletedTransactions: useGetCompletedTransactions\n};\n\nvar sendSignedTransactions = function sendSignedTransactions(signedTransactions) {\n  try {\n    var proxy = proxySelector(store.getState());\n    var promises = signedTransactions.map(function (transaction) {\n      return proxy.sendTransaction(transaction);\n    });\n    return Promise.resolve(Promise.all(promises)).then(function (response) {\n      return response.map(function (txHash) {\n        return Buffer.from(txHash.hash).toString('hex');\n      });\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nvar getTransactionsByHashes = function getTransactionsByHashes(pendingTransactions) {\n  try {\n    var networkConfig = networkConfigSelector(store.getState());\n    var hashes = pendingTransactions.map(function (tx) {\n      return tx.hash;\n    });\n    return Promise.resolve(axios.get(networkConfig.network.apiAddress + \"/transactions\", {\n      params: {\n        hashes: hashes.join(','),\n        withScResults: true\n      }\n    })).then(function (_ref) {\n      var responseData = _ref.data;\n      return pendingTransactions.map(function (_ref2) {\n        var hash = _ref2.hash,\n            previousStatus = _ref2.previousStatus;\n        var txOnNetwork = responseData.find(function (txResponse) {\n          return txResponse.txHash === hash;\n        });\n        var data = txOnNetwork === null || txOnNetwork === void 0 ? void 0 : txOnNetwork.data;\n\n        try {\n          data = decodeBase64(data);\n        } catch (err) {}\n\n        return {\n          hash: hash,\n          data: data,\n          invalidTransaction: txOnNetwork == null,\n          status: txOnNetwork.status,\n          results: txOnNetwork.results,\n          receiver: txOnNetwork === null || txOnNetwork === void 0 ? void 0 : txOnNetwork.receiver,\n          previousStatus: previousStatus,\n          hasStatusChanged: status !== previousStatus\n        };\n      });\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nfunction ProviderInitializer() {\n  var setExtensionProvider = function setExtensionProvider() {\n    try {\n      var _temp11 = _catch(function () {\n        return Promise.resolve(getAddress()).then(function (address) {\n          var provider = ExtensionProvider.getInstance().setAddress(address);\n          return Promise.resolve(provider.init()).then(function (success) {\n            if (success) {\n              dispatch(setProvider(provider));\n            } else {\n              console.error('Could not initialise extension, make sure Elrond wallet extension is installed.');\n            }\n          });\n        });\n      }, function (err) {\n        console.error('Unable to login to ExtensionProvider', err);\n      });\n\n      return Promise.resolve(_temp11 && _temp11.then ? _temp11.then(function () {}) : void 0);\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var tryAuthenticateWalletUser = function tryAuthenticateWalletUser() {\n    try {\n      return Promise.resolve(_catch(function () {\n        var _temp9 = function () {\n          if (walletLogin != null) {\n            var provider = newWalletProvider(network.walletAddress);\n            return Promise.resolve(getAddress()).then(function (address) {\n              function _temp8() {\n                dispatch(setWalletLogin(null));\n              }\n\n              var _temp7 = function () {\n                if (address) {\n                  dispatch(setProvider(provider));\n                  dispatch(loginAction({\n                    address: address,\n                    loginMethod: LoginMethodsEnum.wallet\n                  }));\n                  return Promise.resolve(getAccount(address)).then(function (account) {\n                    dispatch(setAccount({\n                      balance: account.balance.toString(),\n                      address: address,\n                      nonce: getLatestNonce(account)\n                    }));\n                  });\n                }\n              }();\n\n              return _temp7 && _temp7.then ? _temp7.then(_temp8) : _temp8(_temp7);\n            });\n          }\n        }();\n\n        if (_temp9 && _temp9.then) return _temp9.then(function () {});\n      }, function (e) {\n        console.error('Failed authenticating wallet user ', e);\n      }));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var fetchAccount = function fetchAccount() {\n    try {\n      var _temp4 = function _temp4() {\n        dispatch(setIsAccountLoading(false));\n      };\n\n      dispatch(setIsAccountLoading(true));\n\n      var _temp5 = function () {\n        if (address && isLoggedIn) {\n          var _temp6 = _catch(function () {\n            return Promise.resolve(getAccount(address)).then(function (account) {\n              dispatch(setAccount({\n                balance: account.balance.toString(),\n                address: address,\n                nonce: account.nonce.valueOf()\n              }));\n\n              if (ledgerAccount == null && ledgerLogin != null) {\n                dispatch(setLedgerAccount({\n                  index: ledgerLogin.index,\n                  address: address\n                }));\n              }\n            });\n          }, function (e) {\n            dispatch(setAccountLoadingError('Failed getting account'));\n            console.error('Failed getting account ', e);\n          });\n\n          if (_temp6 && _temp6.then) return _temp6.then(function () {});\n        }\n      }();\n\n      return Promise.resolve(_temp5 && _temp5.then ? _temp5.then(_temp4) : _temp4(_temp5));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var network = useSelector(networkSelector);\n  var walletConnectLogin = useSelector(walletConnectLoginSelector);\n  var loginMethod = useSelector(loginMethodSelector);\n  var walletLogin = useSelector(walletLoginSelector);\n\n  var _useSelector = useSelector(extraActionsSelector),\n      getProvider = _useSelector.getProvider;\n\n  var address = useSelector(addressSelector);\n  var ledgerAccount = useSelector(ledgerAccountSelector);\n  var ledgerLogin = useSelector(ledgerLoginSelector);\n  var isLoggedIn = useSelector(isLoggedInSelector);\n  var proxy = useSelector(proxySelector);\n  var dispatch = useDispatch();\n\n  var _ref = walletConnectLogin ? walletConnectLogin : {\n    callbackRoute: '',\n    logoutRoute: ''\n  },\n      callbackRoute = _ref.callbackRoute,\n      logoutRoute = _ref.logoutRoute;\n\n  var _useWalletConnectLogi = useWalletConnectLogin({\n    callbackRoute: callbackRoute,\n    logoutRoute: logoutRoute\n  }),\n      initWalletLoginProvider = _useWalletConnectLogi[0];\n\n  useEffect(function () {\n    refreshChainID();\n  }, [network]);\n  useEffect(function () {\n    initializeProvider();\n  }, [loginMethod]);\n  useEffect(function () {\n    fetchAccount();\n  }, [address, ledgerLogin, isLoggedIn]);\n\n  function refreshChainID() {\n    proxy.getNetworkConfig().then(function (networkConfig) {\n      dispatch(setChainID(networkConfig.ChainID.valueOf()));\n    })[\"catch\"](function (e) {\n      console.error('To do ', e);\n    });\n  }\n\n  function setLedgerProvider() {\n    var hwWalletP = new HWProvider(proxy);\n    hwWalletP.init().then(function (success) {\n      if (!success) {\n        console.warn('Could not initialise ledger app');\n        logout();\n        return;\n      }\n\n      dispatch(setProvider(hwWalletP));\n    })[\"catch\"](function (err) {\n      console.error('Could not initialise ledger app', err);\n      logout();\n    });\n  }\n\n  function initializeProvider() {\n    if (loginMethod == null) {\n      return;\n    }\n\n    switch (loginMethod) {\n      case LoginMethodsEnum.ledger:\n        {\n          setLedgerProvider();\n          break;\n        }\n\n      case LoginMethodsEnum.walletconnect:\n        {\n          initWalletLoginProvider(false);\n          break;\n        }\n\n      case LoginMethodsEnum.wallet:\n        {\n          var provider = newWalletProvider(network.walletAddress);\n          dispatch(setProvider(provider));\n          break;\n        }\n\n      case LoginMethodsEnum.extension:\n        {\n          setExtensionProvider();\n          break;\n        }\n\n      case LoginMethodsEnum.extra:\n        {\n          var _provider = getProvider();\n\n          dispatch(setProvider(_provider));\n          break;\n        }\n\n      case LoginMethodsEnum.none:\n        {\n          tryAuthenticateWalletUser();\n          break;\n        }\n\n      default:\n        return;\n    }\n  }\n\n  return null;\n}\n\nvar defaultValue = {\n  sendSignedTransactionsAsync: sendSignedTransactions,\n  getTransactionsByHash: getTransactionsByHashes,\n  completedTransactionsDelay: 0\n};\nvar OverrideDefaultBehaviourContext = React__default.createContext(defaultValue);\n\nvar TransactionSender = function TransactionSender() {\n  var handleSendTransactions = function handleSendTransactions() {\n    try {\n      var sessionIds = Object.keys(signedTransactions);\n      return Promise.resolve(_forOf(sessionIds, function (sessionId) {\n        if (!sessionId) {\n          return;\n        }\n\n        var _temp = _finallyRethrows(function () {\n          return _catch(function () {\n            var isSessionIdSigned = signedTransactions[sessionId].status === TransactionBatchStatusesEnum.signed;\n            var shouldSendCurrentSession = isSessionIdSigned && !sendingRef.current;\n\n            if (!shouldSendCurrentSession) {\n              return;\n            }\n\n            var transactions = signedTransactions[sessionId].transactions;\n\n            if (!transactions) {\n              return;\n            }\n\n            sendingRef.current = true;\n            var transactionsToSend = transactions.map(function (tx) {\n              var address = new Address(tx.sender);\n              var transactionObject = newTransaction(tx);\n              var signature = new Signature(tx.signature);\n              transactionObject.applySignature(signature, address);\n              return transactionObject;\n            });\n            return Promise.resolve(sendSignedTransactionsAsync(transactionsToSend)).then(function (responseHashes) {\n              var newStatus = TransactionServerStatusesEnum.pending;\n              var newTransactions = transactions.map(function (transaction) {\n                if (responseHashes.includes(transaction.hash)) {\n                  return _extends({}, transaction, {\n                    status: newStatus\n                  });\n                }\n\n                return transaction;\n              });\n              var submittedModalPayload = {\n                sessionId: sessionId,\n                submittedMessage: 'submitted'\n              };\n              dispatch(setTxSubmittedModal(submittedModalPayload));\n              dispatch(updateSignedTransactions({\n                sessionId: sessionId,\n                status: TransactionBatchStatusesEnum.sent,\n                transactions: newTransactions\n              }));\n              clearSignInfo();\n              setNonce(account.nonce + transactions.length);\n              history.pushState({}, document.title, '?');\n            });\n          }, function (error) {\n            console.error('Unable to send transactions', error);\n            dispatch(updateSignedTransactions({\n              sessionId: sessionId,\n              status: TransactionBatchStatusesEnum.fail,\n              errorMessage: error.message\n            }));\n            clearSignInfo();\n          });\n        }, function (_wasThrown, _result) {\n          sendingRef.current = false;\n          if (_wasThrown) throw _result;\n          return _result;\n        });\n\n        if (_temp && _temp.then) return _temp.then(function () {});\n      }));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var account = useSelector(accountSelector);\n  var signedTransactions = useSelector(signedTransactionsSelector);\n\n  var _useContext = useContext(OverrideDefaultBehaviourContext),\n      sendSignedTransactionsAsync = _useContext.sendSignedTransactionsAsync;\n\n  var sendingRef = useRef(false);\n  var dispatch = useDispatch();\n\n  var clearSignInfo = function clearSignInfo() {\n    dispatch(clearSignTransactions());\n    sendingRef.current = false;\n  };\n\n  React__default.useEffect(function () {\n    handleSendTransactions();\n  }, [signedTransactions, account]);\n  return null;\n};\n\nfunction TransactionStatusTracker(_ref) {\n  var sessionId = _ref.sessionId,\n      _ref$transactionPaylo = _ref.transactionPayload,\n      transactions = _ref$transactionPaylo.transactions,\n      status = _ref$transactionPaylo.status;\n  var dispatch = useDispatch();\n  var intervalRef = useRef(null);\n  var isFetchingStatusRef = useRef(false);\n  var retriesRef = useRef({});\n  var timeoutRefs = useRef([]);\n\n  var _useContext = useContext(OverrideDefaultBehaviourContext),\n      getTransactionsByHash = _useContext.getTransactionsByHash,\n      completedTransactionsDelay = _useContext.completedTransactionsDelay;\n\n  var isPending = sessionId != null && getIsTransactionPending(status);\n\n  var manageTimedOutTransactions = function manageTimedOutTransactions() {\n    dispatch(updateSignedTransactions({\n      sessionId: sessionId,\n      status: TransactionBatchStatusesEnum.timedOut\n    }));\n  };\n\n  var checkTransactionStatus = function checkTransactionStatus() {\n    try {\n      return Promise.resolve(_catch(function () {\n        if (!isPending || transactions == null) {\n          return;\n        }\n\n        isFetchingStatusRef.current = true;\n        var pendingTransactions = transactions.reduce(function (acc, _ref2) {\n          var receiver = _ref2.receiver,\n              data = _ref2.data,\n              status = _ref2.status,\n              hash = _ref2.hash;\n          var isScCall = isContract(receiver, data);\n\n          if (hash != null && !timeoutRefs.current.includes(hash) && getIsTransactionPending(status, isScCall)) {\n            acc.push({\n              hash: hash,\n              previousStatus: status\n            });\n          }\n\n          return acc;\n        }, []);\n\n        if ((pendingTransactions === null || pendingTransactions === void 0 ? void 0 : pendingTransactions.length) === 0) {\n          isFetchingStatusRef.current = false;\n          return;\n        }\n\n        return Promise.resolve(getTransactionsByHash(pendingTransactions)).then(function (serverTransactions) {\n          var _loop = function _loop() {\n            var _step$value = _step.value,\n                hash = _step$value.hash,\n                status = _step$value.status,\n                results = _step$value.results,\n                invalidTransaction = _step$value.invalidTransaction,\n                receiver = _step$value.receiver,\n                data = _step$value.data,\n                hasStatusChanged = _step$value.hasStatusChanged;\n\n            try {\n              var isScCall = isContract(receiver, data);\n              var retriesForThisHash = retriesRef.current[hash];\n\n              if (retriesForThisHash > 30) {\n                manageTimedOutTransactions();\n                return {\n                  v: void 0\n                };\n              }\n\n              if (!invalidTransaction) {\n                if (!getIsTransactionPending(status)) {\n                  if (isScCall && !getIsTransactionCompleted(status)) {\n                    var isScCallCompleted = areScCallsSuccessful(results);\n\n                    if (isScCallCompleted) {\n                      timeoutRefs.current.push(hash);\n                      setTimeout(function () {\n                        return dispatch(updateSignedTransactionStatus({\n                          sessionId: sessionId,\n                          status: TransactionServerStatusesEnum.completed,\n                          transactionHash: hash\n                        }));\n                      }, completedTransactionsDelay);\n                    }\n                  }\n\n                  if (hasStatusChanged) {\n                    dispatch(updateSignedTransactionStatus({\n                      sessionId: sessionId,\n                      status: status,\n                      transactionHash: hash\n                    }));\n                  }\n\n                  refreshAccount();\n\n                  if (getIsTransactionFailed(status)) {\n                    var resultWithError = results.find(function (scResult) {\n                      return (scResult === null || scResult === void 0 ? void 0 : scResult.returnMessage) !== '';\n                    });\n                    dispatch(updateSignedTransactionStatus({\n                      transactionHash: hash,\n                      sessionId: sessionId,\n                      status: TransactionServerStatusesEnum.fail,\n                      errorMessage: resultWithError === null || resultWithError === void 0 ? void 0 : resultWithError.returnMessage\n                    }));\n                    dispatch(updateSignedTransactions({\n                      sessionId: sessionId,\n                      status: TransactionBatchStatusesEnum.fail,\n                      errorMessage: resultWithError === null || resultWithError === void 0 ? void 0 : resultWithError.returnMessage\n                    }));\n                  }\n                } else {\n                  retriesRef.current[hash] = retriesRef.current[hash] ? retriesRef.current[hash] + 1 : 1;\n                }\n              } else {\n                retriesRef.current[hash] = retriesRef.current[hash] ? retriesRef.current[hash] + 1 : 1;\n              }\n            } catch (error) {\n              console.error(error);\n              manageTimedOutTransactions();\n            }\n          };\n\n          for (var _iterator = _createForOfIteratorHelperLoose(serverTransactions), _step; !(_step = _iterator()).done;) {\n            var _ret = _loop();\n\n            if (typeof _ret === \"object\") return _ret.v;\n          }\n        });\n      }, function (error) {\n        console.error(error);\n      }));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  useEffect(function () {\n    if (isPending) {\n      intervalRef.current = setInterval(function () {\n        checkTransactionStatus();\n      }, 2000);\n    } else {\n      clearInterval(intervalRef.current);\n    }\n\n    return function () {\n      clearInterval(intervalRef.current);\n    };\n  }, [isPending]);\n  return null;\n}\n\nfunction TransactionsTracker() {\n  var _useGetPendingTransac = useGetPendingTransactions(),\n      pendingTransactionsArray = _useGetPendingTransac.pendingTransactionsArray;\n\n  return React__default.createElement(React__default.Fragment, null, pendingTransactionsArray.map(function (_ref) {\n    var sessionId = _ref[0],\n        transactionPayload = _ref[1];\n    return React__default.createElement(TransactionStatusTracker, {\n      key: sessionId,\n      sessionId: sessionId,\n      transactionPayload: transactionPayload\n    });\n  }));\n}\n\nvar getServerConfiguration = function getServerConfiguration(environment) {\n  try {\n    return Promise.resolve(_catch(function () {\n      return Promise.resolve(axios.get(configEndpoint[environment])).then(function (_ref) {\n        var data = _ref.data;\n\n        if (data != null) {\n          return data;\n        }\n      });\n    }, function () {\n      console.error('error fetching configuration for ', environment);\n      return null;\n    }));\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nvar useGetNetworkConfig = function useGetNetworkConfig() {\n  return useSelector(networkConfigSelector);\n};\n\nfunction useGetNotification() {\n  var notification = useSelector(notificationModalSelector);\n  var dispatch = useDispatch();\n\n  var clearNotification = function clearNotification() {\n    return dispatch(clearNotificationModal());\n  };\n\n  return {\n    notification: notification,\n    clearNotification: clearNotification\n  };\n}\n\nfunction useGetTransactionDisplayInfo(toastId) {\n  return useSelector(function (state) {\n    return transactionDisplayInfoSelector(state, toastId);\n  });\n}\n\nfunction useParseSignedTransactions() {\n  var search = window.location.search;\n  var network = useSelector(networkSelector);\n  var dispatch = useDispatch();\n  React__default.useEffect(function () {\n    if (search != null) {\n      var searchData = qs.parse(search.replace('?', ''));\n\n      if (searchData && walletSignSession in searchData) {\n        var signSessionId = searchData[walletSignSession];\n        var signedTransactions = new WalletProvider(\"\" + network.walletAddress + dappInitRoute).getTransactionsFromWalletUrl();\n\n        if (signedTransactions.length > 0) {\n          var _updateSignedTransact;\n\n          dispatch(updateSignedTransaction((_updateSignedTransact = {}, _updateSignedTransact[signSessionId.toString()] = {\n            status: TransactionBatchStatusesEnum.signed,\n            transactions: signedTransactions.map(function (tx) {\n              return parseTransactionAfterSigning(tx);\n            })\n          }, _updateSignedTransact)));\n        }\n      }\n    }\n  }, [search]);\n}\n\nfunction useSignTransactions() {\n  var signTransactionsWithProvider = function signTransactionsWithProvider() {\n    try {\n      return Promise.resolve(_catch(function () {\n        var sessionId = transactionsToSign.sessionId,\n            transactions = transactionsToSign.transactions,\n            callbackRoute = transactionsToSign.callbackRoute,\n            sessionInformation = transactionsToSign.sessionInformation,\n            redirectAfterSign = transactionsToSign.redirectAfterSign;\n        return function () {\n          if (transactions !== null && transactions !== void 0 && transactions.length) {\n            return Promise.resolve(provider.init()).then(function (initialized) {\n              if (!initialized) {\n                return;\n              }\n\n              var _temp = _catch(function () {\n                return Promise.resolve(provider.signTransactions(transactions)).then(function (signedTransactions) {\n                  var signingDisabled = !signedTransactions || signedTransactions && Object.keys(signedTransactions).length !== (transactions === null || transactions === void 0 ? void 0 : transactions.length);\n\n                  if (!signingDisabled && signedTransactions) {\n                    var _updateSignedTransact2;\n\n                    dispatch(updateSignedTransaction((_updateSignedTransact2 = {}, _updateSignedTransact2[sessionId] = {\n                      status: TransactionBatchStatusesEnum.signed,\n                      sessionInformation: sessionInformation,\n                      transactions: Object.values(signedTransactions).map(function (tx) {\n                        return parseTransactionAfterSigning(tx);\n                      })\n                    }, _updateSignedTransact2)));\n\n                    if (redirectAfterSign && !window.location.pathname.includes(callbackRoute)) {\n                      window.location.href = callbackRoute;\n                    }\n                  }\n                });\n              }, function (err) {\n                console.error('error signing transaction', err);\n                onCancel(err.message, sessionId);\n              });\n\n              if (_temp && _temp.then) return _temp.then(function () {});\n            });\n          }\n        }();\n      }, function (err) {\n        console.error('error signing transaction', err);\n        onCancel(err.message);\n      }));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var provider = useSelector(providerSelector);\n  var proxy = useSelector(proxySelector);\n  var address = useSelector(addressSelector);\n  var transactionsToSign = useSelector(transactionsToSignSelector);\n  var savedCallback = useRef('/');\n  var dispatch = useDispatch();\n\n  var _useState = useState(null),\n      error = _useState[0],\n      setError = _useState[1];\n\n  useParseSignedTransactions();\n  var providerType = getProviderType(provider);\n\n  function clearSignInfo(sessionId) {\n    dispatch(clearSignTransactions());\n    dispatch(clearTransactionsInfoForSessionId(sessionId));\n\n    if (provider instanceof ExtensionProvider) {\n      var _ExtensionProvider$ge, _ExtensionProvider$ge2;\n\n      (_ExtensionProvider$ge = ExtensionProvider.getInstance()) === null || _ExtensionProvider$ge === void 0 ? void 0 : (_ExtensionProvider$ge2 = _ExtensionProvider$ge.cancelAction) === null || _ExtensionProvider$ge2 === void 0 ? void 0 : _ExtensionProvider$ge2.call(_ExtensionProvider$ge);\n    }\n  }\n\n  function onCancel(e, sessionId) {\n    if (e !== 'Transaction cancelled') {\n      setError(e);\n    }\n\n    clearSignInfo(sessionId);\n  }\n\n  function onAbort(sessionId) {\n    setError(null);\n    clearSignInfo(sessionId);\n  }\n\n  var signTransactions = function signTransactions() {\n    try {\n      return Promise.resolve(function () {\n        if (transactionsToSign) {\n          var sessionId = transactionsToSign.sessionId,\n              transactions = transactionsToSign.transactions,\n              callbackRoute = transactionsToSign.callbackRoute;\n          savedCallback.current = callbackRoute;\n          return _catch(function () {\n            if (provider == null) {\n              console.error('You need a signer/valid signer to send a transaction, use either WalletProvider, LedgerProvider or WalletConnect');\n              return;\n            }\n\n            return Promise.resolve(proxy.getAccount(new Address(address))).then(function (proxyAccount) {\n              var _urlParams;\n\n              var latestNonce = getLatestNonce(proxyAccount);\n              transactions.forEach(function (tx, i) {\n                tx.setNonce(new Nonce$1(latestNonce + i));\n              });\n\n              switch (providerType) {\n                case LoginMethodsEnum.wallet:\n                  var callbackUrl = buildReplyUrl({\n                    callbackUrl: \"\" + window.location.origin + callbackRoute,\n                    urlParams: (_urlParams = {}, _urlParams[walletSignSession] = sessionId, _urlParams)\n                  });\n                  dispatch(clearSignTransactions());\n                  provider.signTransactions(transactions, {\n                    callbackUrl: encodeURIComponent(callbackUrl)\n                  });\n                  break;\n\n                case LoginMethodsEnum.extension:\n                case LoginMethodsEnum.walletconnect:\n                case LoginMethodsEnum.extra:\n                  signTransactionsWithProvider();\n                  break;\n              }\n            });\n          }, function (err) {\n            var _updateSignedTransact;\n\n            var errMessage = 'error when signing';\n            console.error(errMessage, err);\n            onCancel((err === null || err === void 0 ? void 0 : err.message) || errMessage, sessionId);\n            dispatch(updateSignedTransaction((_updateSignedTransact = {}, _updateSignedTransact[sessionId] = {\n              status: TransactionBatchStatusesEnum.cancelled\n            }, _updateSignedTransact)));\n          });\n        }\n      }());\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  useEffect(function () {\n    if (transactionsToSign !== null && transactionsToSign !== void 0 && transactionsToSign.sessionId) {\n      signTransactions();\n    }\n  }, [transactionsToSign === null || transactionsToSign === void 0 ? void 0 : transactionsToSign.sessionId]);\n  var hasTransactions = transactionsToSign === null || transactionsToSign === void 0 ? void 0 : transactionsToSign.transactions;\n  return {\n    onAbort: onAbort,\n    error: error,\n    hasTransactions: hasTransactions,\n    transactions: transactionsToSign === null || transactionsToSign === void 0 ? void 0 : transactionsToSign.transactions,\n    sessionId: transactionsToSign === null || transactionsToSign === void 0 ? void 0 : transactionsToSign.sessionId,\n    callbackRoute: savedCallback.current\n  };\n}\n\nfunction useGetSignedTransactions() {\n  return useSelector(signedTransactionsSelector);\n}\n\nvar swr = {};\n\ntry {\n  swr = require('swr');\n} catch (err) {}\n\nvar useSwr = swr;\n\nvar fetcher = function fetcher(url) {\n  return fetch(url).then(function (res) {\n    return res.json();\n  });\n};\n\nfunction useGetTokenDetails(_ref) {\n  var _selectedToken$assets;\n\n  var tokenId = _ref.tokenId;\n\n  var _useGetNetworkConfig = useGetNetworkConfig(),\n      network = _useGetNetworkConfig.network;\n\n  if (!tokenId) {\n    return {\n      tokenDenomination: Number(network.egldDenomination),\n      tokenLabel: '',\n      tokenAvatar: ''\n    };\n  }\n\n  var _useSwr = useSwr(network.apiAddress + \"/tokens/\" + tokenId, fetcher),\n      selectedToken = _useSwr.data,\n      error = _useSwr.error;\n\n  var tokenDenomination = selectedToken ? selectedToken === null || selectedToken === void 0 ? void 0 : selectedToken.decimals : Number(network.egldDenomination);\n  var tokenLabel = selectedToken ? selectedToken === null || selectedToken === void 0 ? void 0 : selectedToken.name : '';\n  var tokenAvatar = selectedToken ? \"\" + (selectedToken === null || selectedToken === void 0 ? void 0 : (_selectedToken$assets = selectedToken.assets) === null || _selectedToken$assets === void 0 ? void 0 : _selectedToken$assets.svgUrl) : '';\n  return {\n    tokenDenomination: tokenDenomination,\n    tokenLabel: tokenLabel,\n    tokenAvatar: tokenAvatar,\n    error: error\n  };\n}\n\nfunction useSignTransactionsWithLedger(_ref) {\n  var _currentTransaction$t, _currentTransaction$t2, _currentTransaction$t3;\n\n  var sign = function sign() {\n    try {\n      return Promise.resolve(_catch(function () {\n        if (currentTransaction == null || sessionId == null) {\n          return;\n        }\n\n        setWaitingForDevice(true);\n        return Promise.resolve(provider.signTransaction(currentTransaction.transaction)).then(function (signedTx) {\n          var _newSignedTx;\n\n          var newSignedTx = (_newSignedTx = {}, _newSignedTx[currentStep] = signedTx, _newSignedTx);\n          var newSignedTransactions = signedTransactions ? _extends({}, signedTransactions, newSignedTx) : newSignedTx;\n          setSignedTransactions(newSignedTransactions);\n\n          if (!isLastTransaction) {\n            setCurrentStep(function (exising) {\n              return exising + 1;\n            });\n          } else if (newSignedTransactions) {\n            var _updateSignedTransact;\n\n            dispatch(clearSignTransactions());\n            dispatch(updateSignedTransaction((_updateSignedTransact = {}, _updateSignedTransact[sessionId] = {\n              status: TransactionBatchStatusesEnum.signed,\n              transactions: Object.values(newSignedTransactions).map(function (tx) {\n                return parseTransactionAfterSigning(tx, true);\n              })\n            }, _updateSignedTransact)));\n            reset();\n\n            if (callbackRoute != null && redirectAfterSign && !window.location.pathname.includes(callbackRoute)) {\n              window.location.href = callbackRoute;\n            }\n          }\n        });\n      }, function (err) {\n        console.error(err, 'sign error');\n        reset();\n        dispatch(setSignTransactionsError(err.message));\n      }));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var onCancel = _ref.onCancel;\n  var transactionsToSign = useSelector(transactionsToSignSelector);\n\n  var _ref2 = transactionsToSign || {},\n      sessionId = _ref2.sessionId,\n      transactions = _ref2.transactions,\n      callbackRoute = _ref2.callbackRoute,\n      redirectAfterSign = _ref2.redirectAfterSign;\n\n  var _useState = useState(0),\n      currentStep = _useState[0],\n      setCurrentStep = _useState[1];\n\n  var _useState2 = useState(),\n      signedTransactions = _useState2[0],\n      setSignedTransactions = _useState2[1];\n\n  var _useParseMultiEsdtTra = useParseMultiEsdtTransferData({\n    transactions: transactions\n  }),\n      getTxInfoByDataField = _useParseMultiEsdtTra.getTxInfoByDataField,\n      allTransactions = _useParseMultiEsdtTra.allTransactions;\n\n  var _useState3 = useState(null),\n      currentTransaction = _useState3[0],\n      setCurrentTransaction = _useState3[1];\n\n  var provider = useSelector(providerSelector);\n  var egldLabel = useSelector(egldLabelSelector);\n\n  var _useState4 = useState(false),\n      waitingForDevice = _useState4[0],\n      setWaitingForDevice = _useState4[1];\n\n  var dispatch = useDispatch();\n  var isLastTransaction = currentStep === allTransactions.length - 1;\n  useEffect(function () {\n    extractTransactionsInfo();\n  }, [currentStep, allTransactions]);\n\n  function extractTransactionsInfo() {\n    var tx = allTransactions[currentStep];\n\n    if (tx == null) {\n      return;\n    }\n\n    var transaction = tx.transaction,\n        multiTxData = tx.multiTxData;\n    var dataField = transaction.getData().toString();\n    var transactionTokenInfo = getTxInfoByDataField(transaction.getData().toString(), multiTxData);\n    var tokenId = transactionTokenInfo.tokenId;\n    var isTokenTransaction = Boolean(tokenId && isTokenTransfer({\n      tokenId: tokenId,\n      erdLabel: egldLabel\n    }));\n    setCurrentTransaction({\n      transaction: transaction,\n      transactionTokenInfo: transactionTokenInfo,\n      isTokenTransaction: isTokenTransaction,\n      dataField: dataField\n    });\n  }\n\n  function reset() {\n    setCurrentStep(0);\n    setSignedTransactions(undefined);\n    setWaitingForDevice(false);\n  }\n\n  function signTx() {\n    try {\n      if (currentTransaction == null) {\n        return;\n      }\n\n      var signature = currentTransaction.transaction.getSignature();\n\n      if (signature) {\n        if (!isLastTransaction) {\n          setCurrentStep(function (exising) {\n            return exising + 1;\n          });\n        }\n      } else {\n        sign();\n      }\n    } catch (_unused) {\n      sign();\n    }\n  }\n\n  function onAbort() {\n    if (isFirst) {\n      dispatch(clearSignTransactions());\n\n      if (callbackRoute != null && redirectAfterSign) {\n        window.location.href = callbackRoute;\n      }\n    } else {\n      setCurrentStep(function (existing) {\n        return existing - 1;\n      });\n    }\n  }\n\n  var continueWithoutSigning = (currentTransaction === null || currentTransaction === void 0 ? void 0 : (_currentTransaction$t = currentTransaction.transactionTokenInfo) === null || _currentTransaction$t === void 0 ? void 0 : _currentTransaction$t.type) && (currentTransaction === null || currentTransaction === void 0 ? void 0 : (_currentTransaction$t2 = currentTransaction.transactionTokenInfo) === null || _currentTransaction$t2 === void 0 ? void 0 : _currentTransaction$t2.multiTxData) && !(currentTransaction !== null && currentTransaction !== void 0 && currentTransaction.dataField.endsWith(currentTransaction === null || currentTransaction === void 0 ? void 0 : (_currentTransaction$t3 = currentTransaction.transactionTokenInfo) === null || _currentTransaction$t3 === void 0 ? void 0 : _currentTransaction$t3.multiTxData));\n\n  function onSignTransaction() {\n    if (continueWithoutSigning) {\n      setCurrentStep(function (exising) {\n        return exising + 1;\n      });\n    } else {\n      signTx();\n    }\n  }\n\n  function onNext() {\n    setCurrentStep(function (current) {\n      var nextStep = current + 1;\n\n      if (nextStep > (allTransactions === null || allTransactions === void 0 ? void 0 : allTransactions.length)) {\n        return current;\n      }\n\n      return nextStep;\n    });\n  }\n\n  function onPrev() {\n    if (currentStep === 0) {\n      onCancel();\n    }\n\n    setCurrentStep(function (current) {\n      var nextStep = current - 1;\n\n      if (nextStep < 0) {\n        return current;\n      }\n\n      return nextStep;\n    });\n  }\n\n  var isFirst = currentStep === 0;\n  return {\n    allTransactions: allTransactions,\n    onSignTransaction: onSignTransaction,\n    onNext: onNext,\n    onPrev: onPrev,\n    waitingForDevice: waitingForDevice,\n    onAbort: onAbort,\n    isLastTransaction: isLastTransaction,\n    callbackRoute: callbackRoute,\n    currentStep: currentStep,\n    signedTransactions: signedTransactions,\n    currentTransaction: currentTransaction\n  };\n}\n\nvar useGetSignTransactionsError = function useGetSignTransactionsError() {\n  return useSelector(signTransactionsErrorSelector);\n};\n\nvar useGetAccountInfo = function useGetAccountInfo() {\n  return useSelector(accountInfoSelector);\n};\n\nvar useGetLoginInfo = function useGetLoginInfo() {\n  var loginInfo = useSelector(loginInfoSelector);\n  var isLoggedIn = useSelector(isLoggedInSelector);\n  return _extends({}, loginInfo, {\n    isLoggedIn: isLoggedIn\n  });\n};\n\nvar useGetAccountProvider = function useGetAccountProvider() {\n  var provider = useSelector(providerSelector);\n  var providerType = getProviderType(provider);\n  return {\n    provider: provider,\n    providerType: providerType\n  };\n};\n\nvar getAccountShard = function getAccountShard() {\n  try {\n    var _await$axios$get, account;\n\n    var appState = store.getState();\n    var network = networkSelector(appState);\n    var address = addressSelector(appState);\n    var shard = shardSelector(appState);\n    return Promise.resolve(_catch(function () {\n      if (shard == null && address) {\n        return Promise.resolve(axios.get(network.apiAddress + \"/accounts/\" + address)).then(function (_axios$get) {\n          _await$axios$get = _axios$get;\n          account = _await$axios$get.data;\n          store.dispatch(setAccountShard(account.shard));\n          return account.shard;\n        });\n      } else {\n        return shard;\n      }\n    }, function (err) {\n      console.error(err);\n      return null;\n    }));\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nfunction AppInitializer(_ref) {\n  var initializeApp = function initializeApp() {\n    try {\n      initializeCustomExtraActions();\n      return Promise.resolve(initializeNetwork()).then(function () {\n        setInitialized(true);\n        getAccountShard();\n      });\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var initializeNetwork = function initializeNetwork() {\n    try {\n      var fallbackConfig = fallbackConfigurations[environment];\n\n      if (fallbackConfig != null) {\n        dispatch(initializeNetworkConfig(_extends({}, fallbackConfig, customNetworkConfig)));\n      }\n\n      return Promise.resolve(getServerConfiguration(environment)).then(function (serverConfig) {\n        if (serverConfig != null) {\n          dispatch(initializeNetworkConfig(_extends({}, serverConfig, customNetworkConfig)));\n        }\n      });\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var _ref$customNetworkCon = _ref.customNetworkConfig,\n      customNetworkConfig = _ref$customNetworkCon === void 0 ? {} : _ref$customNetworkCon,\n      children = _ref.children,\n      environment = _ref.environment,\n      extraActions = _ref.extraActions;\n\n  var _useState = useState(false),\n      initialized = _useState[0],\n      setInitialized = _useState[1];\n\n  var account = useGetAccountInfo();\n  var address = account.address,\n      publicKey = account.publicKey;\n  var dispatch = useDispatch();\n\n  function initializeCustomExtraActions() {\n    if (extraActions != null) {\n      try {\n        extraActions === null || extraActions === void 0 ? void 0 : extraActions.init({\n          onLogin: function onLogin(address, loginMethod) {\n            dispatch(loginAction({\n              address: address,\n              loginMethod: loginMethod\n            }));\n          },\n          log: function log(word) {\n            console.log('dapp log: ', word);\n          }\n        });\n        dispatch(initializeExtraActions(extraActions));\n      } catch (err) {\n        console.error('Unable to initalize extraActions', err);\n      }\n    }\n  }\n\n  useEffect(function () {\n    if (address) {\n      var pubKey = new Address$1(address).hex();\n\n      if (pubKey !== publicKey) {\n        logout();\n      }\n    }\n  }, [address, publicKey]);\n  useEffect(function () {\n    initializeApp();\n  }, [customNetworkConfig, environment]);\n  return initialized ? children : null;\n}\n\nvar DappProvider = function DappProvider(_ref) {\n  var children = _ref.children,\n      _ref$customNetworkCon = _ref.customNetworkConfig,\n      customNetworkConfig = _ref$customNetworkCon === void 0 ? {} : _ref$customNetworkCon,\n      extraActions = _ref.extraActions,\n      _ref$completedTransac = _ref.completedTransactionsDelay,\n      completedTransactionsDelay = _ref$completedTransac === void 0 ? 0 : _ref$completedTransac,\n      _ref$signWithoutSendi = _ref.signWithoutSending,\n      signWithoutSending = _ref$signWithoutSendi === void 0 ? false : _ref$signWithoutSendi,\n      environment = _ref.environment,\n      _ref$sendSignedTransa = _ref.sendSignedTransactionsAsync,\n      sendSignedTransactionsAsync = _ref$sendSignedTransa === void 0 ? sendSignedTransactions : _ref$sendSignedTransa,\n      _ref$getTransactionsB = _ref.getTransactionsByHash,\n      getTransactionsByHash = _ref$getTransactionsB === void 0 ? getTransactionsByHashes : _ref$getTransactionsB;\n  var memoizedSendSignedTransactionsAsync = useCallback(sendSignedTransactionsAsync, []);\n  var memoizedGetTransactionsByHash = useCallback(getTransactionsByHash, []);\n  return React__default.createElement(Provider, {\n    context: DappCoreContext,\n    store: store\n  }, React__default.createElement(PersistGate, {\n    persistor: persistor,\n    loading: null\n  }, React__default.createElement(OverrideDefaultBehaviourContext.Provider, {\n    value: {\n      sendSignedTransactionsAsync: memoizedSendSignedTransactionsAsync,\n      getTransactionsByHash: memoizedGetTransactionsByHash,\n      completedTransactionsDelay: completedTransactionsDelay\n    }\n  }, React__default.createElement(AppInitializer, {\n    environment: environment,\n    customNetworkConfig: customNetworkConfig,\n    extraActions: extraActions\n  }, React__default.createElement(ProviderInitializer, null), !signWithoutSending && React__default.createElement(TransactionSender, null), React__default.createElement(TransactionsTracker, null), children))));\n};\n\nvar AuthenticatedRoutesWrapper = function AuthenticatedRoutesWrapper(_ref) {\n  var children = _ref.children,\n      routes = _ref.routes,\n      unlockRoute = _ref.unlockRoute,\n      onRedirect = _ref.onRedirect;\n  var isLoggedIn = useSelector(isLoggedInSelector);\n  var isAccountLoading = useSelector(isAccountLoadingSelector);\n  var walletLogin = useSelector(walletLoginSelector);\n  var pathname = window.location.pathname;\n  var authenticatedRoutesRef = useRef(routes.filter(function (route) {\n    return Boolean(route.authenticatedRoute);\n  }));\n  var isOnAuthenticatedRoute = authenticatedRoutesRef.current.some(function (_ref2) {\n    var path = _ref2.path;\n    return pathname === path;\n  });\n  var shouldRedirect = isOnAuthenticatedRoute && !isLoggedIn && walletLogin == null;\n\n  if (isAccountLoading || walletLogin) {\n    return null;\n  }\n\n  if (shouldRedirect) {\n    if (onRedirect) {\n      onRedirect(unlockRoute);\n    } else {\n      window.location.href = unlockRoute;\n    }\n\n    return null;\n  }\n\n  return React__default.createElement(React__default.Fragment, null, children);\n};\n\nvar TransactionParameter = function TransactionParameter(sender, receiver, functionName, inputParameters, outputParameters) {\n  this.sender = sender;\n  this.receiver = receiver;\n  this.functionName = functionName;\n  this.inputParameters = inputParameters;\n  this.outputParameters = outputParameters;\n};\n\nvar index$2 = {\n  __proto__: null,\n  TransactionParameter: TransactionParameter\n};\n\nvar withClassNameWrapper = function withClassNameWrapper(Component) {\n  return function (_ref) {\n    var props = _extends({}, _ref);\n\n    return React__default.createElement(\"span\", {\n      className: wrapperClassName\n    }, React__default.createElement(Component, Object.assign({}, props)));\n  };\n};\n\nvar denominateInvalid = function denominateInvalid(props) {\n  return React__default.createElement(\"span\", {\n    \"data-testid\": props['data-testid'] ? props['data-testid'] : 'denominateComponent'\n  }, React__default.createElement(\"span\", {\n    className: 'int-amount'\n  }, \"...\"));\n};\n\nvar denominateValid = function denominateValid(props, erdLabel) {\n  var value = props.value,\n      _props$showLastNonZer = props.showLastNonZeroDecimal,\n      showLastNonZeroDecimal = _props$showLastNonZer === void 0 ? false : _props$showLastNonZer,\n      _props$showLabel = props.showLabel,\n      showLabel = _props$showLabel === void 0 ? true : _props$showLabel;\n  var decimals$1 = props.decimals !== undefined ? props.decimals : decimals;\n  var denomination$1 = props.denomination !== undefined ? props.denomination : denomination;\n  var denominatedValue = denominate({\n    input: value,\n    denomination: denomination$1,\n    decimals: decimals$1,\n    showLastNonZeroDecimal: showLastNonZeroDecimal,\n    addCommas: true\n  });\n  var valueParts = denominatedValue.split('.');\n  var hasNoDecimals = valueParts.length === 1;\n  var isNotZero = denominatedValue !== '0';\n\n  if (decimals$1 > 0 && hasNoDecimals && isNotZero) {\n    var zeros = '';\n\n    for (var i = 1; i <= decimals$1; i++) {\n      zeros = zeros + '0';\n    }\n\n    valueParts.push(zeros);\n  }\n\n  return React__default.createElement(\"span\", {\n    \"data-testid\": props['data-testid'] ? props['data-testid'] : 'denominateComponent'\n  }, React__default.createElement(\"span\", {\n    className: 'int-amount'\n  }, valueParts[0]), valueParts.length > 1 && React__default.createElement(\"span\", {\n    className: 'decimals'\n  }, \".\", valueParts[1]), showLabel && React__default.createElement(\"span\", {\n    className: \"symbol \" + (props.token ? 'text-muted' : '')\n  }, \"\\xA0\", props.token ? props.token : erdLabel));\n};\n\nvar Denominate = function Denominate(props) {\n  var value = props.value;\n  return !validation.stringIsInteger(value) ? denominateInvalid(props) : denominateValid(props, props.egldLabel || '');\n};\n\nvar DenominateWrapper = function DenominateWrapper(props) {\n  var egldLabel = getEgldLabel();\n\n  var denominateProps = _extends({}, props, {\n    egldLabel: egldLabel\n  });\n\n  return React__default.createElement(Denominate, Object.assign({}, denominateProps));\n};\n\nvar Denominate$1 = withClassNameWrapper(DenominateWrapper);\nvar fontawesomeFreeSolidIcons = {};\n\ntry {\n  fontawesomeFreeSolidIcons = require('@fortawesome/free-solid-svg-icons');\n} catch (err) {}\n\nvar icons = fontawesomeFreeSolidIcons;\nvar ReactFontawesome = {};\n\ntry {\n  ReactFontawesome = require('@fortawesome/react-fontawesome');\n} catch (err) {}\n\nvar ReactFontawesome$1 = ReactFontawesome;\n\nvar ExplorerLink = function ExplorerLink(_ref) {\n  var page = _ref.page,\n      text = _ref.text,\n      className = _ref.className;\n\n  var _useGetNetworkConfig = useGetNetworkConfig(),\n      explorerAddress = _useGetNetworkConfig.network.explorerAddress;\n\n  return React__default.createElement(\"a\", Object.assign({\n    href: \"\" + explorerAddress + page\n  }, {\n    target: '_blank'\n  }, {\n    className: \"link-style \" + className\n  }), text ? React__default.createElement(React__default.Fragment, null, text) : React__default.createElement(ReactFontawesome$1.FontAwesomeIcon, {\n    icon: icons.faSearch,\n    className: 'text-secondary'\n  }));\n};\n\nvar ExplorerLink$1 = withClassNameWrapper(ExplorerLink);\n\nvar ExtensionLoginButton = function ExtensionLoginButton(_ref) {\n  var token = _ref.token,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'extension-login' : _ref$className,\n      children = _ref.children,\n      callbackRoute = _ref.callbackRoute,\n      buttonClassName = _ref.buttonClassName,\n      _ref$loginButtonText = _ref.loginButtonText,\n      loginButtonText = _ref$loginButtonText === void 0 ? 'Maiar DeFi Wallet' : _ref$loginButtonText,\n      _ref$redirectAfterLog = _ref.redirectAfterLogin,\n      redirectAfterLogin = _ref$redirectAfterLog === void 0 ? false : _ref$redirectAfterLog,\n      _ref$shouldRenderDefa = _ref.shouldRenderDefaultCss,\n      shouldRenderDefaultCss = _ref$shouldRenderDefa === void 0 ? true : _ref$shouldRenderDefa;\n\n  var _useExtensionLogin = useExtensionLogin({\n    callbackRoute: callbackRoute,\n    token: token,\n    redirectAfterLogin: redirectAfterLogin\n  }),\n      onInitiateLogin = _useExtensionLogin[0];\n\n  var classes = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    wrapper: \"btn btn-primary px-sm-4 m-1 mx-sm-3 \" + (buttonClassName != null ? buttonClassName : ''),\n    loginText: 'text-left',\n    noExtensionButtonWrapper: 'btn btn-unlock d-inline-block',\n    noExtensionButtonContent: 'd-flex justify-content-between align-items-center',\n    noExtensionButtonTitle: 'title',\n    noExtensionButtonIcon: ''\n  });\n\n  var handleLogin = function handleLogin() {\n    onInitiateLogin();\n  };\n\n  return !window.elrondWallet ? React__default.createElement(\"a\", {\n    rel: 'noreferrer',\n    href: 'https://chrome.google.com/webstore/detail/dngmlblcodfobpdpecaadgfbcggfjfnm?authuser=0&hl=en',\n    target: '_blank',\n    className: classes.noExtensionButtonWrapper\n  }, React__default.createElement(\"div\", {\n    className: classes.noExtensionButtonContent\n  }, React__default.createElement(\"div\", {\n    className: classes.noExtensionButtonTitle\n  }, \"Maiar DeFi Wallet\"), React__default.createElement(ReactFontawesome$1.FontAwesomeIcon, {\n    className: classes.noExtensionButtonIcon,\n    icon: ReactFontawesome$1.faArrowRight\n  }))) : React__default.createElement(\"button\", {\n    onClick: handleLogin,\n    className: classes.wrapper\n  }, children || React__default.createElement(\"span\", {\n    className: classes.loginText\n  }, loginButtonText));\n};\n\nvar ExtensionLoginButton$1 = withClassNameWrapper(ExtensionLoginButton);\nvar ReactBootstrap = {};\n\ntry {\n  ReactBootstrap = require('react-bootstrap');\n} catch (err) {}\n\nvar ReactBootstrap$1 = ReactBootstrap;\n\nvar ModalContainer = function ModalContainer(_ref) {\n  var children = _ref.children,\n      noSpacer = _ref.noSpacer,\n      className = _ref.className,\n      title = _ref.title,\n      onClose = _ref.onClose;\n  return React__default.createElement(ReactBootstrap$1.Modal, {\n    show: true,\n    backdrop: 'static',\n    onHide: onClose,\n    className: \"modal-container \" + (className ? className : '') + \" \" + wrapperClassName,\n    animation: false,\n    centered: true\n  }, React__default.createElement(\"div\", {\n    className: 'modal-card card w-100'\n  }, React__default.createElement(\"div\", {\n    className: 'card-title h5 mb-0'\n  }, React__default.createElement(\"div\", {\n    className: 'd-flex justify-content-between align-items-center pt-spacer px-spacer mb-0'\n  }, React__default.createElement(\"div\", {\n    className: 'px-3'\n  }, title), React__default.createElement(\"button\", {\n    type: 'button',\n    className: 'btn btn-light px-3 py-2',\n    onClick: onClose\n  }, React__default.createElement(ReactFontawesome$1.FontAwesomeIcon, {\n    size: 'lg',\n    icon: icons.faTimes\n  })))), React__default.createElement(\"div\", {\n    className: \"modal-card-body text-center \" + (noSpacer ? 'p-0' : 'p-spacer')\n  }, children)));\n};\n\nfunction createCommonjsModule(fn, module) {\n  return module = {\n    exports: {}\n  }, fn(module, module.exports), module.exports;\n}\n\nvar classnames$2 = createCommonjsModule(function (module) {\n  /*!\n    Copyright (c) 2018 Jed Watson.\n    Licensed under the MIT License (MIT), see\n    http://jedwatson.github.io/classnames\n  */\n\n  /* global define */\n  (function () {\n    var hasOwn = {}.hasOwnProperty;\n\n    function classNames() {\n      var classes = [];\n\n      for (var i = 0; i < arguments.length; i++) {\n        var arg = arguments[i];\n        if (!arg) continue;\n        var argType = typeof arg;\n\n        if (argType === 'string' || argType === 'number') {\n          classes.push(arg);\n        } else if (Array.isArray(arg)) {\n          if (arg.length) {\n            var inner = classNames.apply(null, arg);\n\n            if (inner) {\n              classes.push(inner);\n            }\n          }\n        } else if (argType === 'object') {\n          if (arg.toString === Object.prototype.toString) {\n            for (var key in arg) {\n              if (hasOwn.call(arg, key) && arg[key]) {\n                classes.push(key);\n              }\n            }\n          } else {\n            classes.push(arg.toString());\n          }\n        }\n      }\n\n      return classes.join(' ');\n    }\n\n    if (module.exports) {\n      classNames.default = classNames;\n      module.exports = classNames;\n    } else {\n      window.classNames = classNames;\n    }\n  })();\n});\n\nvar PageState = function PageState(_ref) {\n  var _classNames;\n\n  var icon = _ref.icon,\n      title = _ref.title,\n      action = _ref.action,\n      iconClass = _ref.iconClass,\n      dataTestId = _ref.dataTestId,\n      description = _ref.description,\n      iconBgClass = _ref.iconBgClass,\n      _ref$iconSize = _ref.iconSize,\n      iconSize = _ref$iconSize === void 0 ? '5x' : _ref$iconSize,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'page-state' : _ref$className,\n      _ref$shouldRenderDefa = _ref.shouldRenderDefaultCss,\n      shouldRenderDefaultCss = _ref$shouldRenderDefa === void 0 ? true : _ref$shouldRenderDefa;\n  var generatedClasses = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    wrapper: 'state m-auto p-4 text-center',\n    iconContainer: classnames$2('icon-state mx-auto', (_classNames = {}, _classNames[\"\" + iconBgClass] = Boolean(iconBgClass), _classNames)),\n    iconClass: classnames$2(iconClass != null && iconClass),\n    title: 'h4 my-4',\n    description: 'mb-3'\n  });\n  return React__default.createElement(\"div\", {\n    className: generatedClasses.wrapper,\n    \"data-testid\": dataTestId\n  }, icon && React__default.createElement(\"span\", {\n    className: generatedClasses.iconContainer\n  }, React__default.createElement(ReactFontawesome$1.FontAwesomeIcon, {\n    icon: icon,\n    className: generatedClasses.iconClass,\n    size: iconSize\n  })), title && React__default.createElement(\"p\", {\n    className: generatedClasses.title\n  }, title), description && React__default.createElement(\"div\", {\n    className: generatedClasses.description\n  }, description), action && React__default.createElement(React__default.Fragment, null, action));\n};\n\nvar PageState$1 = withClassNameWrapper(PageState);\n\nvar trimHash = function trimHash(hash, keep) {\n  if (keep === void 0) {\n    keep = 10;\n  }\n\n  var start = hash.substring(0, keep);\n  var end = hash.substring(hash.length - keep);\n  return start + \"...\" + end;\n};\n\nvar noBalance = '...';\n\nvar AddressRow = function AddressRow(_ref) {\n  var address = _ref.address,\n      index = _ref.index,\n      selectedAddress = _ref.selectedAddress,\n      onSelectAddress = _ref.onSelectAddress;\n\n  var _React$useState = React__default.useState(noBalance),\n      balance = _React$useState[0],\n      setBalance = _React$useState[1];\n\n  var handleChange = function handleChange(e) {\n    var checked = e.target.checked;\n\n    if (checked) {\n      onSelectAddress({\n        address: address,\n        index: index\n      });\n    }\n  };\n\n  var fetchBalance = function fetchBalance() {\n    try {\n      var _temp2 = _catch(function () {\n        return Promise.resolve(getAccountBalance(address)).then(function (balance) {\n          setBalance(balance);\n        });\n      }, function () {\n        console.error('error fetching balance', balance);\n      });\n\n      return Promise.resolve(_temp2 && _temp2.then ? _temp2.then(function () {}) : void 0);\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  React__default.useEffect(function () {\n    fetchBalance();\n  }, []);\n  return React__default.createElement(\"tr\", null, React__default.createElement(\"td\", {\n    className: 'text-left'\n  }, React__default.createElement(\"div\", {\n    className: 'd-flex align-items-start text-left form-check'\n  }, React__default.createElement(\"input\", {\n    type: 'radio',\n    id: \"check_\" + index,\n    \"data-testid\": \"check_\" + index,\n    onChange: handleChange,\n    role: 'button',\n    checked: selectedAddress === address,\n    className: 'form-check-input mr-1'\n  }), React__default.createElement(\"label\", {\n    htmlFor: \"check_\" + index,\n    role: 'button',\n    \"data-testid\": \"label_\" + index,\n    className: 'form-check-label text-nowrap trim-size-xl m-0'\n  }, React__default.createElement(\"div\", {\n    className: 'd-flex align-items-center text-nowrap trim'\n  }, React__default.createElement(\"span\", null, trimHash(address)))))), React__default.createElement(\"td\", {\n    className: 'text-left'\n  }, React__default.createElement(Denominate$1, {\n    value: balance\n  })), React__default.createElement(\"td\", {\n    className: 'text-left'\n  }, index));\n};\n\nvar ledgerWaitingText = 'Waiting for device';\nvar addressesPerPage = 10;\n\nvar AddressTable = function AddressTable(_ref) {\n  var loading = _ref.loading,\n      accounts = _ref.accounts,\n      startIndex = _ref.startIndex,\n      selectedAddress = _ref.selectedAddress,\n      onGoToPrevPage = _ref.onGoToPrevPage,\n      onGoToNextPage = _ref.onGoToNextPage,\n      onConfirmSelectedAddress = _ref.onConfirmSelectedAddress,\n      onSelectAddress = _ref.onSelectAddress,\n      _ref$shouldRenderDefa = _ref.shouldRenderDefaultCss,\n      shouldRenderDefaultCss = _ref$shouldRenderDefa === void 0 ? true : _ref$shouldRenderDefa,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'ledger-address-table' : _ref$className;\n  var classes = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    wrapper: 'card my-4 text-center',\n    cardBody: 'card-body p-4 mx-lg-4',\n    tableWrapper: 'table-responsive',\n    tableContent: 'table m-0 border-bottom',\n    tableHeader: 'py-2 text-semibold border-bottom',\n    tableHeaderText: 'text-left border-0',\n    buttonsWrapper: 'd-flex justify-content-center pager mt-2',\n    arrowButton: 'btn btn-link mx-2',\n    confirmButton: 'btn btn-primary px-4 mt-4'\n  });\n\n  switch (true) {\n    case loading:\n      return React__default.createElement(PageState$1, {\n        className: className,\n        icon: icons.faCircleNotch,\n        iconClass: 'fa-spin text-primary',\n        title: ledgerWaitingText\n      });\n\n    default:\n      return React__default.createElement(React__default.Fragment, null, React__default.createElement(\"div\", {\n        className: 'm-auto'\n      }, React__default.createElement(\"div\", {\n        className: classes.wrapper\n      }, React__default.createElement(\"div\", {\n        className: classes.cardBody\n      }, React__default.createElement(\"div\", {\n        className: classes.tableWrapper,\n        \"data-testid\": 'ledgerAddresses'\n      }, React__default.createElement(\"table\", {\n        className: classes.tableContent\n      }, React__default.createElement(\"thead\", {\n        className: classes.tableHeader\n      }, React__default.createElement(\"tr\", null, React__default.createElement(\"th\", {\n        className: classes.tableHeaderText\n      }, \"Address\"), React__default.createElement(\"th\", {\n        className: classes.tableHeaderText\n      }, \"Balance\"), React__default.createElement(\"th\", {\n        className: classes.tableHeaderText\n      }, \"#\"))), React__default.createElement(\"tbody\", {\n        \"data-testid\": 'addressesTable'\n      }, accounts.map(function (address, index) {\n        var key = index + startIndex * addressesPerPage;\n        return React__default.createElement(AddressRow, {\n          key: key,\n          address: address,\n          index: key,\n          selectedAddress: selectedAddress,\n          onSelectAddress: onSelectAddress\n        });\n      })))), React__default.createElement(\"div\", {\n        className: classes.buttonsWrapper\n      }, React__default.createElement(\"button\", {\n        type: 'button',\n        className: classes.arrowButton,\n        onClick: onGoToPrevPage,\n        \"data-testid\": 'prevBtn',\n        disabled: startIndex === 0\n      }, React__default.createElement(ReactFontawesome$1.FontAwesomeIcon, {\n        size: 'sm',\n        icon: icons.faChevronLeft\n      }), ' ', \"Prev\"), React__default.createElement(\"button\", {\n        type: 'button',\n        className: classes.arrowButton,\n        onClick: onGoToNextPage,\n        \"data-testid\": 'nextBtn'\n      }, \"Next\", ' ', React__default.createElement(ReactFontawesome$1.FontAwesomeIcon, {\n        size: 'sm',\n        icon: icons.faChevronRight\n      }))), React__default.createElement(\"button\", {\n        className: classes.confirmButton,\n        disabled: selectedAddress === '',\n        onClick: onConfirmSelectedAddress,\n        \"data-testid\": 'confirmBtn'\n      }, \"Confirm\")))));\n  }\n};\n\nvar ConfirmAddress = function ConfirmAddress(_ref) {\n  var token = _ref.token,\n      noBorder = _ref.noBorder;\n\n  var _useGetAccountInfo = useGetAccountInfo(),\n      ledgerAccount = _useGetAccountInfo.ledgerAccount;\n\n  return React__default.createElement(\"div\", {\n    className: 'm-auto'\n  }, React__default.createElement(\"div\", {\n    className: \"card my-4 text-center \" + (noBorder ? 'border-0' : '')\n  }, React__default.createElement(\"div\", {\n    className: 'card-body p-4 mx-lg-4'\n  }, React__default.createElement(\"h4\", {\n    className: 'mb-4'\n  }, \"Confirm Ledger Address\"), React__default.createElement(\"p\", null, \"For security, please confirm that your address: \"), React__default.createElement(\"p\", {\n    className: 'lead border rounded p-2'\n  }, ledgerAccount ? ledgerAccount.address : ''), token && React__default.createElement(React__default.Fragment, null, React__default.createElement(\"p\", null, \"and Auth Token\"), React__default.createElement(\"p\", {\n    className: 'lead border rounded p-2'\n  }, token + \"{}\")), React__default.createElement(\"p\", {\n    className: 'm-0'\n  }, token ? 'are the one shown on your Ledger device screen now.' : 'is the one shown on your Ledger device screen now.'), React__default.createElement(\"p\", null, \"Select Approve on your device to confirm.\"), React__default.createElement(\"p\", null, \"Or, if it does not match, close this page and\", ' ', React__default.createElement(\"a\", Object.assign({\n    href: 'https://help.elrond.com/en/'\n  }, {\n    target: '_blank'\n  }), \"contact support\"), \".\"))));\n};\n\nvar _defs, _g;\n\nfunction _extends$1() {\n  _extends$1 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends$1.apply(this, arguments);\n}\n\nfunction SvgLedgerNano(props) {\n  return /*#__PURE__*/createElement(\"svg\", _extends$1({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    width: 110,\n    height: 55,\n    viewBox: \"0 0 260 129\"\n  }, props), _defs || (_defs = /*#__PURE__*/createElement(\"defs\", null, /*#__PURE__*/createElement(\"linearGradient\", {\n    id: \"ledger-nano_svg__a\",\n    x1: \"50%\",\n    x2: \"50%\",\n    y1: \"0%\",\n    y2: \"100%\"\n  }, /*#__PURE__*/createElement(\"stop\", {\n    offset: \"0%\"\n  }), /*#__PURE__*/createElement(\"stop\", {\n    offset: \"100%\",\n    stopColor: \"#FFF\"\n  })), /*#__PURE__*/createElement(\"path\", {\n    id: \"ledger-nano_svg__b\",\n    d: \"M91 0h34a4 4 0 014 4v108.144c0 11.519-9.337 20.856-20.856 20.856h-.288C96.337 133 87 123.663 87 112.144V4a4 4 0 014-4z\"\n  }))), _g || (_g = /*#__PURE__*/createElement(\"g\", {\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/createElement(\"path\", {\n    className: \"ledger-nano_svg__ledger-stroke\",\n    stroke: \"#1D2027\",\n    strokeWidth: 2,\n    d: \"M127.856 31.44a1 1 0 01-1 1H100.63a5 5 0 01-5-5v-8.486a5 5 0 015-5h26.225a1 1 0 011 1v16.485z\"\n  }), /*#__PURE__*/createElement(\"path\", {\n    className: \"ledger-nano_svg__ledger-stroke\",\n    stroke: \"#142533\",\n    strokeWidth: 2,\n    d: \"M95.247 26.231H84.318v-6.435h10.93v6.435z\"\n  }), /*#__PURE__*/createElement(\"path\", {\n    className: \"ledger-nano_svg__ledger-stroke\",\n    stroke: \"#1D2027\",\n    strokeWidth: 2,\n    d: \"M127.923 28.726V17.471l6.977.083a1 1 0 01.988 1v9.266a1 1 0 01-1.012.988l-6.953-.083z\"\n  }), /*#__PURE__*/createElement(\"path\", {\n    fill: \"url(#ledger-nano_svg__a)\",\n    d: \"M6.836 53.925h1.616v82.65H6.836v-82.65zm5.657 0h1.616v82.65h-1.616v-82.65z\",\n    transform: \"matrix(0 -1 -1 0 137.5 33.44)\"\n  }), /*#__PURE__*/createElement(\"g\", {\n    transform: \"rotate(-90 128.59 1.975)\"\n  }, /*#__PURE__*/createElement(\"rect\", {\n    className: \"ledger-nano_svg__ledger-fill\",\n    width: 4.492,\n    height: 17.12,\n    x: 125.336,\n    y: 15.505,\n    fill: \"#142533\",\n    rx: 2\n  }), /*#__PURE__*/createElement(\"rect\", {\n    className: \"ledger-nano_svg__ledger-fill\",\n    width: 4.492,\n    height: 17.12,\n    x: 125.336,\n    y: 70.094,\n    fill: \"#142533\",\n    rx: 2\n  }), /*#__PURE__*/createElement(\"use\", {\n    className: \"ledger-nano_svg__ledger-fill-inner-bg\",\n    fill: \"#FFF\",\n    xlinkHref: \"#ledger-nano_svg__b\"\n  }), /*#__PURE__*/createElement(\"path\", {\n    className: \"ledger-nano_svg__ledger-stroke\",\n    fill: \"#6490F1\",\n    fillOpacity: 0.15,\n    stroke: \"#142533\",\n    strokeLinejoin: \"square\",\n    strokeWidth: 2,\n    d: \"M91 1a3 3 0 00-3 3v108.144C88 123.11 96.89 132 107.856 132h.288C119.11 132 128 123.11 128 112.144V4a3 3 0 00-3-3H91z\"\n  }), /*#__PURE__*/createElement(\"rect\", {\n    className: \"ledger-nano_svg__ledger-fill-outer-bg\",\n    width: 21,\n    height: 62,\n    x: 97.5,\n    y: 21.5,\n    fill: \"#FFF\",\n    stroke: \"#6490F1\",\n    rx: 1.6\n  }), /*#__PURE__*/createElement(\"path\", {\n    fill: \"#6490F1\",\n    d: \"M105.5 35h5a.5.5 0 01.5.5v34a.5.5 0 01-.5.5h-5a.5.5 0 01-.5-.5v-34a.5.5 0 01.5-.5zm1.238 3.042l.774.512v.013l-.774.505.341.466.722-.577h.013l.243.899.551-.177-.328-.88.932.053v-.597l-.932.046.328-.873-.551-.17-.243.892h-.013l-.722-.584-.34.472zm0 3.908l.774.512v.013l-.774.505.341.466.722-.578h.013l.243.9.551-.178-.328-.88.932.053v-.597l-.932.046.328-.872-.551-.17-.243.891h-.013l-.722-.584-.34.473zm0 3.907l.774.512v.013l-.774.505.341.466.722-.577h.013l.243.899.551-.178-.328-.879.932.053v-.597l-.932.046.328-.873-.551-.17-.243.892h-.013l-.722-.584-.34.472zm0 3.908l.774.511v.014l-.774.505.341.466.722-.578h.013l.243.899.551-.177-.328-.88.932.053v-.597l-.932.046.328-.872-.551-.171-.243.892h-.013l-.722-.584-.34.473zm0 3.907l.774.512v.013l-.774.505.341.466.722-.577h.013l.243.898.551-.177-.328-.879.932.053v-.597l-.932.046.328-.873-.551-.17-.243.892h-.013l-.722-.584-.34.472zm0 3.908l.774.511v.013l-.774.506.341.465.722-.577h.013l.243.899.551-.177-.328-.88.932.053v-.597l-.932.046.328-.873-.551-.17-.243.892h-.013l-.722-.584-.34.473zm0 3.907l.774.512v.013l-.774.505.341.466.722-.578h.013l.243.9.551-.178-.328-.879.932.052v-.597l-.932.046.328-.872-.551-.17-.243.891h-.013l-.722-.583-.34.472zm0 3.907l.774.512v.013l-.774.505.341.466.722-.577h.013l.243.899.551-.177-.328-.88.932.053v-.597l-.932.046.328-.873-.551-.17-.243.892h-.013l-.722-.584-.34.472z\"\n  }), /*#__PURE__*/createElement(\"path\", {\n    className: \"ledger-nano_svg__ledger-stroke ledger-nano_svg__ledger-fill-outer-bg\",\n    fill: \"#FFF\",\n    stroke: \"#142533\",\n    strokeWidth: 2,\n    d: \"M123.166 125.105c7.049-8.4 5.953-20.925-2.447-27.974l-90.824-76.21a3 3 0 00-4.227.37L4 47.115a3 3 0 00.37 4.227l90.824 76.21c8.4 7.049 20.924 5.953 27.973-2.447z\"\n  }), /*#__PURE__*/createElement(\"ellipse\", {\n    cx: 108.016,\n    cy: 111.123,\n    stroke: \"#6490F1\",\n    rx: 10.57,\n    ry: 10.644\n  })))));\n}\n\nvar LedgerConnect = function LedgerConnect(_ref) {\n  var onClick = _ref.onClick,\n      error = _ref.error,\n      connectPageContent = _ref.connectPageContent;\n  return React__default.createElement(\"div\", {\n    className: 'm-auto login-container'\n  }, React__default.createElement(\"div\", {\n    className: 'card my-4 text-center'\n  }, React__default.createElement(\"div\", {\n    className: 'card-body p-4 mx-lg-4'\n  }, connectPageContent ? React__default.createElement(React__default.Fragment, null, connectPageContent) : React__default.createElement(React__default.Fragment, null, React__default.createElement(SvgLedgerNano, {\n    className: 'mb-4'\n  }), React__default.createElement(\"h4\", {\n    className: 'mb-4'\n  }, \"Connect Ledger\"), React__default.createElement(\"p\", {\n    className: 'lead mb-4'\n  }, \"Unlock your device & open the Elrond App.\")), React__default.createElement(\"div\", null, error && React__default.createElement(\"p\", {\n    className: 'text-danger d-flex justify-content-center align-items-center'\n  }, error), React__default.createElement(\"button\", {\n    className: 'btn btn-primary px-4',\n    onClick: onClick,\n    \"data-testid\": 'connectBtn'\n  }, \"Connect Ledger\")))));\n};\n\nvar ledgerWaitingText$1 = 'Waiting for device';\n\nfunction LedgerLoginContainer(_ref) {\n  var callbackRoute = _ref.callbackRoute,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'login-modal-content' : _ref$className,\n      _ref$shouldRenderDefa = _ref.shouldRenderDefaultCss,\n      shouldRenderDefaultCss = _ref$shouldRenderDefa === void 0 ? true : _ref$shouldRenderDefa,\n      _ref$wrapContentInsid = _ref.wrapContentInsideModal,\n      wrapContentInsideModal = _ref$wrapContentInsid === void 0 ? true : _ref$wrapContentInsid,\n      redirectAfterLogin = _ref.redirectAfterLogin,\n      onClose = _ref.onClose,\n      token = _ref.token;\n  var generatedClasses = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    spinner: 'fa-spin text-primary'\n  });\n\n  var _useGetAccountInfo = useGetAccountInfo(),\n      ledgerAccount = _useGetAccountInfo.ledgerAccount;\n\n  var _useLedgerLogin = useLedgerLogin({\n    callbackRoute: callbackRoute,\n    token: token,\n    redirectAfterLogin: redirectAfterLogin\n  }),\n      onStartLogin = _useLedgerLogin[0],\n      _useLedgerLogin$ = _useLedgerLogin[1],\n      error = _useLedgerLogin$.error,\n      isLoading = _useLedgerLogin$.isLoading,\n      _useLedgerLogin$2 = _useLedgerLogin[2],\n      showAddressList = _useLedgerLogin$2.showAddressList,\n      accounts = _useLedgerLogin$2.accounts,\n      onGoToPrevPage = _useLedgerLogin$2.onGoToPrevPage,\n      onGoToNextPage = _useLedgerLogin$2.onGoToNextPage,\n      onSelectAddress = _useLedgerLogin$2.onSelectAddress,\n      onConfirmSelectedAddress = _useLedgerLogin$2.onConfirmSelectedAddress,\n      startIndex = _useLedgerLogin$2.startIndex,\n      selectedAddress = _useLedgerLogin$2.selectedAddress;\n\n  function getContent() {\n    if (isLoading) {\n      return React__default.createElement(PageState$1, {\n        icon: icons.faCircleNotch,\n        iconClass: generatedClasses.spinner,\n        title: ledgerWaitingText$1\n      });\n    }\n\n    if (ledgerAccount != null && !error) {\n      return React__default.createElement(ConfirmAddress, {\n        token: token\n      });\n    }\n\n    if (showAddressList && !error) {\n      return React__default.createElement(AddressTable, {\n        accounts: accounts,\n        loading: isLoading,\n        className: className,\n        shouldRenderDefaultCss: shouldRenderDefaultCss,\n        onGoToNextPage: onGoToNextPage,\n        onGoToPrevPage: onGoToPrevPage,\n        onSelectAddress: onSelectAddress,\n        startIndex: startIndex,\n        selectedAddress: selectedAddress === null || selectedAddress === void 0 ? void 0 : selectedAddress.address,\n        onConfirmSelectedAddress: onConfirmSelectedAddress\n      });\n    }\n\n    return React__default.createElement(LedgerConnect, {\n      onClick: onStartLogin,\n      error: error\n    });\n  }\n\n  return wrapContentInsideModal ? React__default.createElement(ModalContainer, {\n    title: 'Login with ledger',\n    className: className,\n    onClose: onClose\n  }, getContent()) : getContent();\n}\n\nvar LedgerLoginContainer$1 = withClassNameWrapper(LedgerLoginContainer);\n\nvar LedgerLoginButton = function LedgerLoginButton(_ref) {\n  var token = _ref.token,\n      callbackRoute = _ref.callbackRoute,\n      children = _ref.children,\n      _ref$loginButtonText = _ref.loginButtonText,\n      loginButtonText = _ref$loginButtonText === void 0 ? 'Ledger' : _ref$loginButtonText,\n      buttonClassName = _ref.buttonClassName,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'ledger-login' : _ref$className,\n      _ref$redirectAfterLog = _ref.redirectAfterLogin,\n      redirectAfterLogin = _ref$redirectAfterLog === void 0 ? false : _ref$redirectAfterLog,\n      _ref$wrapContentInsid = _ref.wrapContentInsideModal,\n      wrapContentInsideModal = _ref$wrapContentInsid === void 0 ? true : _ref$wrapContentInsid,\n      _ref$shouldRenderDefa = _ref.shouldRenderDefaultCss,\n      shouldRenderDefaultCss = _ref$shouldRenderDefa === void 0 ? true : _ref$shouldRenderDefa;\n\n  var _React$useState = React__default.useState(false),\n      showLoginModal = _React$useState[0],\n      setShowLoginModal = _React$useState[1];\n\n  var generatedClasses = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    wrapper: \"btn btn-primary px-sm-4 m-1 mx-sm-3 \" + (buttonClassName != null ? buttonClassName : ''),\n    loginText: 'text-left'\n  });\n\n  function handleOpenModal() {\n    setShowLoginModal(true);\n  }\n\n  function handleCloseModal() {\n    setShowLoginModal(false);\n  }\n\n  return React__default.createElement(\"span\", {\n    className: wrapperClassName\n  }, React__default.createElement(\"button\", {\n    onClick: handleOpenModal,\n    className: generatedClasses.wrapper\n  }, children || React__default.createElement(\"span\", {\n    className: generatedClasses.loginText\n  }, loginButtonText)), showLoginModal && React__default.createElement(LedgerLoginContainer$1, {\n    className: className,\n    shouldRenderDefaultCss: shouldRenderDefaultCss,\n    callbackRoute: callbackRoute,\n    token: token,\n    wrapContentInsideModal: wrapContentInsideModal,\n    redirectAfterLogin: redirectAfterLogin,\n    onClose: handleCloseModal\n  }));\n};\n\nvar LedgerLoginButton$1 = withClassNameWrapper(LedgerLoginButton);\n\nvar _notificationTypesToI;\n\nvar notificationTypesToIcons = (_notificationTypesToI = {}, _notificationTypesToI[NotificationTypesEnum.warning] = icons.faExclamationTriangle, _notificationTypesToI);\nvar defaultIcon = icons.faExclamationTriangle;\n\nfunction NotificationModal() {\n  var _useGetNotification = useGetNotification(),\n      notification = _useGetNotification.notification,\n      clearNotification = _useGetNotification.clearNotification;\n\n  var showModal = Boolean(notification);\n\n  var onDone = function onDone() {\n    clearNotification();\n  };\n\n  var icon = notification ? notificationTypesToIcons[notification === null || notification === void 0 ? void 0 : notification.type] || defaultIcon : null;\n  return notification ? React__default.createElement(ReactBootstrap$1.Modal, {\n    show: showModal,\n    backdrop: true,\n    onHide: notification,\n    className: \"modal-container \" + wrapperClassName,\n    animation: false,\n    centered: true\n  }, React__default.createElement(\"div\", {\n    className: 'card w-100 notification-modal'\n  }, React__default.createElement(PageState$1, {\n    icon: icon,\n    iconClass: notification.iconClassName,\n    iconBgClass: 'p-4 rounded-bg-circle',\n    iconSize: '3x',\n    title: notification.title,\n    description: notification.description,\n    action: React__default.createElement(\"button\", {\n      className: 'btn btn-primary',\n      onClick: onDone\n    }, \"Done\")\n  }))) : null;\n}\n\nvar SignWithExtensionModal = function SignWithExtensionModal(_ref) {\n  var handleClose = _ref.handleClose,\n      error = _ref.error,\n      callbackRoute = _ref.callbackRoute,\n      transactions = _ref.transactions,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'extension-modal' : _ref$className;\n  var classes = getGeneratedClasses(className, true, {\n    wrapper: 'modal-container extension',\n    icon: 'text-white',\n    closeBtn: 'btn btn-close-link mt-2'\n  });\n  var description = error ? error : transactions && transactions.length > 1 ? 'Check your Elrond Wallet Extension to sign the transactions' : 'Check your Elrond Wallet Extension to sign the transaction';\n\n  var close = function close(e) {\n    e.preventDefault();\n    handleClose();\n\n    if (callbackRoute != null && !window.location.pathname.includes(callbackRoute)) {\n      window.location.href = callbackRoute;\n    }\n  };\n\n  return React__default.createElement(ReactBootstrap$1.Modal, {\n    show: true,\n    backdrop: 'static',\n    onHide: handleClose,\n    className: classnames$1(classes.wrapper, wrapperClassName),\n    animation: false,\n    centered: true\n  }, React__default.createElement(PageState$1, {\n    icon: error ? icons.faTimes : icons.faHourglass,\n    iconClass: classes.icon,\n    className: className,\n    iconBgClass: error ? 'bg-danger' : 'bg-warning',\n    iconSize: '3x',\n    title: 'Confirm on Maiar DeFi Wallet',\n    description: description,\n    action: React__default.createElement(\"button\", {\n      id: 'closeButton',\n      \"data-testid\": 'closeButton',\n      onClick: close,\n      className: classes.closeBtn\n    }, \"Close\")\n  }));\n};\n\nvar _g$1;\n\nfunction _extends$2() {\n  _extends$2 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends$2.apply(this, arguments);\n}\n\nfunction SvgEgld(props) {\n  return /*#__PURE__*/createElement(\"svg\", _extends$2({\n    viewBox: \"0 0 100 100\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, props), _g$1 || (_g$1 = /*#__PURE__*/createElement(\"g\", {\n    fillRule: \"nonzero\"\n  }, /*#__PURE__*/createElement(\"path\", {\n    d: \"M79.6 19.424c-.4-.438-.6-.877-.6-1.425 0-.547.2-.986.6-1.424.8-.767 2-.767 2.8 0 .4.438.6.877.6 1.424 0 .548-.2.987-.6 1.425-.4.329-.9.548-1.4.548-.5.11-1-.11-1.4-.548M74.556 24.448c-.333-.441-.556-.883-.556-1.435s.223-.993.556-1.434c.778-.772 2.111-.772 2.889 0 .333.441.555.883.555 1.435s-.222.993-.555 1.434C77 24.779 76.556 25 76 25s-1-.221-1.445-.552M69.556 30.448c-.333-.331-.556-.883-.556-1.435s.223-.993.556-1.434c.778-.772 2.111-.772 2.889 0 .333.331.555.883.555 1.435s-.222.993-.555 1.434C72 30.889 71.556 31 71 31s-1.112-.221-1.445-.552M64.6 35.448c-.4-.331-.6-.883-.6-1.435s.2-.993.6-1.434c.8-.772 2-.772 2.8 0 .4.331.6.883.6 1.435s-.2 1.103-.6 1.434c-.4.441-.9.552-1.4.552s-1-.11-1.4-.552M59.556 40.424c-.444-.329-.556-.877-.556-1.425 0-.547.223-.986.556-1.424.778-.767 2.111-.767 2.889 0 .444.329.555.877.555 1.424 0 .548-.222 1.096-.555 1.425-.333.438-.889.548-1.445.548a1.457 1.457 0 01-1.444-.548M53 44.014c0-.552.222-.993.556-1.435.777-.772 2.11-.772 2.888 0 .445.442.556.883.556 1.435s-.222.993-.556 1.435c-.333.33-.888.551-1.444.551s-1-.22-1.444-.551c-.334-.332-.556-.883-.556-1.435zM43.556 56.424c-.333-.329-.556-.877-.556-1.425 0-.547.223-.986.556-1.424.778-.767 2.111-.767 2.889 0 .444.438.555.877.555 1.424 0 .548-.222.987-.555 1.425-.333.438-.889.548-1.445.548-.555.11-1-.11-1.444-.548M38.6 61.424c-.4-.329-.6-.877-.6-1.425 0-.547.2-.986.6-1.424.8-.767 2-.767 2.8 0 .4.438.6.877.6 1.424 0 .548-.2.987-.6 1.425-.4.438-.9.548-1.4.548-.5.11-1-.11-1.4-.548M33.556 66.448c-.333-.331-.556-.883-.556-1.435s.223-1.103.556-1.434c.778-.772 2.111-.772 2.889 0 .333.331.555.883.555 1.434s-.222.994-.555 1.435C36 66.889 35.556 67 35 67s-1-.221-1.444-.552M27.556 71.448c-.444-.331-.556-.883-.556-1.435s.223-.993.556-1.434c.778-.772 2.111-.772 2.889 0 .333.441.555.883.555 1.435s-.222 1.103-.555 1.434C30 71.889 29.556 72 29 72s-1.112-.11-1.445-.552M22.615 76.448c-.41-.331-.615-.883-.615-1.435s.205-.993.615-1.434c.82-.772 2.051-.772 2.77 0 .41.441.615.883.615 1.435s-.206 1.103-.616 1.434c-.41.331-.923.552-1.436.552-.513 0-1.025-.11-1.333-.552M17.556 82.424c-.444-.438-.556-.877-.556-1.425 0-.547.223-.986.556-1.424.778-.767 2.111-.767 2.889 0 .444.438.555.877.555 1.425 0 .547-.222.986-.555 1.424-.333.329-.889.548-1.444.548-.445.11-1-.11-1.445-.548M20.444 19.424c.333-.438.556-.877.556-1.425 0-.547-.223-.986-.556-1.424-.778-.767-2.111-.767-2.889 0-.444.438-.555.877-.555 1.424 0 .548.222.987.555 1.425.333.329.889.548 1.444.548.556.11 1.112-.11 1.445-.548M25.4 24.448c.4-.441.6-.883.6-1.435s-.2-.993-.6-1.434c-.8-.772-2-.772-2.8 0-.4.441-.6.883-.6 1.435s.2.993.6 1.434c.4.331.9.552 1.4.552s1-.221 1.4-.552M30.444 30.448c.333-.331.556-.883.556-1.435s-.223-.993-.556-1.434c-.778-.772-2.111-.772-2.889 0-.333.331-.555.883-.555 1.435s.222.993.555 1.434C28 30.889 28.444 31 29 31c.445 0 1-.221 1.445-.552M36.444 35.448c.333-.331.556-.883.556-1.435s-.223-.993-.556-1.434c-.778-.772-2.111-.772-2.889 0-.333.331-.555.883-.555 1.435s.222 1.103.555 1.434C34 35.889 34.444 36 35 36c.444 0 1-.11 1.444-.552M41.385 40.424c.41-.329.615-.877.615-1.425 0-.547-.205-.986-.615-1.424-.718-.767-2.051-.767-2.77 0-.41.329-.615.877-.615 1.424 0 .548.206 1.096.616 1.425.41.438.923.548 1.436.548.513.11 1.025-.11 1.333-.548M47 44.014c0-.552-.222-.993-.556-1.435-.777-.772-2.11-.772-2.888 0-.445.442-.556.883-.556 1.435s.222.993.556 1.435c.333.33.888.551 1.444.551s1-.22 1.444-.551c.445-.332.556-.883.556-1.435zM51.444 51.448c.444-.441.556-.883.556-1.435s-.223-.993-.556-1.434c-.778-.772-2.111-.772-2.889 0-.444.441-.555.883-.555 1.435s.222.993.555 1.434c.333.331.889.552 1.445.552s1.11-.221 1.444-.552M56.385 56.424c.41-.329.615-.877.615-1.425 0-.547-.205-.986-.615-1.424-.82-.767-2.051-.767-2.77 0-.41.438-.615.877-.615 1.424 0 .548.206.987.616 1.425.41.438.923.548 1.436.548.41.11.923-.11 1.333-.548M62.444 61.424c.333-.329.556-.877.556-1.425 0-.547-.223-.986-.556-1.424-.778-.767-2.111-.767-2.889 0-.333.438-.555.877-.555 1.424 0 .548.222.987.555 1.425.445.438.889.548 1.445.548.444.11 1-.11 1.444-.548M67.444 66.448c.333-.331.556-.883.556-1.435s-.223-1.103-.556-1.434c-.778-.772-2.111-.772-2.889 0-.333.331-.555.883-.555 1.434s.222.994.555 1.435C65 66.889 65.444 67 66 67s1-.221 1.445-.552M72.444 71.448c.444-.331.556-.883.556-1.435s-.223-.993-.556-1.434c-.778-.772-2.111-.772-2.889 0-.333.441-.555.883-.555 1.435s.222 1.103.555 1.434C70 71.889 70.444 72 71 72s1.112-.11 1.445-.552M77.444 76.448c.444-.331.556-.883.556-1.435s-.223-.993-.556-1.434c-.778-.772-2.111-.772-2.889 0-.444.441-.555.883-.555 1.435s.222 1.103.555 1.434c.333.331.889.552 1.444.552s1.112-.11 1.445-.552M82.385 82.424c.41-.438.615-.877.615-1.425 0-.547-.205-.986-.615-1.424-.82-.767-2.051-.767-2.77 0-.41.438-.615.877-.615 1.425 0 .547.206.986.616 1.424.41.329.923.548 1.436.548.41.11.923-.11 1.333-.548M33.036 21c5.265-3.433 11.036-5.048 17.414-5.149 6.277 0 12.048 1.716 17.414 5.149L79.001 9.894C70.294 3.331 60.878 0 50.45 0 40.022 0 30.505 3.332 22.001 9.894L33.037 21zM21 66.742c-3.585-5.375-5.327-11.157-5.327-17.343 0-6.288 1.742-12.069 5.327-17.343L9.834 21.001C3.278 29.521 0 38.953 0 49.501c0 10.345 3.278 19.879 9.937 28.5L21 66.743zM67.964 78c-5.265 3.533-11.036 5.35-17.313 5.451-6.378 0-12.25-1.716-17.515-5.35L21.999 89.105c8.606 6.663 18.123 9.994 28.652 9.893 10.428-.1 19.844-3.432 28.348-9.893L67.963 78zM79 32.258c3.533 5.375 5.35 11.258 5.25 17.648-.102 6.187-1.818 11.867-5.25 17.039L90.105 78c6.562-8.52 9.893-17.952 9.893-28.297.101-10.548-3.23-20.082-9.893-28.703L79 32.258zM90 81c4.364 0 8 3.533 8 8 0 4.364-3.533 8-8 8-4.364 0-8-3.533-8-8s3.533-8 8-8M10 81c4.421 0 8 3.533 8 8 0 4.364-3.579 8-8 8-4.421 0-8-3.533-8-8s3.579-8 8-8M90 1c4.421 0 8 3.533 8 8 0 4.468-3.579 8-8 8s-8-3.533-8-8c0-4.468 3.579-8 8-8M10 1c4.364 0 8 3.579 8 8 0 4.421-3.533 8-8 8-4.364 0-8-3.579-8-8 0-4.421 3.533-8 8-8\"\n  }))));\n}\n\nvar Simple = function Simple(_ref) {\n  var children = _ref.children;\n  return createElement(\"div\", {\n    className: 'token-symbol'\n  }, children);\n};\n\nvar Combined = function Combined(_ref2) {\n  var small = _ref2.small,\n      children = _ref2.children;\n  return createElement(\"div\", {\n    className: \"token-symbol-combined \" + (small ? 'small' : '')\n  }, children);\n};\n\nvar getIdentifierWithoutNonce = function getIdentifierWithoutNonce(identifier) {\n  var tokenParts = identifier.split('-');\n  return identifier.includes('-') ? tokenParts[0] + \"-\" + tokenParts[1] : identifier;\n};\n\nvar getDetails = function getDetails(token) {\n  var egldLabel = getEgldLabel();\n  var isEgldTransfer = token === egldLabel;\n  return {\n    token: token,\n    symbol: token ? token.split('-')[0] : '',\n    label: token,\n    icon: function icon() {\n      return isEgldTransfer ? createElement(SvgEgld, null) : createElement(ReactFontawesome$1.FontAwesomeIcon, {\n        icon: icons.faGem\n      });\n    }\n  };\n};\n\nvar TokenDetails = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(TokenDetails, _React$Component);\n\n  function TokenDetails() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = TokenDetails.prototype;\n\n  _proto.render = function render() {\n    return null;\n  };\n\n  return TokenDetails;\n}(Component);\n\nTokenDetails.Token = function (props) {\n  return createElement(Fragment, null, props.token);\n};\n\nTokenDetails.Symbol = function (props) {\n  return createElement(Fragment, null, getDetails(getIdentifierWithoutNonce(props.token)).symbol);\n};\n\nTokenDetails.Label = function (props) {\n  return createElement(Fragment, null, getDetails(getIdentifierWithoutNonce(props.token)).label);\n};\n\nTokenDetails.Icon = function (props) {\n  var Component = process.env.NODE_ENV !== 'test' ? getDetails(getIdentifierWithoutNonce(props.token)).icon : function () {\n    return null;\n  };\n  return createElement(\"span\", {\n    className: wrapperClassName\n  }, props.combined ? createElement(Combined, {\n    small: props.small\n  }, createElement(Component, null)) : createElement(Simple, null, createElement(Component, null)));\n};\n\nvar allOccurences = function allOccurences(sourceStr, searchStr) {\n  return [].concat(sourceStr.matchAll(new RegExp(searchStr, 'gi'))).map(function (a) {\n    return a.index;\n  });\n};\n\nvar TransactionData = function TransactionData(_ref) {\n  var data = _ref.data,\n      highlight = _ref.highlight,\n      isScCall = _ref.isScCall;\n  var output = createElement(Fragment, null, data);\n\n  var _ref2 = highlight && isScCall ? highlight.split('@') : [],\n      encodedScCall = _ref2[0],\n      remainingDataFields = _ref2.slice(1);\n\n  if (data && highlight && allOccurences(data, highlight).length === 1) {\n    switch (true) {\n      case data.startsWith(highlight):\n        {\n          var _data$split = data.split(highlight),\n              rest = _data$split[1];\n\n          output = createElement(Fragment, null, highlight, createElement(\"span\", {\n            className: 'text-muted'\n          }, rest));\n          break;\n        }\n\n      case data.endsWith(highlight):\n        {\n          var _data$split2 = data.split(highlight),\n              _rest = _data$split2[0];\n\n          output = createElement(Fragment, null, createElement(\"span\", {\n            className: 'text-muted'\n          }, _rest), highlight);\n          break;\n        }\n\n      default:\n        {\n          var _data$split3 = data.split(highlight),\n              start = _data$split3[0],\n              end = _data$split3[1];\n\n          output = createElement(Fragment, null, createElement(\"span\", {\n            className: 'text-muted'\n          }, start), createElement(\"span\", {\n            className: 'highlighted'\n          }, highlight), createElement(\"span\", {\n            className: 'text-muted'\n          }, end));\n          break;\n        }\n    }\n  }\n\n  return createElement(Fragment, null, encodedScCall && createElement(\"div\", {\n    className: 'form-group mb-0 data-field mw-100'\n  }, createElement(\"span\", {\n    className: 'form-label text-secondary d-block'\n  }, \"SC Call\"), createElement(\"div\", {\n    \"data-testid\": 'confirmScCall',\n    className: 'textarea sc-call form-control cursor-text mt-1 text-break-all'\n  }, [decodePart(encodedScCall)].concat(remainingDataFields).join('@'))), createElement(\"div\", {\n    className: 'form-group mb-0 data-field mw-100'\n  }, createElement(\"span\", {\n    className: 'form-label text-secondary d-block'\n  }, \"Data\"), createElement(\"div\", {\n    \"data-testid\": 'confirmData',\n    className: 'textarea form-control cursor-text mt-1 text-break-all'\n  }, data ? output : 'N/A')));\n};\n\nvar TransactionData$1 = withClassNameWrapper(TransactionData);\n\nvar SignStep = function SignStep(_ref) {\n  var onSignTransaction = _ref.onSignTransaction,\n      handleClose = _ref.handleClose,\n      onPrev = _ref.onPrev,\n      waitingForDevice = _ref.waitingForDevice,\n      currentTransaction = _ref.currentTransaction,\n      error = _ref.error,\n      isLastTransaction = _ref.isLastTransaction,\n      currentStep = _ref.currentStep,\n      className = _ref.className;\n  var egldLabel = getEgldLabel();\n  var transactionData = currentTransaction.transaction.getData().toString();\n\n  var _useGetNetworkConfig = useGetNetworkConfig(),\n      network = _useGetNetworkConfig.network;\n\n  var _currentTransaction$t = currentTransaction.transactionTokenInfo,\n      tokenId = _currentTransaction$t.tokenId,\n      amount = _currentTransaction$t.amount,\n      type = _currentTransaction$t.type,\n      multiTxData = _currentTransaction$t.multiTxData,\n      receiver = _currentTransaction$t.receiver;\n  var isTokenTransaction = Boolean(tokenId && isTokenTransfer({\n    tokenId: tokenId,\n    erdLabel: egldLabel\n  }));\n\n  var onCloseClick = function onCloseClick(e) {\n    e.preventDefault();\n\n    if (isFirst) {\n      handleClose();\n    } else {\n      onPrev();\n    }\n  };\n\n  var continueWithoutSigning = type && multiTxData && !transactionData.endsWith(multiTxData);\n  var signBtnLabel = 'Sign & Continue';\n  signBtnLabel = waitingForDevice ? 'Check your Ledger' : signBtnLabel;\n  signBtnLabel = isLastTransaction && !waitingForDevice ? 'Sign & Submit' : signBtnLabel;\n  signBtnLabel = continueWithoutSigning ? 'Continue' : signBtnLabel;\n  var isFirst = currentStep === 0;\n\n  var _useGetTokenDetails = useGetTokenDetails({\n    tokenId: currentTransaction.transactionTokenInfo.tokenId\n  }),\n      tokenDenomination = _useGetTokenDetails.tokenDenomination;\n\n  var denominatedAmount = denominate({\n    input: isTokenTransaction ? amount : currentTransaction.transaction.getValue().toString(),\n    denomination: isTokenTransaction ? tokenDenomination : Number(network.egldDenomination),\n    decimals: Number(network.decimals),\n    showLastNonZeroDecimal: false,\n    addCommas: true\n  });\n  var classes = getGeneratedClasses(className, true, {\n    formGroup: 'form-group text-left',\n    formLabel: 'form-label text-secondary',\n    icon: 'text-white',\n    contentWrapper: 'd-flex flex-column justify-content-start flex-md-row justify-content-md-between mb-3',\n    tokenWrapper: 'mb-3 mb-md-0 d-flex flex-column align-items-start',\n    tokenLabel: 'text-secondary text-left',\n    tokenValue: 'd-flex align-items-center mt-1',\n    tokenAmountLabel: 'text-secondary text-left',\n    tokenAmountValue: 'd-flex align-items-center',\n    dataFormGroup: 'form-group text-left',\n    errorMessage: 'text-danger d-flex justify-content-center align-items-center',\n    buttonsWrapper: 'd-flex align-items-center justify-content-end mt-spacer',\n    cancelButton: 'btn btn-dark text-white flex-even mr-2',\n    signButton: 'btn btn-primary flex-even ml-2'\n  });\n  return React__default.createElement(PageState$1, {\n    icon: error ? icons.faTimes : icons.faHourglass,\n    iconClass: classes.icon,\n    iconBgClass: error ? 'bg-danger' : 'bg-warning',\n    iconSize: '3x',\n    className: className,\n    title: 'Confirm on Ledger',\n    description: React__default.createElement(React__default.Fragment, null, currentTransaction.transaction && React__default.createElement(React__default.Fragment, null, React__default.createElement(\"div\", {\n      className: classes.formGroup,\n      \"data-testid\": 'transactionTitle'\n    }, React__default.createElement(\"div\", {\n      className: classes.formLabel\n    }, \"To: \"), multiTxData ? new Address$1(receiver).bech32() : currentTransaction.transaction.getReceiver().toString()), React__default.createElement(\"div\", {\n      className: classes.contentWrapper\n    }, React__default.createElement(\"div\", {\n      className: classes.tokenWrapper\n    }, React__default.createElement(\"div\", {\n      className: classes.tokenlabel\n    }, \"Token\"), React__default.createElement(\"div\", {\n      className: classes.tokenValue\n    }, React__default.createElement(TokenDetails.Icon, {\n      token: tokenId || egldLabel\n    }), React__default.createElement(\"div\", {\n      className: 'mr-1'\n    }), React__default.createElement(TokenDetails.Label, {\n      token: tokenId || egldLabel\n    }))), React__default.createElement(\"div\", null, React__default.createElement(\"div\", {\n      className: classes.tokenAmountLabel\n    }, \"Amount\"), React__default.createElement(\"div\", {\n      className: classes.tokenAmountValue\n    }, React__default.createElement(\"div\", {\n      className: 'mr-1'\n    }, denominatedAmount), React__default.createElement(TokenDetails.Symbol, {\n      token: tokenId || egldLabel\n    })))), React__default.createElement(\"div\", {\n      className: classes.dataFormGroup\n    }, currentTransaction.transaction.getData() && React__default.createElement(TransactionData$1, Object.assign({}, {\n      data: currentTransaction.transaction.getData().toString(),\n      highlight: multiTxData,\n      isScCall: !tokenId\n    }))), error && React__default.createElement(\"p\", {\n      className: classes.errorMessage\n    }, error))),\n    action: React__default.createElement(\"div\", {\n      className: classes.buttonsWrapper\n    }, React__default.createElement(\"button\", {\n      id: 'closeButton',\n      \"data-testid\": 'closeButton',\n      onClick: onCloseClick,\n      className: classes.cancelButton\n    }, isFirst ? 'Cancel' : 'Back'), React__default.createElement(\"button\", {\n      type: 'button',\n      className: classes.signButton,\n      id: 'signBtn',\n      \"data-testid\": 'signBtn',\n      onClick: onSignTransaction,\n      disabled: waitingForDevice\n    }, signBtnLabel))\n  });\n};\n\nvar SignWithLedgerModal = function SignWithLedgerModal(_ref) {\n  var handleClose = _ref.handleClose,\n      error = _ref.error,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'ledger-modal' : _ref$className;\n\n  var _useSignTransactionsW = useSignTransactionsWithLedger({\n    onCancel: handleClose\n  }),\n      onSignTransaction = _useSignTransactionsW.onSignTransaction,\n      onNext = _useSignTransactionsW.onNext,\n      onPrev = _useSignTransactionsW.onPrev,\n      allTransactions = _useSignTransactionsW.allTransactions,\n      waitingForDevice = _useSignTransactionsW.waitingForDevice,\n      onAbort = _useSignTransactionsW.onAbort,\n      isLastTransaction = _useSignTransactionsW.isLastTransaction,\n      currentStep = _useSignTransactionsW.currentStep,\n      callbackRoute = _useSignTransactionsW.callbackRoute,\n      currentTransaction = _useSignTransactionsW.currentTransaction;\n\n  var classes = getGeneratedClasses(className, true, {\n    wrapper: 'modal-container wallet-connect',\n    container: 'card container',\n    cardBody: 'card-body'\n  });\n  return React__default.createElement(ReactBootstrap$1.Modal, {\n    show: currentTransaction != null,\n    backdrop: 'static',\n    onHide: handleClose,\n    className: classnames$1(classes.wrapper, wrapperClassName),\n    animation: false,\n    centered: true\n  }, React__default.createElement(\"div\", {\n    className: classes.container\n  }, React__default.createElement(\"div\", {\n    className: classes.cardBody\n  }, React__default.createElement(SignStep, Object.assign({}, {\n    onSignTransaction: onSignTransaction,\n    onNext: onNext,\n    onPrev: onPrev,\n    allTransactions: allTransactions,\n    waitingForDevice: waitingForDevice,\n    isLastTransaction: isLastTransaction,\n    currentStep: currentStep,\n    callbackRoute: callbackRoute,\n    currentTransaction: currentTransaction,\n    handleClose: onAbort,\n    className: className,\n    error: error\n  })))));\n};\n\nvar SignWithWalletConnectModal = function SignWithWalletConnectModal(_ref) {\n  var error = _ref.error,\n      handleClose = _ref.handleClose,\n      callbackRoute = _ref.callbackRoute,\n      transactions = _ref.transactions,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'wallet-connect-modal' : _ref$className;\n  var classes = getGeneratedClasses(className, true, {\n    wrapper: 'modal-container wallet-connect',\n    icon: 'text-white',\n    closeBtn: 'btn btn-close-link mt-2'\n  });\n  var hasMultipleTransactions = transactions && (transactions === null || transactions === void 0 ? void 0 : transactions.length) > 1;\n  var description = error ? error : \"Check your phone to sign the transaction\" + (hasMultipleTransactions ? 's' : '');\n\n  var close = function close(e) {\n    e.preventDefault();\n    handleClose();\n\n    if (callbackRoute != null && !window.location.pathname.includes(callbackRoute)) {\n      window.location.href = callbackRoute;\n    }\n  };\n\n  return React__default.createElement(ReactBootstrap$1.Modal, {\n    show: true,\n    backdrop: 'static',\n    onHide: close,\n    className: classnames$1(classes.wrapper, wrapperClassName),\n    animation: false,\n    centered: true\n  }, React__default.createElement(PageState$1, {\n    icon: error ? icons.faTimes : icons.faHourglass,\n    iconClass: classes.icon,\n    className: className,\n    iconBgClass: error ? 'bg-danger' : 'bg-warning',\n    iconSize: '3x',\n    title: 'Confirm on Maiar',\n    description: description,\n    action: React__default.createElement(\"button\", {\n      id: 'closeButton',\n      \"data-testid\": 'closeButton',\n      onClick: close,\n      className: classes.closeBtn\n    }, \"Close\")\n  }));\n};\n\nfunction SignTransactionsModals(_ref) {\n  var _CustomConfirmScreens, _CustomConfirmScreens2, _CustomConfirmScreens3, _CustomConfirmScreens4;\n\n  var className = _ref.className,\n      CustomConfirmScreens = _ref.CustomConfirmScreens;\n\n  var _useSignTransactions = useSignTransactions(),\n      callbackRoute = _useSignTransactions.callbackRoute,\n      transactions = _useSignTransactions.transactions,\n      error = _useSignTransactions.error,\n      sessionId = _useSignTransactions.sessionId,\n      onAbort = _useSignTransactions.onAbort,\n      hasTransactions = _useSignTransactions.hasTransactions;\n\n  var _useGetAccountProvide = useGetAccountProvider(),\n      providerType = _useGetAccountProvide.providerType;\n\n  var signTransactionsError = useGetSignTransactionsError();\n\n  var handleClose = function handleClose() {\n    onAbort(sessionId);\n  };\n\n  var signError = error || signTransactionsError;\n  var signProps = {\n    handleClose: handleClose,\n    error: signError,\n    sessionId: sessionId,\n    transactions: transactions,\n    providerType: providerType,\n    callbackRoute: callbackRoute,\n    className: className\n  };\n  return signError || hasTransactions ? React__default.createElement(React__default.Fragment, null, getIsProviderEqualTo(LoginMethodsEnum.ledger) && ((CustomConfirmScreens === null || CustomConfirmScreens === void 0 ? void 0 : (_CustomConfirmScreens = CustomConfirmScreens.Ledger) === null || _CustomConfirmScreens === void 0 ? void 0 : _CustomConfirmScreens.call(CustomConfirmScreens, signProps)) || React__default.createElement(SignWithLedgerModal, Object.assign({}, signProps))), getIsProviderEqualTo(LoginMethodsEnum.walletconnect) && ((CustomConfirmScreens === null || CustomConfirmScreens === void 0 ? void 0 : (_CustomConfirmScreens2 = CustomConfirmScreens.WalletConnect) === null || _CustomConfirmScreens2 === void 0 ? void 0 : _CustomConfirmScreens2.call(CustomConfirmScreens, signProps)) || React__default.createElement(SignWithWalletConnectModal, Object.assign({}, signProps))), getIsProviderEqualTo(LoginMethodsEnum.extension) && ((CustomConfirmScreens === null || CustomConfirmScreens === void 0 ? void 0 : (_CustomConfirmScreens3 = CustomConfirmScreens.Extension) === null || _CustomConfirmScreens3 === void 0 ? void 0 : _CustomConfirmScreens3.call(CustomConfirmScreens, signProps)) || React__default.createElement(SignWithExtensionModal, Object.assign({}, signProps))), getIsProviderEqualTo(LoginMethodsEnum.extra) && (CustomConfirmScreens === null || CustomConfirmScreens === void 0 ? void 0 : (_CustomConfirmScreens4 = CustomConfirmScreens.Extra) === null || _CustomConfirmScreens4 === void 0 ? void 0 : _CustomConfirmScreens4.call(CustomConfirmScreens, signProps))) : null;\n}\n\nvar index$3 = withClassNameWrapper(SignTransactionsModals);\nvar SessionStorageKeysEnum;\n\n(function (SessionStorageKeysEnum) {\n  SessionStorageKeysEnum[\"toasts\"] = \"toasts\";\n})(SessionStorageKeysEnum || (SessionStorageKeysEnum = {}));\n\nfunction setToastsIdsToStorage(ids) {\n  return sessionStorage.setItem(SessionStorageKeysEnum.toasts, JSON.stringify(ids));\n}\n\nfunction getToastsIdsFromStorage() {\n  var toastsIds = sessionStorage.getItem(SessionStorageKeysEnum.toasts);\n  return toastsIds != null ? JSON.parse(toastsIds) : [];\n}\n\nfunction isCrossShardTransaction(_ref) {\n  var receiverAddress = _ref.receiverAddress,\n      senderShard = _ref.senderShard,\n      senderAddress = _ref.senderAddress;\n\n  try {\n    var receiver = new Address$1(receiverAddress);\n    var receiverShard = getShardOfAddress(receiver.pubkey());\n\n    if (senderShard == null && senderAddress != null) {\n      var sender = new Address$1(senderAddress);\n      return getShardOfAddress(sender) === receiverShard;\n    }\n\n    return receiverShard === senderShard;\n  } catch (err) {\n    return false;\n  }\n}\n\nvar IconState = function IconState(_ref) {\n  var icon = _ref.icon,\n      _ref$iconSize = _ref.iconSize,\n      iconSize = _ref$iconSize === void 0 ? '3x' : _ref$iconSize,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'icon-state' : _ref$className,\n      _ref$shouldRenderDefa = _ref.shouldRenderDefaultCss,\n      shouldRenderDefaultCss = _ref$shouldRenderDefa === void 0 ? true : _ref$shouldRenderDefa;\n  var generatedClasses = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    wrapper: classnames$1('icon-state mx-auto', className, {\n      half: iconSize === '2x'\n    }),\n    icon: classnames$1('text-white', className)\n  });\n  return React__default.createElement(\"span\", {\n    className: generatedClasses.wrapper\n  }, React__default.createElement(ReactFontawesome$1.FontAwesomeIcon, {\n    icon: icon,\n    size: iconSize,\n    className: generatedClasses.icon\n  }));\n};\n\nvar IconState$1 = withClassNameWrapper(IconState);\n\nvar Progress = function Progress(_ref) {\n  var id = _ref.id,\n      children = _ref.children,\n      progress = _ref.progress,\n      done = _ref.done;\n  var ref = React__default.useRef(null);\n  var intervalRef = React__default.useRef();\n\n  var removeTxFromSession = function removeTxFromSession() {\n    var toastProgress = storage.getItem('toastProgress');\n    var hasSessionStoredTx = Boolean(toastProgress[id]);\n\n    if (!hasSessionStoredTx) {\n      return;\n    }\n\n    var expires = moment$1().add(10, 'minutes').unix();\n    delete toastProgress[id];\n    storage.setItem({\n      key: 'toastProgress',\n      data: toastProgress,\n      expires: expires\n    });\n  };\n\n  var saveToSession = function saveToSession(_ref2) {\n    var value = _ref2.value;\n    var toastProgress = storage.getItem('toastProgress') || {};\n    toastProgress[id] = value;\n    storage.setItem({\n      key: 'toastProgress',\n      data: toastProgress,\n      expires: moment$1().add(10, 'minutes').unix()\n    });\n  };\n\n  var getInitialData = function getInitialData() {\n    var totalSeconds = progress ? progress.endTime - progress.startTime : 0;\n    var toastProgress = storage.getItem('toastProgress');\n    var remaining = progress ? (progress.endTime - moment$1().unix()) * 100 / totalSeconds : 0;\n    var currentRemaining = toastProgress && id in toastProgress ? toastProgress[id] : remaining;\n    return {\n      currentRemaining: currentRemaining,\n      totalSeconds: totalSeconds\n    };\n  };\n\n  var _getInitialData = getInitialData(),\n      totalSeconds = _getInitialData.totalSeconds,\n      currentRemaining = _getInitialData.currentRemaining;\n\n  var _React$useState = React__default.useState(currentRemaining),\n      percentRemaining = _React$useState[0],\n      setPercentRemaining = _React$useState[1];\n\n  React__default.useEffect(function () {\n    if (progress) {\n      var maxPercent = 90;\n      var perc = totalSeconds / maxPercent;\n\n      var _int = moment$1.duration(perc.toFixed(2), 's').asMilliseconds();\n\n      if (done) {\n        intervalRef.current = setInterval(function () {\n          if (ref.current !== null) {\n            setPercentRemaining(function (existing) {\n              var value = existing - 1;\n\n              if (value <= 0) {\n                clearInterval(intervalRef.current);\n                removeTxFromSession();\n                return 0;\n              } else {\n                saveToSession({\n                  value: value\n                });\n                return value;\n              }\n            });\n          }\n        }, 5);\n      } else {\n        intervalRef.current = setInterval(function () {\n          if (ref.current !== null) {\n            setPercentRemaining(function (existing) {\n              var decrement = existing > 100 - maxPercent ? 1 : logarithmicRest(existing);\n              var value = existing - decrement;\n              saveToSession({\n                value: value\n              });\n              return value;\n            });\n          }\n        }, _int);\n      }\n\n      return function () {\n        clearInterval(intervalRef.current);\n      };\n    }\n\n    return;\n  }, [progress, done]);\n  return progress ? React__default.createElement(\"div\", {\n    className: 'progress position-relative',\n    ref: ref\n  }, React__default.createElement(\"div\", {\n    className: 'progress-bar',\n    role: 'progressbar',\n    style: {\n      width: percentRemaining + \"%\"\n    },\n    \"aria-valuenow\": percentRemaining,\n    \"aria-valuemin\": 0,\n    \"aria-valuemax\": 100\n  }, React__default.createElement(\"div\", {\n    className: 'content-height'\n  }, children)), React__default.createElement(\"div\", {\n    className: 'd-flex position-absolute w-100'\n  }, children)) : React__default.createElement(React__default.Fragment, null, children);\n};\n\nvar Progress$1 = withClassNameWrapper(Progress);\n\nfunction fallbackCopyTextToClipboard(text) {\n  var success = false;\n  var textArea = document.createElement('textarea');\n  textArea.value = text;\n  textArea.style.position = 'fixed';\n  document.body.appendChild(textArea);\n  textArea.focus();\n  textArea.select();\n\n  try {\n    document.execCommand('copy');\n    success = true;\n  } catch (err) {\n    console.error('Fallback: Oops, unable to copy', err);\n  }\n\n  document.body.removeChild(textArea);\n  return success;\n}\n\nvar copyTextToClipboard = function copyTextToClipboard(text) {\n  try {\n    var success = false;\n\n    var _temp = function () {\n      if (!navigator.clipboard) {\n        success = fallbackCopyTextToClipboard(text);\n      } else {\n        return Promise.resolve(navigator.clipboard.writeText(text).then(function done() {\n          return true;\n        }, function error(err) {\n          console.error('Async: Could not copy text: ', err);\n          return false;\n        })).then(function (_navigator$clipboard$) {\n          success = _navigator$clipboard$;\n        });\n      }\n    }();\n\n    return Promise.resolve(_temp && _temp.then ? _temp.then(function () {\n      return success;\n    }) : success);\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nvar CopyButton = function CopyButton(_ref) {\n  var text = _ref.text,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? '' : _ref$className;\n\n  var _React$useState = React__default.useState({\n    \"default\": true,\n    success: false\n  }),\n      copyResult = _React$useState[0],\n      setCopyResut = _React$useState[1];\n\n  var handleCopyToClipboard = function handleCopyToClipboard(e) {\n    try {\n      e.preventDefault();\n      e.stopPropagation();\n      var noSpaces = text ? text.trim() : text;\n      return Promise.resolve(copyTextToClipboard(noSpaces)).then(function (_copyTextToClipboard) {\n        setCopyResut({\n          \"default\": false,\n          success: _copyTextToClipboard\n        });\n        setTimeout(function () {\n          setCopyResut({\n            \"default\": true,\n            success: false\n          });\n        }, 1000);\n      });\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  return React__default.createElement(\"a\", {\n    href: '/#',\n    onClick: handleCopyToClipboard,\n    className: \"side-action text-secondary \" + className\n  }, copyResult[\"default\"] || !copyResult.success ? React__default.createElement(ReactFontawesome$1.FontAwesomeIcon, {\n    icon: icons.faCopy\n  }) : React__default.createElement(ReactFontawesome$1.FontAwesomeIcon, {\n    icon: icons.faCheck,\n    className: 'text-primary-highlight'\n  }));\n};\n\nvar CopyButton$1 = withClassNameWrapper(CopyButton);\n\nvar Trim = function Trim(_ref) {\n  var text = _ref.text,\n      _ref$dataTestId = _ref.dataTestId,\n      dataTestId = _ref$dataTestId === void 0 ? '' : _ref$dataTestId;\n\n  var _React$useState = React__default.useState(false),\n      overflow = _React$useState[0],\n      setOverflow = _React$useState[1];\n\n  var trimRef = React__default.useRef(document.createElement('span'));\n  var hiddenTextRef = React__default.useRef(document.createElement('span'));\n  var listener = useCallback(debounce(function () {\n    if (trimRef.current && hiddenTextRef.current) {\n      var diff = hiddenTextRef.current.offsetWidth - trimRef.current.offsetWidth;\n      setOverflow(diff > 1);\n    }\n  }, 300), []);\n\n  var addWindowResizeListener = function addWindowResizeListener() {\n    window.addEventListener('resize', listener);\n    return function () {\n      window.removeEventListener('resize', listener);\n    };\n  };\n\n  React__default.useEffect(addWindowResizeListener);\n  React__default.useEffect(function () {\n    listener();\n  }, []);\n  return React__default.createElement(\"span\", {\n    ref: trimRef,\n    className: \"trim \" + (overflow ? 'overflow' : ''),\n    \"data-testid\": dataTestId\n  }, React__default.createElement(\"span\", {\n    ref: hiddenTextRef,\n    className: 'hidden-text-ref'\n  }, text), overflow ? React__default.createElement(React__default.Fragment, null, React__default.createElement(\"span\", {\n    className: 'left'\n  }, React__default.createElement(\"span\", null, String(text).substring(0, Math.floor(text.length / 2)))), React__default.createElement(\"span\", {\n    className: 'ellipsis'\n  }, \"...\"), React__default.createElement(\"span\", {\n    className: 'right'\n  }, React__default.createElement(\"span\", null, String(text).substring(Math.ceil(text.length / 2))))) : React__default.createElement(\"span\", null, text));\n};\n\nvar Trim$1 = withClassNameWrapper(Trim);\n\nvar TxDetails = function TxDetails(_ref) {\n  var title = _ref.title,\n      transactions = _ref.transactions,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'tx-details' : _ref$className,\n      _ref$isTimedOut = _ref.isTimedOut,\n      isTimedOut = _ref$isTimedOut === void 0 ? false : _ref$isTimedOut,\n      _ref$shouldRenderDefa = _ref.shouldRenderDefaultCss,\n      shouldRenderDefaultCss = _ref$shouldRenderDefa === void 0 ? true : _ref$shouldRenderDefa;\n  var generatedClasses = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    title: 'mb-0',\n    statusTransactions: 'mb-2 mt-1',\n    iconSuccess: 'mr-1 text-secondary',\n    iconFailed: 'mr-1 text-secondary',\n    trimContainer: 'text-nowrap trim-fs-sm mr-3',\n    iconPending: 'mr-1 text-secondary fa-spin slow-spin',\n    item: 'tx-description d-flex justify-content-start align-items-center'\n  });\n  var iconSuccessData = {\n    icon: icons.faCheck,\n    classNames: generatedClasses.iconSuccess\n  };\n  var iconFailedData = {\n    icon: icons.faTimes,\n    classNames: generatedClasses.iconSuccess\n  };\n  var iconPendingData = {\n    icon: icons.faSpinner,\n    classNames: generatedClasses.iconPending\n  };\n  var iconData = {\n    pending: iconPendingData,\n    success: iconSuccessData,\n    completed: iconSuccessData,\n    fail: iconFailedData,\n    invalid: iconFailedData,\n    timedOut: iconFailedData\n  };\n  return React__default.createElement(React__default.Fragment, null, title && React__default.createElement(\"div\", {\n    className: generatedClasses.title\n  }, title), React__default.createElement(\"div\", {\n    className: generatedClasses.statusTransactions\n  }, transactions.filter(function (tx) {\n    return !isServerTransactionPending(tx.status);\n  }).length, ' ', \"/ \", transactions.length, \" transactions processed\"), transactions.map(function (_ref2) {\n    var hash = _ref2.hash,\n        status = _ref2.status;\n    var iconSrc = iconData[status];\n    return React__default.createElement(\"div\", {\n      className: generatedClasses.item,\n      key: hash\n    }, !isTimedOut && iconSrc != null && React__default.createElement(ReactFontawesome$1.FontAwesomeIcon, {\n      icon: iconSrc.icon,\n      className: iconSrc.classNames\n    }), React__default.createElement(\"span\", {\n      className: generatedClasses.trimContainer,\n      style: {\n        width: '10rem'\n      }\n    }, React__default.createElement(Trim$1, {\n      text: hash\n    })), React__default.createElement(CopyButton$1, {\n      text: hash\n    }), !isServerTransactionPending(status) && React__default.createElement(ExplorerLink$1, {\n      page: \"/transactions/\" + hash,\n      className: 'ml-2'\n    }));\n  }));\n};\n\nvar TxDetails$1 = withClassNameWrapper(TxDetails);\nvar averageTxDurationMs = 6000;\nvar crossShardRounds = 5;\n\nvar TransactionToast = function TransactionToast(_ref) {\n  var toastId = _ref.toastId,\n      _ref$title = _ref.title,\n      title = _ref$title === void 0 ? '' : _ref$title,\n      _ref$shouldRenderDefa = _ref.shouldRenderDefaultCss,\n      shouldRenderDefaultCss = _ref$shouldRenderDefa === void 0 ? true : _ref$shouldRenderDefa,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'transaction-toast' : _ref$className,\n      _ref$withTxNonce = _ref.withTxNonce,\n      withTxNonce = _ref$withTxNonce === void 0 ? false : _ref$withTxNonce,\n      transactions = _ref.transactions,\n      status = _ref.status,\n      onClose = _ref.onClose;\n  var ref = useRef(null);\n\n  var _useState = useState(true),\n      shouldRender = _useState[0],\n      setShouldRender = _useState[1];\n\n  var transactionDisplayInfo = useGetTransactionDisplayInfo(toastId);\n  var accountShard = useSelector(shardSelector);\n  var _transactionDisplayIn = transactionDisplayInfo.errorMessage,\n      errorMessage = _transactionDisplayIn === void 0 ? 'Transaction failed' : _transactionDisplayIn,\n      _transactionDisplayIn2 = transactionDisplayInfo.timedOutMessage,\n      timedOutMessage = _transactionDisplayIn2 === void 0 ? 'Transaction timed out' : _transactionDisplayIn2,\n      _transactionDisplayIn3 = transactionDisplayInfo.successMessage,\n      successMessage = _transactionDisplayIn3 === void 0 ? 'Transaction successful' : _transactionDisplayIn3,\n      _transactionDisplayIn4 = transactionDisplayInfo.processingMessage,\n      processingMessage = _transactionDisplayIn4 === void 0 ? 'Processing transaction' : _transactionDisplayIn4;\n  var isSameShard = useMemo(function () {\n    return transactions.reduce(function (prevTxIsSameShard, _ref2) {\n      var receiver = _ref2.receiver,\n          data = _ref2.data;\n      var receiverAddress = getAddressFromDataField({\n        receiver: receiver,\n        data: data\n      });\n\n      if (receiverAddress == null) {\n        return prevTxIsSameShard;\n      }\n\n      return prevTxIsSameShard && isCrossShardTransaction({\n        receiverAddress: receiverAddress,\n        senderShard: accountShard\n      });\n    }, true);\n  }, [transactions, accountShard]);\n  var shardAdjustedDuration = isSameShard ? averageTxDurationMs : crossShardRounds * averageTxDurationMs;\n  var transactionDuration = (transactionDisplayInfo === null || transactionDisplayInfo === void 0 ? void 0 : transactionDisplayInfo.transactionDuration) || shardAdjustedDuration;\n  var generatedClasses = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    toastFooter: 'mb-0 text-break',\n    details: 'media-body flex-grow-1',\n    toastContainer: 'w-100 media p-2',\n    wrapper: 'toast-visible clickable',\n    toastHeader: 'd-flex justify-content-between mb-1',\n    iconContainer: 'align-self-center ml-2 mr-2 pr-1',\n    title: 'm-0 font-weight-normal text-nowrap text-truncate',\n    closeButton: 'close d-flex side-action align-items-center mx-2 outline-0'\n  });\n\n  var _useMemo = useMemo(function () {\n    var startTime = moment$1().unix();\n    var endTime = moment$1().add(Number(transactionDuration), 'milliseconds').unix();\n    return [startTime, endTime];\n  }, []),\n      startTime = _useMemo[0],\n      endTime = _useMemo[1];\n\n  var progress = {\n    startTime: startTime,\n    endTime: endTime\n  };\n  var successToastData = {\n    id: toastId,\n    icon: icons.faCheck,\n    expires: 30000,\n    hasCloseButton: true,\n    title: successMessage,\n    iconClassName: 'bg-success'\n  };\n  var pendingToastData = {\n    id: toastId,\n    expires: false,\n    icon: icons.faHourglass,\n    hasCloseButton: false,\n    title: processingMessage,\n    iconClassName: 'bg-warning'\n  };\n  var failToastData = {\n    id: toastId,\n    icon: icons.faTimes,\n    title: errorMessage,\n    hasCloseButton: true,\n    iconClassName: 'bg-danger'\n  };\n  var timedOutToastData = {\n    id: toastId,\n    icon: icons.faTimes,\n    title: timedOutMessage,\n    hasCloseButton: true,\n    iconClassName: 'bg-warning'\n  };\n  var isPending = getIsTransactionPending(status);\n  var isTimedOut = getIsTransactionTimedOut(status);\n  var toatsOptionsData = {\n    signed: pendingToastData,\n    sent: pendingToastData,\n    pending: pendingToastData,\n    success: successToastData,\n    completed: successToastData,\n    cancelled: failToastData,\n    fail: failToastData,\n    timedOut: timedOutToastData\n  };\n  var toastDataState = toatsOptionsData[status];\n\n  var handleDeleteToast = function handleDeleteToast() {\n    setShouldRender(false);\n    onClose === null || onClose === void 0 ? void 0 : onClose(toastId);\n  };\n\n  if (!shouldRender || transactions == null) {\n    return null;\n  }\n\n  return React__default.createElement(ReactBootstrap$1.Toast, {\n    ref: ref,\n    className: generatedClasses.wrapper,\n    key: toastId\n  }, React__default.createElement(Progress$1, {\n    key: toastId,\n    id: toastId,\n    progress: progress,\n    done: !isPending || isTimedOut\n  }, React__default.createElement(\"div\", {\n    className: generatedClasses.toastContainer\n  }, React__default.createElement(\"div\", {\n    className: generatedClasses.iconContainer\n  }, React__default.createElement(IconState$1, {\n    iconSize: '2x',\n    icon: toastDataState.icon,\n    className: toastDataState.iconClassName\n  }), withTxNonce && transactions.map(function (tx) {\n    return React__default.createElement(\"p\", {\n      key: tx.nonce.valueOf()\n    }, tx.nonce.valueOf());\n  })), React__default.createElement(\"div\", {\n    className: generatedClasses.details,\n    style: {\n      minWidth: 0\n    }\n  }, React__default.createElement(\"div\", {\n    className: generatedClasses.toastHeader\n  }, React__default.createElement(\"h5\", {\n    className: generatedClasses.title\n  }, toastDataState.title), !isPending && React__default.createElement(\"button\", {\n    type: 'button',\n    className: generatedClasses.closeButton,\n    onClick: handleDeleteToast\n  }, React__default.createElement(ReactFontawesome$1.FontAwesomeIcon, {\n    icon: icons.faTimes,\n    size: 'xs'\n  }))), React__default.createElement(\"div\", {\n    className: generatedClasses.toastFooter\n  }, React__default.createElement(TxDetails$1, {\n    transactions: transactions,\n    title: title,\n    isTimedOut: isTimedOut\n  }))))));\n};\n\nvar TransactionToast$1 = withClassNameWrapper(TransactionToast);\n\nfunction TransactionsToastList(_ref) {\n  var _ref$shouldRenderDefa = _ref.shouldRenderDefaultCss,\n      shouldRenderDefaultCss = _ref$shouldRenderDefa === void 0 ? true : _ref$shouldRenderDefa,\n      _ref$withTxNonce = _ref.withTxNonce,\n      withTxNonce = _ref$withTxNonce === void 0 ? false : _ref$withTxNonce,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'transactions-toast-list' : _ref$className,\n      pendingTransactions = _ref.pendingTransactions,\n      signedTransactions = _ref.signedTransactions;\n\n  var _useState = useState([]),\n      toastsIds = _useState[0],\n      setToastsIds = _useState[1];\n\n  var pendingTransactionsFromStore = useGetPendingTransactions().pendingTransactions;\n  var signedTransactionsFromStore = useGetSignedTransactions();\n  var pendingTransactionsToRender = pendingTransactions || pendingTransactionsFromStore;\n  var signedTransactionsToRender = signedTransactions || signedTransactionsFromStore;\n  var generatedClasses = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    wrapper: 'toast-messages d-flex flex-column align-items-center justify-content-sm-end',\n    toast: ''\n  });\n  var mappedToastsList = toastsIds === null || toastsIds === void 0 ? void 0 : toastsIds.map(function (toastId) {\n    var currentTx = signedTransactionsToRender[toastId];\n\n    if (currentTx == null || (currentTx === null || currentTx === void 0 ? void 0 : currentTx.transactions) == null || (currentTx === null || currentTx === void 0 ? void 0 : currentTx.status) == null) {\n      return null;\n    }\n\n    var transactions = currentTx.transactions,\n        status = currentTx.status;\n    return React__default.createElement(TransactionToast$1, {\n      className: className,\n      key: toastId,\n      transactions: transactions,\n      status: status,\n      toastId: toastId,\n      withTxNonce: withTxNonce\n    });\n  });\n\n  var mapPendingSignedTransactions = function mapPendingSignedTransactions() {\n    var newToasts = [].concat(toastsIds);\n\n    for (var sessionId in pendingTransactionsToRender) {\n      var hasToast = toastsIds.includes(sessionId);\n\n      if (!hasToast) {\n        newToasts.push(sessionId);\n      }\n    }\n\n    setToastsIds(newToasts);\n  };\n\n  var fetchSessionStorageToasts = function fetchSessionStorageToasts() {\n    var sessionStorageToastsIds = getToastsIdsFromStorage();\n\n    if (sessionStorageToastsIds) {\n      var newToasts = [].concat(toastsIds, sessionStorageToastsIds);\n      setToastsIds(newToasts);\n    }\n  };\n\n  var saveSessionStorageToasts = function saveSessionStorageToasts() {\n    var shouldSaveLocalToasts = Boolean(toastsIds.length);\n\n    if (!shouldSaveLocalToasts) {\n      return;\n    }\n\n    setToastsIdsToStorage(toastsIds);\n  };\n\n  useEffect(function () {\n    fetchSessionStorageToasts();\n    return function () {\n      saveSessionStorageToasts();\n    };\n  }, []);\n  useEffect(function () {\n    mapPendingSignedTransactions();\n  }, [pendingTransactionsToRender]);\n  return React__default.createElement(\"div\", {\n    className: generatedClasses.wrapper\n  }, mappedToastsList);\n}\n\nvar index$4 = withClassNameWrapper(TransactionsToastList);\nvar platform = {};\n\ntry {\n  platform = require('platform');\n} catch (err) {}\n\nvar platform$1 = platform;\nvar qrcode = {};\n\ntry {\n  qrcode = require('qrcode');\n} catch (err) {}\n\nvar QRCode = qrcode;\n\nvar _defs$1, _style, _g$2;\n\nfunction _extends$3() {\n  _extends$3 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends$3.apply(this, arguments);\n}\n\nfunction SvgLightning(props) {\n  return /*#__PURE__*/createElement(\"svg\", _extends$3({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 44,\n    height: 60\n  }, props), _defs$1 || (_defs$1 = /*#__PURE__*/createElement(\"defs\", null, /*#__PURE__*/createElement(\"image\", {\n    width: 22,\n    height: 30,\n    id: \"lightning_svg__img1\",\n    href: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAeCAYAAAAo5+5WAAAA6klEQVRIibXWURHCMBBFUSRUAhLqgEpAQh1QB1RCHVAJOAAHxQE4IA4uH2yYTCbQafexAk5eNpu0m80fCtiqwRqYgF6J9ryrVYExZQAaFRpTBqBWgDElwA2olCkBzm40SwkwqlP6T76QMijQPKXv5Asp48lvPWhHuS6rUYN/1R04AQdgtxTe22yGmUU+OwGOixayXrfAYD2eq2lph9LFGttRqR6r4QTPa8Rzta09zwSUXJgc9c32F3RwgYa22dYbNep/ewto5wYNjW/GDcW3zNBRMpsFNAB7CZigV/dsJmCF+rfI4F4ym1m9AOPnYuevr8exAAAAAElFTkSuQmCC\"\n  }))), _style || (_style = /*#__PURE__*/createElement(\"style\", null)), _g$2 || (_g$2 = /*#__PURE__*/createElement(\"g\", {\n    id: \"lightning_svg__Elrond_Swap_Landing_Page_\\\\u2013_v2_2\"\n  }, /*#__PURE__*/createElement(\"g\", {\n    id: \"lightning_svg__Group_424\"\n  }, /*#__PURE__*/createElement(\"g\", {\n    id: \"lightning_svg__Group_421\"\n  }, /*#__PURE__*/createElement(\"use\", {\n    id: \"lightning_svg__\\\\u26A1\\\\uFE0F\",\n    href: \"#lightning_svg__img1\",\n    transform: \"scale(2)\"\n  }))))));\n}\n\nfunction WalletConnectLoginContainer(_ref) {\n  var _platform$os, _platform$os2;\n\n  var callbackRoute = _ref.callbackRoute,\n      loginButtonText = _ref.loginButtonText,\n      _ref$title = _ref.title,\n      title = _ref$title === void 0 ? 'Maiar Login' : _ref$title,\n      _ref$logoutRoute = _ref.logoutRoute,\n      logoutRoute = _ref$logoutRoute === void 0 ? '/unlock' : _ref$logoutRoute,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'wallect-connect-login-modal' : _ref$className,\n      _ref$lead = _ref.lead,\n      lead = _ref$lead === void 0 ? 'Scan the QR code using Maiar' : _ref$lead,\n      _ref$shouldRenderDefa = _ref.shouldRenderDefaultCss,\n      shouldRenderDefaultCss = _ref$shouldRenderDefa === void 0 ? true : _ref$shouldRenderDefa,\n      _ref$wrapContentInsid = _ref.wrapContentInsideModal,\n      wrapContentInsideModal = _ref$wrapContentInsid === void 0 ? true : _ref$wrapContentInsid,\n      redirectAfterLogin = _ref.redirectAfterLogin,\n      token = _ref.token,\n      onClose = _ref.onClose;\n\n  var _useWalletConnectLogi = useWalletConnectLogin({\n    logoutRoute: logoutRoute,\n    callbackRoute: callbackRoute,\n    token: token,\n    redirectAfterLogin: redirectAfterLogin,\n    shouldLoginUser: true\n  }),\n      initLoginWithWalletConnect = _useWalletConnectLogi[0],\n      error = _useWalletConnectLogi[1].error,\n      _useWalletConnectLogi2 = _useWalletConnectLogi[2],\n      uriDeepLink = _useWalletConnectLogi2.uriDeepLink,\n      walletConnectUri = _useWalletConnectLogi2.walletConnectUri;\n\n  var _useState = useState(''),\n      qrCodeSvg = _useState[0],\n      setQrCodeSvg = _useState[1];\n\n  var isMobileDevice = (platform$1 === null || platform$1 === void 0 ? void 0 : (_platform$os = platform$1.os) === null || _platform$os === void 0 ? void 0 : _platform$os.family) === 'iOS' || (platform$1 === null || platform$1 === void 0 ? void 0 : (_platform$os2 = platform$1.os) === null || _platform$os2 === void 0 ? void 0 : _platform$os2.family) === 'Android';\n  var generatedClasses = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    wrapper: 'btn btn-primary px-sm-4 m-1 mx-sm-3',\n    loginText: 'text-left',\n    container: 'm-auto login-container',\n    card: 'card my-3 text-center',\n    cardBody: 'card-body p-4 mx-lg-4',\n    qrCodeSvgContainer: 'mx-auto mb-3',\n    title: 'mb-3',\n    leadText: 'lead mb-0',\n    mobileLoginButton: 'btn btn-primary px-4 mt-4',\n    errorMessage: 'text-danger d-flex justify-content-center align-items-center'\n  });\n\n  var generateQRCode = function generateQRCode() {\n    try {\n      if (!walletConnectUri) {\n        return Promise.resolve();\n      }\n\n      return Promise.resolve(QRCode.toString(walletConnectUri, {\n        type: 'svg'\n      })).then(function (svg) {\n        setQrCodeSvg(svg);\n      });\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  useEffect(function () {\n    generateQRCode();\n  }, [walletConnectUri]);\n  useEffect(function () {\n    initLoginWithWalletConnect();\n  }, []);\n  var content = React__default.createElement(\"div\", {\n    className: generatedClasses.container\n  }, React__default.createElement(\"div\", {\n    className: generatedClasses.root\n  }, React__default.createElement(\"div\", {\n    className: generatedClasses.card\n  }, React__default.createElement(\"div\", {\n    className: generatedClasses.cardBody\n  }, React__default.createElement(\"div\", {\n    className: generatedClasses.qrCodeSvgContainer,\n    dangerouslySetInnerHTML: {\n      __html: qrCodeSvg\n    },\n    style: {\n      width: '15rem',\n      height: '15rem'\n    }\n  }), React__default.createElement(\"h4\", {\n    className: generatedClasses.title\n  }, title), isMobileDevice ? React__default.createElement(React__default.Fragment, null, React__default.createElement(\"p\", {\n    className: generatedClasses.leadText\n  }, loginButtonText), React__default.createElement(\"a\", {\n    id: 'accessWalletBtn',\n    \"data-testid\": 'accessWalletBtn',\n    className: generatedClasses.mobileLoginButton,\n    href: uriDeepLink || undefined,\n    rel: 'noopener noreferrer nofollow',\n    target: '_blank'\n  }, React__default.createElement(SvgLightning, {\n    className: generatedClasses.cardBody,\n    style: {\n      width: '0.7rem',\n      height: '0.7rem'\n    }\n  }), title)) : React__default.createElement(\"p\", {\n    className: generatedClasses.leadText\n  }, lead), React__default.createElement(\"div\", null, error && React__default.createElement(\"p\", {\n    className: generatedClasses.errorMessage\n  }, error))))));\n  return wrapContentInsideModal ? React__default.createElement(ModalContainer, {\n    title: 'Login with Maiar',\n    className: className,\n    onClose: onClose\n  }, content) : content;\n}\n\nvar WalletConnectLoginContainer$1 = withClassNameWrapper(WalletConnectLoginContainer);\n\nvar WalletConnectLoginButton = function WalletConnectLoginButton(_ref) {\n  var children = _ref.children,\n      callbackRoute = _ref.callbackRoute,\n      _ref$loginButtonText = _ref.loginButtonText,\n      loginButtonText = _ref$loginButtonText === void 0 ? 'Maiar App' : _ref$loginButtonText,\n      _ref$title = _ref.title,\n      title = _ref$title === void 0 ? 'Maiar Login' : _ref$title,\n      _ref$logoutRoute = _ref.logoutRoute,\n      logoutRoute = _ref$logoutRoute === void 0 ? '/unlock' : _ref$logoutRoute,\n      _ref$shouldRenderDefa = _ref.shouldRenderDefaultCss,\n      shouldRenderDefaultCss = _ref$shouldRenderDefa === void 0 ? true : _ref$shouldRenderDefa,\n      _ref$wrapContentInsid = _ref.wrapContentInsideModal,\n      wrapContentInsideModal = _ref$wrapContentInsid === void 0 ? true : _ref$wrapContentInsid,\n      _ref$redirectAfterLog = _ref.redirectAfterLogin,\n      redirectAfterLogin = _ref$redirectAfterLog === void 0 ? false : _ref$redirectAfterLog,\n      buttonClassName = _ref.buttonClassName,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'wallect-connect-login' : _ref$className,\n      _ref$lead = _ref.lead,\n      lead = _ref$lead === void 0 ? 'Scan the QR code using Maiar' : _ref$lead,\n      token = _ref.token;\n\n  var _useState = useState(false),\n      showLoginModal = _useState[0],\n      setShowLoginModal = _useState[1];\n\n  var generatedClasses = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    wrapper: \"btn btn-primary px-sm-4 m-1 mx-sm-3 \" + (buttonClassName != null ? buttonClassName : ''),\n    loginText: 'text-left'\n  });\n\n  var handleOpenModal = function handleOpenModal() {\n    setShowLoginModal(true);\n  };\n\n  var handleCloseModal = function handleCloseModal() {\n    setShowLoginModal(false);\n  };\n\n  return React__default.createElement(Fragment, null, React__default.createElement(\"button\", {\n    onClick: handleOpenModal,\n    className: generatedClasses.wrapper\n  }, children || React__default.createElement(\"span\", {\n    className: generatedClasses.loginText\n  }, loginButtonText)), showLoginModal && React__default.createElement(WalletConnectLoginContainer$1, {\n    callbackRoute: callbackRoute,\n    loginButtonText: loginButtonText,\n    title: title,\n    token: token,\n    className: className,\n    logoutRoute: logoutRoute,\n    lead: lead,\n    wrapContentInsideModal: wrapContentInsideModal,\n    redirectAfterLogin: redirectAfterLogin,\n    onClose: handleCloseModal\n  }));\n};\n\nvar WalletConnectLoginButton$1 = withClassNameWrapper(WalletConnectLoginButton);\n\nvar WebWalletLoginButton = function WebWalletLoginButton(_ref) {\n  var children = _ref.children,\n      token = _ref.token,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'web-wallet-login' : _ref$className,\n      callbackRoute = _ref.callbackRoute,\n      buttonClassName = _ref.buttonClassName,\n      _ref$loginButtonText = _ref.loginButtonText,\n      loginButtonText = _ref$loginButtonText === void 0 ? 'Elrond Web Wallet' : _ref$loginButtonText,\n      _ref$shouldRenderDefa = _ref.shouldRenderDefaultCss,\n      shouldRenderDefaultCss = _ref$shouldRenderDefa === void 0 ? true : _ref$shouldRenderDefa;\n\n  var _useWebWalletLogin = useWebWalletLogin({\n    callbackRoute: callbackRoute,\n    token: token\n  }),\n      onInitiateLogin = _useWebWalletLogin[0];\n\n  var classes = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    wrapper: \"btn btn-primary px-sm-4 m-1 mx-sm-3 \" + (buttonClassName != null ? buttonClassName : ''),\n    loginText: 'text-left'\n  });\n\n  var handleLogin = function handleLogin() {\n    onInitiateLogin();\n  };\n\n  return React__default.createElement(\"button\", {\n    onClick: handleLogin,\n    className: classes.wrapper\n  }, children || React__default.createElement(\"span\", {\n    className: classes.loginText\n  }, loginButtonText));\n};\n\nvar WebWalletLoginButton$1 = withClassNameWrapper(WebWalletLoginButton);\n\nvar UnlockPage = function UnlockPage(_ref) {\n  var loginRoute = _ref.loginRoute,\n      _ref$title = _ref.title,\n      title = _ref$title === void 0 ? 'Login' : _ref$title,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'unlock-page' : _ref$className,\n      _ref$shouldRenderDefa = _ref.shouldRenderDefaultCss,\n      shouldRenderDefaultCss = _ref$shouldRenderDefa === void 0 ? true : _ref$shouldRenderDefa,\n      _ref$LedgerLoginButto = _ref.LedgerLoginButtonText,\n      LedgerLoginButtonText = _ref$LedgerLoginButto === void 0 ? 'Ledger' : _ref$LedgerLoginButto,\n      _ref$description = _ref.description,\n      description = _ref$description === void 0 ? 'Pick a login method' : _ref$description,\n      _ref$WalletConnectLog = _ref.WalletConnectLoginButtonText,\n      WalletConnectLoginButtonText = _ref$WalletConnectLog === void 0 ? 'Maiar' : _ref$WalletConnectLog,\n      _ref$ExtensionLoginBu = _ref.ExtensionLoginButtonText,\n      ExtensionLoginButtonText = _ref$ExtensionLoginBu === void 0 ? 'Extension' : _ref$ExtensionLoginBu,\n      _ref$WebWalletLoginBu = _ref.WebWalletLoginButtonText,\n      WebWalletLoginButtonText = _ref$WebWalletLoginBu === void 0 ? 'Web wallet' : _ref$WebWalletLoginBu;\n  var generatedClasses = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    wrapper: \"home d-flex flex-fill align-items-center \" + wrapperClassName,\n    title: 'mb-4',\n    description: 'mb-4',\n    cardContainer: 'm-auto',\n    card: 'card my-4 text-center',\n    cardBody: 'card-body py-4 px-2 px-sm-2 mx-lg-4'\n  });\n\n  var _useGetLoginInfo = useGetLoginInfo(),\n      isLoggedIn = _useGetLoginInfo.isLoggedIn;\n\n  React__default.useEffect(function () {\n    if (isLoggedIn) {\n      window.location.href = loginRoute;\n    }\n  }, [isLoggedIn]);\n  return React__default.createElement(\"div\", {\n    className: generatedClasses.wrapper\n  }, React__default.createElement(\"div\", {\n    className: generatedClasses.cardContainer\n  }, React__default.createElement(\"div\", {\n    className: generatedClasses.card\n  }, React__default.createElement(\"div\", {\n    className: generatedClasses.cardBody\n  }, React__default.createElement(\"h4\", {\n    className: generatedClasses.title\n  }, title), React__default.createElement(\"p\", {\n    className: generatedClasses.description\n  }, description), React__default.createElement(ExtensionLoginButton$1, {\n    callbackRoute: loginRoute,\n    loginButtonText: ExtensionLoginButtonText\n  }), React__default.createElement(WebWalletLoginButton$1, {\n    callbackRoute: loginRoute,\n    loginButtonText: WebWalletLoginButtonText\n  }), React__default.createElement(LedgerLoginButton$1, {\n    loginButtonText: LedgerLoginButtonText,\n    callbackRoute: loginRoute\n  }), React__default.createElement(WalletConnectLoginButton$1, {\n    callbackRoute: loginRoute,\n    loginButtonText: WalletConnectLoginButtonText\n  })))));\n};\n\nvar index$5 = withClassNameWrapper(UnlockPage);\nvar index$6 = {\n  __proto__: null,\n  UnlockPage: index$5\n};\nvar index$7 = {\n  __proto__: null,\n  ExplorerLink: ExplorerLink$1,\n  Denominate: Denominate$1,\n  PageState: PageState$1,\n  ExtensionLoginButton: ExtensionLoginButton$1,\n  LedgerLoginButton: LedgerLoginButton$1,\n  LedgerLoginContainer: LedgerLoginContainer$1,\n  NotificationModal: NotificationModal,\n  SignTransactionsModals: index$3,\n  TransactionsToastList: index$4,\n  TransactionToast: TransactionToast$1,\n  WalletConnectLoginButton: WalletConnectLoginButton$1,\n  WalletConnectLoginContainer: WalletConnectLoginContainer$1,\n  WebWalletLoginButton: WebWalletLoginButton$1,\n  Trim: Trim$1,\n  DappCorePages: index$6\n};\nexport { AppInitializer, AuthenticatedRoutesWrapper, DAPP_INIT_ROUTE, DappProvider, index$7 as DappUI, EmptyProvider, EnvironmentsEnum, LoginMethodsEnum, NotificationTypesEnum, TransactionBatchStatusesEnum, TransactionServerStatusesEnum, TransactionTypesEnum, TypesOfSmartContractCallsEnum, addressIsValid, areScCallsSuccessful, buildReplyUrl, buildUrlParams$1 as buildUrlParams, clear, completedServerTransactionsStates, decodeBase64, decodePart, denominate, emptyProvider, encodeToBase64, failBatchTransactionsStates, failServerTransactionsStates, getAccount, getAccountBalance, getAccountProvider, getAccountProviderType, getAddress, getAddressFromDataField, getApiProvider, getChainID, getEgldLabel, getGeneratedClasses, getIsLoggedIn, getIsProviderEqualTo, getIsTransactionCompleted, getIsTransactionFailed, getIsTransactionPending, getIsTransactionSuccessful, getIsTransactionTimedOut, getItem, getLatestNonce, getNetworkConfig, getNetworkProxy, getProviderType, getShardOfAddress, getTokenFromData, isBatchTransactionFailed, isBatchTransactionPending, isBatchTransactionSuccessful, isBatchTransactionTimedOut, isContract, isServerTransactionFailed, isServerTransactionPending, isServerTransactionSuccessful, isStringBase64, isTokenTransfer, logarithmicRest, index as loginServices, logout, index$2 as models, newWalletProvider, nominate, parseMultiEsdtTransferData, parseTransactionAfterSigning, pendingBatchTransactionsStates, pendingServerTransactionsStatuses, refreshAccount, removeItem, sendTransactions, setItem, setNonce, storage, successBatchTransactionsStates, successServerTransactionsStates, switchTrue, timedOutBatchTransactionsStates, index$1 as transactionServices, useGetAccountInfo, useGetAccountProvider, useGetLoginInfo, useGetNetworkConfig, useGetNotification, useGetPendingTransactions, useGetSignTransactionsError, useGetSignedTransactions, useGetTokenDetails, useGetTransactionDisplayInfo, useParseSignedTransactions, useSignTransactions, useSignTransactionsWithLedger, wrapperClassName };","map":{"version":3,"mappings":"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","names":["_Pact","prototype","then","onFulfilled","onRejected","result","state","s","callback","_settle","v","e","o","_this","value","pact","bind","observer","_isSettledPact","thenable","_forTo","array","body","check","i","reject","_cycle","length","_iteratorSymbol","Symbol","iterator","_forOf","target","step","next","done","return","_fixup","TypeError","values","push","_asyncIteratorSymbol","asyncIterator","_catch","recover","_finallyRethrows","finalizer","logoutAction","createAction","loginAction","payload","createDeepEqualSelector","createSelectorCreator","defaultMemoize","isEqual","networkConfigSelector","networkConfig","proxySelector","proxy","providerSelector","provider","chainIDSelector","ChainID","chainID","apiProviderSelector","apiProvider","walletConnectBridgeAddressSelector","network","walletConnectBridgeAddress","walletConnectDeepLinkSelector","walletConnectDeepLink","networkSelector","apiNetworkSelector","apiAddress","explorerAddressSelector","explorerAddress","egldLabelSelector","egldLabel","TransactionServerStatusesEnum","TransactionBatchStatusesEnum","LoginMethodsEnum","NotificationTypesEnum","TypesOfSmartContractCallsEnum","EnvironmentsEnum","accountInfoSelector","account","addressSelector","address","accountSelector","accountBalanceSelector","balance","accountNonceSelector","nonce","valueOf","shardSelector","shard","ledgerAccountSelector","ledgerAccount","walletConnectAccountSelector","walletConnectAccount","isAccountLoadingSelector","isAccountLoading","isAccountLoadingErrorSelector","accountLoadingError","loginInfoSelector","loginInfo","loginMethodSelector","loginMethod","isLoggedInSelector","none","Boolean","walletConnectLoginSelector","walletConnectLogin","ledgerLoginSelector","ledgerLogin","walletLoginSelector","walletLogin","loginExpiresAtSelector","loginExpiresAt","getNewLoginExpiresTimestamp","Date","setHours","getHours","optionalRedirect","callbackUrl","shouldRedirect","setTimeout","window","location","pathname","includes","href","getBridgeAddressFromNetwork","walletConnectBridgeAddresses","Math","floor","random","initialState","tokenLogin","extensionLogin","loginInfoSlice","createSlice","name","reducers","setLoginMethod","action","setTokenLogin","setTokenLoginSignature","signature","setWalletLogin","setWalletConnectLogin","setLedgerLogin","setLoginExpiresAt","extraReducers","builder","addCase","actions","reducer","whitelistedActions","throttledSetNewToken","throttle","store","dispatch","loginSessionMiddleware","type","appState","getState","loginTimestamp","isLoggedIn","now","isExpired","console","log","logout","err","error","emptyAccount","publicKey","accountInfoSlice","setAddress","Address","hex","setAccount","setAccountNonce","setAccountShard","setLedgerAccount","setWalletConnectAccount","setIsAccountLoading","setAccountLoadingError","REHYDRATE","_action$payload","accountInfo","DAPP_INIT_ROUTE","getProviderType","constructor","WalletProvider","wallet","WalletConnectProvider","walletconnect","HWProvider","ledger","ExtensionProvider","extension","EmptyProvider","extra","newWalletProvider","walletAddress","notInitializedError","caller","_proto","init","login","options","Error","getAddress","isInitialized","isConnected","sendTransaction","transaction","signTransaction","signTransactions","transactions","signMessage","message","emptyProvider","getProvider","extraActionsSlice","initializeExtraActions","modalsSlice","setTxSubmittedModal","txSubmittedModal","setNotificationModal","notificationModal","clearTxSubmittedModal","undefined","clearNotificationModal","defaultNetwork","id","egldDenomination","decimals","gasPerDataByte","apiTimeout","ProxyProvider","timeout","Number","ApiProvider","networkConfigSlice","initializeNetworkConfig","omit","setChainID","setProvider","defaultTransactionErrorMessage","defaultTransactionSuccessMessage","defaultTransactionProcessingMessage","defaultTransactionSubmittedMessage","signTransactionsSlice","setTransactionsDisplayInfo","sessionId","transactionsDisplayInfo","errorMessage","successMessage","processingMessage","submittedMessage","transactionDuration","clearTransactionsInfoForSessionId","clearTransactionsInfo","TransactionTypesEnum","okInHex","areScCallsSuccessful","scResults","success","forEach","data","decoded","Buffer","from","toString","split","hasOkPart","find","part","isContract","receiver","extractedAddress","getAddressFromDataField","isContractAddress","addressIndex","getAddressIndex","parts","MultiESDTNFTTransfer","ESDTNFTTransfer","pendingBatchTransactionsStates","sent","successBatchTransactionsStates","failBatchTransactionsStates","fail","cancelled","timedOut","timedOutBatchTransactionsStates","pendingServerTransactionsStatuses","pending","successServerTransactionsStates","completedServerTransactionsStates","completed","failServerTransactionsStates","invalid","getIsTransactionCompleted","status","getIsTransactionPending","isScCall","isPending","isBatchTransactionPending","isServerTransactionPending","getIsTransactionSuccessful","isBatchTransactionSuccessful","isServerTransactionSuccessful","getIsTransactionFailed","isBatchTransactionFailed","isServerTransactionFailed","getIsTransactionTimedOut","isBatchTransactionTimedOut","base64Regex","isStringBase64","string","test","encodeToBase64","btoa","decodeBase64","atob","isUtf8","str","charCodeAt","decodePart","decodedPart","hexPart","trim","getAllStringOccurrences","sourceStr","searchStr","matchAll","RegExp","map","a","index","parseMultiEsdtTransferData","contractCallDataIndex","startsWith","encodedTxCount","rest","txCount","BigNumber","toNumber","itemIndex","txIndex","nftTransaction","token","encodedNonce","esdtTransaction","amount","some","tx","scCallData","scCall","noData","tokenId","getTokenFromData","tokenTransfer","ESDTTransfer","nftTransfer","encodedToken","encodedAmount","replace","isTokenTransfer","erdLabel","buildUrlParams","search","urlParams","urlSearchParams","URLSearchParams","params","Object","fromEntries","nextUrlParams","buildReplyUrl","_ref$urlParams","url","entries","URL","origin","parseTransactionAfterSigning","isLedger","version","TransactionVersion","withTxHashSignVersion","TransactionOptions","withTxHashSignOptions","parsedTransaction","toPlainObject","hash","getHash","signedTransactions","transactionsToSign","signTransactionsError","transactionsSlice","updateSignedTransaction","updateSignedTransactions","updateSignedTransactionStatus","transactionHash","_state$signedTransact","_state$signedTransact2","areTransactionsSuccessful","_state$signedTransact3","_state$signedTransact4","every","areTransactionsFailed","_state$signedTransact5","_state$signedTransact6","setTransactionsToSign","clearSignTransactions","setSignTransactionsError","_action$payload3","parsedSignedTransactions","reduce","acc","txTimestamp","expiration","transactionsInfoPersistConfig","key","storage","sessionStorage","transactionsReducer","blacklist","customReducers","persistReducer","transactionsInfo","rootReducer","combineReducers","extraActions","modals","persistConfig","whitelist","localStorageReducers","configureStore","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","PAUSE","PERSIST","PURGE","REGISTER","ignoredPaths","concat","persistor","persistStore","extraActionsSelector","extraActionsInit","createSelector","newTransaction","rawTransaction","parsedData","Transaction","Balance","fromString","TransactionPayload","Nonce","gasLimit","GasLimit","gasPrice","GasPrice","transactionsSelectors","signedTransactionsSelector","signTransactionsErrorSelector","pendingSignedTransactionsSelector","txBody","successfulTransactionsSelector","completedTransactionsSelector","failedTransactionsSelector","timedOutTransactionsSelector","transactionsToSignSelector","transactionStatusSelector","_","transactionSessionId","defaultTransactionInfo","transactionsInfoSelectors","transactionDisplayInfoSelector","modalsSliceSelector","txSubmittedModalSelector","notificationModalSelector","getIsLoggedIn","onRedirect","switchTrue","object","defaultValue","obj","keys","cur","canTransformToPublicKey","checkAddress","bech32","addressIsValid","destinationAddress","isValidBach","getNetworkProxy","getApiProvider","getAccountProvider","getAccountProviderType","getChainID","getNetworkConfig","getEgldLabel","getIsProviderEqualTo","comparedProviderType","providerType","loggedIn","Promise","resolve","getAccount","setNonce","getLatestNonce","currentAccountNonce","isNaN","max","getAccountBalance","accountAddress","refreshAccount","setNewAccount","initialized","_exit4","accountData","_exit2","isAddressOfMetachain","pubKey","metachainPrefix","pubKeyPrefix","slice","equals","zeroAddress","alloc","fill","getShardOfAddress","hexPubKey","numShards","maskHigh","parseInt","maskLow","lastByteOfPubKey","logarithmicRest","position","minp","maxp","minv","maxv","scale","exp","ledgerErrorCodes","code","DEFAULT_MIN_GAS_LIMIT","configEndpoint","mainnet","testnet","devnet","fallbackConfigurations","gasPriceModifier","defaultGasPrice","defaultGasLimit","denomination","dappInitRoute","walletSignSession","pipe","previous","condition","newValue","Function","config","ROUNDING_MODE","ROUND_FLOOR","denominate","input","configDenomination","configDecimals","showLastNonZeroDecimal","_ref$showLastNonZeroD","addCommas","_ref$addCommas","Token","validation","stringIsInteger","toDenominated","current","bnBalance","isZero","integerPart","decimalPart","bNdecimalPart","decimalPlaces","min","shownDecimalsAreZero","isGreaterThan","substring","formatted","toFormat","formattedBalance","integerPartZero","numericPart","zeroPlaceholders","Array","zeros","join","minAmount","nominate","customDenomination","createBalanceBuilder","TokenType","Fungible","classnames","require","getGeneratedClasses","className","shouldRenderDefaultCss","defaultStyles","defaultClassNames","classNames","wrapperClassName","moment","setItem","expires","String","JSON","stringify","getItem","item","deserializedItem","parse","hasOwnProperty","expired","unix","removeItem","clear","defaultContextValue","DappCoreContext","React","createContext","useStore","createStoreHook","useDispatch","createDispatchHook","useSelector","createSelectorHook","useExtensionLogin","initiateLogin","setIsLoading","getInstance","isSuccessfullyInitialized","warn","encodeURIComponent","callbackRoute","providerLoginData","loginToken","redirectAfterLogin","setError","_ref$redirectAfterLog","useState","isLoading","loginFailed","useWebWalletLogin","setMinutes","getMinutes","walletLoginData","loginData","ledgerAppErrorText","failInitializeErrorText","defaultAddressesPerPage","useLedgerLogin","onStartLogin","hwWalletP","accounts","setShowAddressList","fetchAccounts","getAccounts","startIndex","addressesPerPage","setAccounts","statusCode","onConfirmSelectedAddress","selectedAddress","hwWalletProvider","loginUser","dispatchLoginActions","onLoginFailed","setStartIndex","setSelectedAddress","showAddressList","loginType","customMessage","onSelectAddress","newSelectedAddress","onGoToNextPage","onGoToPrevPage","useEffect","useUpdateEffect","effect","dependencies","isInitialMount","useRef","useWalletConnectLogin","generateWcUri","providerRef","_providerRef$current2","walletConnectUri","hasUri","setWcUri","wcUriWithToken","loginProvider","_providerRef$current","_providerRef$current$","providerHandlers","onClientLogin","handleOnLogin","onClientLogout","handleOnLogout","newProvider","getSignature","hasSignature","loginActionData","logoutRoute","walletConnector","on","clearInterval","heartbeatDisconnectInterval","setInterval","handleHeartbeat","isProviderConnected","_providerRef$current3","_providerRef$current4","connected","method","sendCustomMessage","heartbeatInterval","wcUri","hasWcUri","uriDeepLink","interval","calcTotalFee","minGasLimit","totalFee","fee","operations","calculateFeeLimit","getGasLimit","getGasPrice","getData","chainId","plus","redirectAfterSign","_ref$redirectAfterSig","sessionInformation","networkConstants","accountBalance","storeChainId","transactionsPayload","isArray","bNtotalFee","bNbalance","stringIsFloat","hasSufficientFunds","minus","notificationPayload","warning","iconClassName","title","description","hasValidChainId","signTransactionsPayload","transformAndSignTransactions","validatedReceiver","addr","ErrorCodesEnum","invalidReceiver","transactionsChainId","sender","sendTransactions","txToSign","areComplexTransactions","getPrototypeOf","useTrackTransactionStatus","transactionId","onSuccess","onFail","onCancelled","onTimedOut","onCompleted","transactionsBatch","isFailed","isTimedOut","isSuccessful","isCompleted","isCancelled","useGetPendingTransactions","pendingTransactions","pendingTransactionsArray","hasPendingTransactions","useGetFailedTransactions","failedTransactions","failedTransactionsArray","hasFailedTransactions","useGetSuccessfulTransactions","successfulTransactions","successfulTransactionsArray","hasSuccessfulTransactions","multiTxData","useParseMultiEsdtTransferData","parsedTransactionsByDataField","setParsedTransactions","allTransactions","setAllTransactions","addTransactionDataToParsedInfo","txInfo","existing","getTxInfoByDataField","multiTransactionData","extractTransactionESDTData","transactionIndex","multiTxs","trx","idx","newTx","getReceiver","useGetActiveTransactionsStatus","timedOutTransactions","completedTransactions","hasActiveTransactions","useGetCompletedTransactions","completedTransactionsArray","hasCompletedTransactions","sendSignedTransactions","promises","all","response","txHash","getTransactionsByHashes","hashes","axios","get","withScResults","responseData","previousStatus","txOnNetwork","txResponse","invalidTransaction","results","hasStatusChanged","ProviderInitializer","setExtensionProvider","tryAuthenticateWalletUser","fetchAccount","initWalletLoginProvider","refreshChainID","initializeProvider","setLedgerProvider","sendSignedTransactionsAsync","getTransactionsByHash","completedTransactionsDelay","OverrideDefaultBehaviourContext","TransactionSender","handleSendTransactions","sessionIds","isSessionIdSigned","signed","shouldSendCurrentSession","sendingRef","transactionsToSend","transactionObject","Signature","applySignature","responseHashes","newStatus","newTransactions","submittedModalPayload","clearSignInfo","history","pushState","document","useContext","TransactionStatusTracker","transactionPayload","intervalRef","isFetchingStatusRef","retriesRef","timeoutRefs","manageTimedOutTransactions","checkTransactionStatus","serverTransactions","retriesForThisHash","isScCallCompleted","resultWithError","scResult","returnMessage","TransactionsTracker","Fragment","getServerConfiguration","environment","useGetNetworkConfig","useGetNotification","notification","clearNotification","useGetTransactionDisplayInfo","toastId","useParseSignedTransactions","searchData","qs","signSessionId","getTransactionsFromWalletUrl","useSignTransactions","signTransactionsWithProvider","signingDisabled","onCancel","savedCallback","cancelAction","onAbort","proxyAccount","latestNonce","errMessage","hasTransactions","useGetSignedTransactions","swr","fetcher","fetch","res","json","useGetTokenDetails","tokenDenomination","tokenLabel","tokenAvatar","useSwr","selectedToken","assets","_selectedToken$assets","svgUrl","useSignTransactionsWithLedger","sign","currentTransaction","setWaitingForDevice","signedTx","newSignedTx","currentStep","newSignedTransactions","setSignedTransactions","isLastTransaction","setCurrentStep","exising","reset","setCurrentTransaction","waitingForDevice","extractTransactionsInfo","dataField","transactionTokenInfo","isTokenTransaction","signTx","isFirst","continueWithoutSigning","_currentTransaction$t2","endsWith","_currentTransaction$t3","onSignTransaction","onNext","nextStep","onPrev","useGetSignTransactionsError","useGetAccountInfo","useGetLoginInfo","useGetAccountProvider","getAccountShard","_await$axios$get","AppInitializer","initializeApp","initializeCustomExtraActions","initializeNetwork","setInitialized","fallbackConfig","customNetworkConfig","serverConfig","_ref$customNetworkCon","children","onLogin","word","DappProvider","_ref$completedTransac","signWithoutSending","_ref$signWithoutSendi","memoizedSendSignedTransactionsAsync","useCallback","memoizedGetTransactionsByHash","Provider","context","PersistGate","loading","AuthenticatedRoutesWrapper","routes","unlockRoute","authenticatedRoutesRef","filter","route","authenticatedRoute","isOnAuthenticatedRoute","path","TransactionParameter","functionName","inputParameters","outputParameters","withClassNameWrapper","Component","props","denominateInvalid","denominateValid","showLabel","denominatedValue","valueParts","hasNoDecimals","isNotZero","Denominate","DenominateWrapper","denominateProps","fontawesomeFreeSolidIcons","ReactFontawesome","ExplorerLink","page","text","FontAwesomeIcon","icon","icons","faSearch","ExtensionLoginButton","_ref$className","buttonClassName","loginButtonText","_ref$loginButtonText","_ref$shouldRenderDefa","onInitiateLogin","classes","wrapper","loginText","noExtensionButtonWrapper","noExtensionButtonContent","noExtensionButtonTitle","noExtensionButtonIcon","handleLogin","elrondWallet","rel","faArrowRight","onClick","ReactBootstrap","ModalContainer","noSpacer","onClose","Modal","show","backdrop","onHide","animation","centered","size","faTimes","hasOwn","arguments","arg","argType","inner","apply","call","module","exports","default","PageState","iconClass","dataTestId","iconBgClass","iconSize","_ref$iconSize","generatedClasses","iconContainer","trimHash","keep","start","end","noBalance","AddressRow","setBalance","handleChange","checked","fetchBalance","onChange","role","htmlFor","ledgerWaitingText","AddressTable","cardBody","tableWrapper","tableContent","tableHeader","tableHeaderText","buttonsWrapper","arrowButton","confirmButton","faCircleNotch","disabled","faChevronLeft","faChevronRight","ConfirmAddress","noBorder","LedgerConnect","connectPageContent","LedgerLogo","LedgerLoginContainer","wrapContentInsideModal","_ref$wrapContentInsid","spinner","getContent","LedgerLoginButton","showLoginModal","setShowLoginModal","handleOpenModal","handleCloseModal","notificationTypesToIcons","faExclamationTriangle","defaultIcon","NotificationModal","showModal","onDone","SignWithExtensionModal","handleClose","closeBtn","close","preventDefault","freeSolidIcons","faHourglass","Simple","Combined","small","getIdentifierWithoutNonce","identifier","tokenParts","getDetails","isEgldTransfer","symbol","label","EgldIcon","faGem","TokenDetails","render","process","env","NODE_ENV","combined","allOccurences","TransactionData","highlight","output","encodedScCall","remainingDataFields","SignStep","transactionData","onCloseClick","signBtnLabel","denominatedAmount","getValue","formGroup","formLabel","contentWrapper","tokenWrapper","tokenValue","tokenAmountLabel","tokenAmountValue","dataFormGroup","cancelButton","signButton","tokenlabel","Icon","Label","SignWithLedgerModal","container","SignWithWalletConnectModal","hasMultipleTransactions","SignTransactionsModals","CustomConfirmScreens","signError","signProps","Ledger","WalletConnect","Extension","Extra","_CustomConfirmScreens4","SessionStorageKeysEnum","setToastsIdsToStorage","ids","toasts","getToastsIdsFromStorage","toastsIds","isCrossShardTransaction","receiverAddress","senderShard","senderAddress","receiverShard","pubkey","IconState","half","Progress","progress","ref","removeTxFromSession","toastProgress","hasSessionStoredTx","add","saveToSession","getInitialData","totalSeconds","endTime","startTime","remaining","currentRemaining","percentRemaining","setPercentRemaining","maxPercent","perc","int","duration","toFixed","asMilliseconds","decrement","style","width","fallbackCopyTextToClipboard","textArea","createElement","appendChild","focus","select","execCommand","removeChild","copyTextToClipboard","navigator","clipboard","writeText","CopyButton","copyResult","setCopyResut","handleCopyToClipboard","stopPropagation","noSpaces","faCopy","faCheck","Trim","_ref$dataTestId","overflow","setOverflow","trimRef","hiddenTextRef","listener","debounce","diff","offsetWidth","addWindowResizeListener","addEventListener","removeEventListener","ceil","TxDetails","_ref$isTimedOut","statusTransactions","iconSuccess","iconFailed","trimContainer","iconPending","iconSuccessData","iconFailedData","iconPendingData","faSpinner","iconData","iconSrc","averageTxDurationMs","crossShardRounds","TransactionToast","_ref$title","withTxNonce","_ref$withTxNonce","shouldRender","setShouldRender","transactionDisplayInfo","accountShard","timedOutMessage","isSameShard","useMemo","prevTxIsSameShard","shardAdjustedDuration","toastFooter","details","toastContainer","toastHeader","closeButton","successToastData","hasCloseButton","pendingToastData","failToastData","timedOutToastData","toatsOptionsData","toastDataState","handleDeleteToast","Toast","minWidth","TransactionsToastList","setToastsIds","pendingTransactionsFromStore","signedTransactionsFromStore","pendingTransactionsToRender","signedTransactionsToRender","toast","mappedToastsList","currentTx","mapPendingSignedTransactions","newToasts","hasToast","fetchSessionStorageToasts","sessionStorageToastsIds","saveSessionStorageToasts","shouldSaveLocalToasts","platform","qrcode","WalletConnectLoginContainer","_ref$logoutRoute","lead","_ref$lead","shouldLoginUser","initLoginWithWalletConnect","qrCodeSvg","setQrCodeSvg","isMobileDevice","os","family","card","qrCodeSvgContainer","leadText","mobileLoginButton","generateQRCode","QRCode","svg","content","root","dangerouslySetInnerHTML","__html","height","Lighting","WalletConnectLoginButton","WebWalletLoginButton","UnlockPage","loginRoute","LedgerLoginButtonText","_ref$LedgerLoginButto","_ref$description","WalletConnectLoginButtonText","_ref$WalletConnectLog","ExtensionLoginButtonText","_ref$ExtensionLoginBu","WebWalletLoginButtonText","_ref$WebWalletLoginBu","cardContainer"],"sources":["../node_modules/babel-plugin-transform-async-to-promises/helpers.mjs","../src/redux/commonActions.ts","../src/redux/selectors/helpers.ts","../src/redux/selectors/networkConfigSelectors.ts","../src/types/enums.ts","../src/redux/selectors/accountInfoSelectors.ts","../src/redux/selectors/loginInfoSelectors.ts","../src/utils/internal/getNewLoginExpiresTimestamp.ts","../src/utils/internal/optionalRedirect.ts","../src/utils/internal/getBridgeAddressFromNetwork.ts","../src/redux/slices/loginInfoSlice.ts","../src/redux/middlewares/loginSessionMiddleware.ts","../src/redux/slices/accountInfoSlice.ts","../src/utils/provider.ts","../src/redux/slices/extraActionsSlice.ts","../src/redux/slices/modalsSlice.ts","../src/redux/slices/networkConfigSlice.ts","../src/redux/slices/transactionsInfoSlice.ts","../src/types/transactions.ts","../src/utils/smartContracts.ts","../src/utils/transactions/transactionStateByStatus.ts","../src/utils/decoders/base64Utils.ts","../src/utils/decoders/decodePart.ts","../src/utils/getAllStringOccurrences.ts","../src/utils/transactions/parseMultiEsdtTransferData.ts","../src/utils/transactions/getTokenFromData.ts","../src/utils/transactions/isTokenTransfer.ts","../src/utils/transactions/buildReplyUrl.tsx","../src/utils/transactions/parseTransactionAfterSigning.ts","../src/redux/slices/transactionsSlice.ts","../src/redux/reducers.ts","../src/redux/store.ts","../src/redux/selectors/extraActionsSelectors.ts","../src/models/newTransaction.ts","../src/redux/selectors/transactionsSelectors.ts","../src/redux/selectors/transactionsInfoSelectors.ts","../src/redux/selectors/modalsSelectors.ts","../src/utils/getIsLoggedIn.ts","../src/utils/logout.ts","../src/utils/buildUrlParams.ts","../src/utils/switchTrue.ts","../src/utils/account/addressIsValid.ts","../src/utils/network/getNetworkProxy.ts","../src/utils/network/getApiProvider.ts","../src/utils/network/getAccountProvider.ts","../src/utils/network/getAccountProviderType.ts","../src/utils/network/getChainID.ts","../src/utils/network/getNetworkConfig.ts","../src/utils/network/getEgldLabel.ts","../src/utils/network/getIsProviderEqualTo.ts","../src/utils/account/getAddress.tsx","../src/utils/account/getAccount.tsx","../src/utils/account/setNonce.tsx","../src/utils/account/getLatestNonce.tsx","../src/utils/account/getAccountBalance.tsx","../src/utils/account/refreshAccount.tsx","../src/utils/account/getShardOfAddress.ts","../src/utils/math.ts","../src/constants/ledgerErrorCodes.ts","../src/constants/network.ts","../src/constants/index.ts","../src/utils/operations/pipe.ts","../src/utils/operations/denominate.ts","../src/utils/operations/nominate.ts","../src/optionalPackages/classnames.ts","../src/utils/getGeneratedClasses.ts","../src/utils/wrapperClassName.ts","../src/optionalPackages/moment.ts","../src/utils/session.ts","../src/redux/DappProviderContext.ts","../src/services/login/useExtensionLogin.ts","../src/services/login/useWebWalletLogin.ts","../src/services/login/useLedgerLogin.ts","../src/hooks/useUpdateEffect.ts","../src/services/login/useWalletConnectLogin.ts","../src/services/transactions/utils.ts","../src/services/transactions/signTransactions.tsx","../src/services/transactions/transformAndSignTransactions.ts","../src/services/transactions/sendTransactions.ts","../src/services/transactions/hooks/useTrackTransactionStatus.ts","../src/services/transactions/hooks/useGetPendingTransactions.ts","../src/services/transactions/hooks/useGetFailedTransactions.ts","../src/services/transactions/hooks/useGetSuccessfulTransactions.ts","../src/services/transactions/hooks/useParseMultiEsdtTransferData.ts","../src/services/transactions/hooks/useGetActiveTransactionsStatus.ts","../src/services/transactions/hooks/useGetCompletedTransactions.ts","../src/APICalls/transactions/sendSignedTransactions.ts","../src/APICalls/transactions/getTransactionsByHashes.ts","../src/components/ProviderInitializer.tsx","../src/contexts/OverrideDefaultBehaviourContext.tsx","../src/components/TransactionSender/index.ts","../src/components/TransactionsTracker/TransactionStatusTracker.tsx","../src/components/TransactionsTracker/index.tsx","../src/APICalls/configuration/getServerConfiguration.ts","../src/hooks/useGetNetworkConfig.ts","../src/hooks/useGetNotification.ts","../src/hooks/transactions/useGetTransactionDisplayInfo.ts","../src/hooks/transactions/useParseSignedTransactions.tsx","../src/hooks/transactions/useSignTransactions.tsx","../src/hooks/transactions/useGetSignedTransactions.ts","../src/optionalPackages/swr.ts","../src/hooks/transactions/useGetTokenDetails.tsx","../src/hooks/transactions/useSignTransactionsWithLedger.tsx","../src/hooks/transactions/useGetSignTransactionsError.ts","../src/hooks/account/useGetAccountInfo.ts","../src/hooks/account/useGetLoginInfo.ts","../src/hooks/account/useGetAccountProvider.ts","../src/utils/account/getAccountShard.tsx","../src/wrappers/AppInitializer.tsx","../src/redux/DappProvider.tsx","../src/wrappers/AuthenticatedRoutesWrapper/index.tsx","../src/models/TransactionParameter.ts","../src/wrappers/withClassNameWrapper.tsx","../src/UI/Denominate/index.tsx","../src/optionalPackages/fortawesome-free-solid-svg-icons.ts","../src/optionalPackages/react-fontawesome.ts","../src/UI/ExplorerLink/index.tsx","../src/UI/extension/LoginButton/index.tsx","../src/optionalPackages/react-bootstrap.tsx","../src/UI/ModalContainer/index.tsx","../node_modules/classnames/index.js","../src/UI/PageState/index.tsx","../src/UI/ledger/LoginModal/AddressRow.tsx","../src/UI/ledger/LoginModal/AddressTable.tsx","../src/UI/ledger/LoginModal/ConfirmAddress.tsx","../src/UI/ledger/LoginModal/LedgerConnect.tsx","../src/UI/ledger/LoginModal/index.tsx","../src/UI/ledger/LoginButton/index.tsx","../src/UI/NotificationModal/index.tsx","../src/UI/SignTransactionsModals/SignWithExtensionModal/index.tsx","../src/UI/TokenDetails/TokenSymbol/index.tsx","../src/UI/TokenDetails/index.tsx","../src/UI/TransactionData/index.tsx","../src/UI/SignTransactionsModals/SignWithLedgerModal/SignStep.tsx","../src/UI/SignTransactionsModals/SignWithLedgerModal/index.tsx","../src/UI/SignTransactionsModals/SignWithWalletConnectModal/index.tsx","../src/UI/SignTransactionsModals/index.tsx","../src/storage/session.ts","../src/services/transactions/isCrossShardTransaction.ts","../src/UI/IconState/index.tsx","../src/UI/Progress/index.tsx","../src/UI/CopyButton/helpers/copyToClipboard.tsx","../src/UI/CopyButton/index.tsx","../src/UI/Trim/index.tsx","../src/UI/TxDetails/index.tsx","../src/UI/TransactionToast/index.tsx","../src/UI/TransactionsToastList/index.tsx","../src/optionalPackages/platform.ts","../src/optionalPackages/qrcode.ts","../src/UI/walletConnect/WalletConnectLoginContainer/index.tsx","../src/UI/walletConnect/WalletConnectLoginButton/index.tsx","../src/UI/webWallet/LoginButton/index.tsx","../src/UI/pages/UnlockPage/index.tsx"],"sourcesContent":["// A type of promise-like that resolves synchronously and supports only one observer\nexport const _Pact = /*#__PURE__*/(function() {\n\tfunction _Pact() {}\n\t_Pact.prototype.then = function(onFulfilled, onRejected) {\n\t\tconst result = new _Pact();\n\t\tconst state = this.s;\n\t\tif (state) {\n\t\t\tconst callback = state & 1 ? onFulfilled : onRejected;\n\t\t\tif (callback) {\n\t\t\t\ttry {\n\t\t\t\t\t_settle(result, 1, callback(this.v));\n\t\t\t\t} catch (e) {\n\t\t\t\t\t_settle(result, 2, e);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\t\tthis.o = function(_this) {\n\t\t\ttry {\n\t\t\t\tconst value = _this.v;\n\t\t\t\tif (_this.s & 1) {\n\t\t\t\t\t_settle(result, 1, onFulfilled ? onFulfilled(value) : value);\n\t\t\t\t} else if (onRejected) {\n\t\t\t\t\t_settle(result, 1, onRejected(value));\n\t\t\t\t} else {\n\t\t\t\t\t_settle(result, 2, value);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(result, 2, e);\n\t\t\t}\n\t\t};\n\t\treturn result;\n\t}\n\treturn _Pact;\n})();\n\n// Settles a pact synchronously\nexport function _settle(pact, state, value) {\n\tif (!pact.s) {\n\t\tif (value instanceof _Pact) {\n\t\t\tif (value.s) {\n\t\t\t\tif (state & 1) {\n\t\t\t\t\tstate = value.s;\n\t\t\t\t}\n\t\t\t\tvalue = value.v;\n\t\t\t} else {\n\t\t\t\tvalue.o = _settle.bind(null, pact, state);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (value && value.then) {\n\t\t\tvalue.then(_settle.bind(null, pact, state), _settle.bind(null, pact, 2));\n\t\t\treturn;\n\t\t}\n\t\tpact.s = state;\n\t\tpact.v = value;\n\t\tconst observer = pact.o;\n\t\tif (observer) {\n\t\t\tobserver(pact);\n\t\t}\n\t}\n}\n\nexport function _isSettledPact(thenable) {\n\treturn thenable instanceof _Pact && thenable.s & 1;\n}\n\n// Converts argument to a function that always returns a Promise\nexport function _async(f) {\n\treturn function() {\n\t\tfor (var args = [], i = 0; i < arguments.length; i++) {\n\t\t\targs[i] = arguments[i];\n\t\t}\n\t\ttry {\n\t\t\treturn Promise.resolve(f.apply(this, args));\n\t\t} catch(e) {\n\t\t\treturn Promise.reject(e);\n\t\t}\n\t}\n}\n\n// Awaits on a value that may or may not be a Promise (equivalent to the await keyword in ES2015, with continuations passed explicitly)\nexport function _await(value, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(value) : value;\n\t}\n\tif (!value || !value.then) {\n\t\tvalue = Promise.resolve(value);\n\t}\n\treturn then ? value.then(then) : value;\n}\n\n// Awaits on a value that may or may not be a Promise, then ignores it\nexport function _awaitIgnored(value, direct) {\n\tif (!direct) {\n\t\treturn value && value.then ? value.then(_empty) : Promise.resolve();\n\t}\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continue(value, then) {\n\treturn value && value.then ? value.then(then) : then(value);\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continueIgnored(value) {\n\tif (value && value.then) {\n\t\treturn value.then(_empty);\n\t}\n}\n\n// Asynchronously iterate through an object that has a length property, passing the index as the first argument to the callback (even as the length property changes)\nexport function _forTo(array, body, check) {\n\tvar i = -1, pact, reject;\n\tfunction _cycle(result) {\n\t\ttry {\n\t\t\twhile (++i < array.length && (!check || !check())) {\n\t\t\t\tresult = body(i);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (pact) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t} else {\n\t\t\t\tpact = result;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t}\n\t}\n\t_cycle();\n\treturn pact;\n}\n\n// Asynchronously iterate through an object's properties (including properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forIn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tkeys.push(key);\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\n// Asynchronously iterate through an object's own properties (excluding properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forOwn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tif (Object.prototype.hasOwnProperty.call(target, key)) {\n\t\t\tkeys.push(key);\n\t\t}\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\nexport const _iteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\"))) : \"@@iterator\";\n\n// Asynchronously iterate through an object's values\n// Uses for...of if the runtime supports it, otherwise iterates until length on a copy\nexport function _forOf(target, body, check) {\n\tif (typeof target[_iteratorSymbol] === \"function\") {\n\t\tvar iterator = target[_iteratorSymbol](), step, pact, reject;\n\t\tfunction _cycle(result) {\n\t\t\ttry {\n\t\t\t\twhile (!(step = iterator.next()).done && (!check || !check())) {\n\t\t\t\t\tresult = body(step.value);\n\t\t\t\t\tif (result && result.then) {\n\t\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (pact) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t} else {\n\t\t\t\t\tpact = result;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t\t}\n\t\t}\n\t\t_cycle();\n\t\tif (iterator.return) {\n\t\t\tvar _fixup = function(value) {\n\t\t\t\ttry {\n\t\t\t\t\tif (!step.done) {\n\t\t\t\t\t\titerator.return();\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tif (pact && pact.then) {\n\t\t\t\treturn pact.then(_fixup, function(e) {\n\t\t\t\t\tthrow _fixup(e);\n\t\t\t\t});\n\t\t\t}\n\t\t\t_fixup();\n\t\t}\n\t\treturn pact;\n\t}\n\t// No support for Symbol.iterator\n\tif (!(\"length\" in target)) {\n\t\tthrow new TypeError(\"Object is not iterable\");\n\t}\n\t// Handle live collections properly\n\tvar values = [];\n\tfor (var i = 0; i < target.length; i++) {\n\t\tvalues.push(target[i]);\n\t}\n\treturn _forTo(values, function(i) { return body(values[i]); }, check);\n}\n\nexport const _asyncIteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\"))) : \"@@asyncIterator\";\n\n// Asynchronously iterate on a value using it's async iterator if present, or its synchronous iterator if missing\nexport function _forAwaitOf(target, body, check) {\n\tif (typeof target[_asyncIteratorSymbol] === \"function\") {\n\t\tvar pact = new _Pact();\n\t\tvar iterator = target[_asyncIteratorSymbol]();\n\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\treturn pact;\n\t\tfunction _resumeAfterBody(result) {\n\t\t\tif (check && check()) {\n\t\t\t\treturn _settle(pact, 1, iterator.return ? iterator.return().then(function() { return result; }) : result);\n\t\t\t}\n\t\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\t}\n\t\tfunction _resumeAfterNext(step) {\n\t\t\tif (step.done) {\n\t\t\t\t_settle(pact, 1);\n\t\t\t} else {\n\t\t\t\tPromise.resolve(body(step.value)).then(_resumeAfterBody).then(void 0, _reject);\n\t\t\t}\n\t\t}\n\t\tfunction _reject(error) {\n\t\t\t_settle(pact, 2, iterator.return ? iterator.return().then(function() { return error; }) : error);\n\t\t}\n\t}\n\treturn Promise.resolve(_forOf(target, function(value) { return Promise.resolve(value).then(body); }, check));\n}\n\n// Asynchronously implement a generic for loop\nexport function _for(test, update, body) {\n\tvar stage;\n\tfor (;;) {\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t\tif (shouldContinue.then) {\n\t\t\tstage = 0;\n\t\t\tbreak;\n\t\t}\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.s;\n\t\t\t} else {\n\t\t\t\tstage = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (update) {\n\t\t\tvar updateValue = update();\n\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\tstage = 2;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tvar pact = new _Pact();\n\tvar reject = _settle.bind(null, pact, 2);\n\t(stage === 0 ? shouldContinue.then(_resumeAfterTest) : stage === 1 ? result.then(_resumeAfterBody) : updateValue.then(_resumeAfterUpdate)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tdo {\n\t\t\tif (update) {\n\t\t\t\tupdateValue = update();\n\t\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\t\tupdateValue.then(_resumeAfterUpdate).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tshouldContinue = test();\n\t\t\tif (!shouldContinue || (_isSettledPact(shouldContinue) && !shouldContinue.v)) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t}\n\t\t} while (!result || !result.then);\n\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterBody(result);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n\tfunction _resumeAfterUpdate() {\n\t\tif (shouldContinue = test()) {\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterTest(shouldContinue);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a do ... while loop\nexport function _do(body, test) {\n\tvar awaitBody;\n\tdo {\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t} else {\n\t\t\t\tawaitBody = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t} while (!shouldContinue.then);\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : shouldContinue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tfor (;;) {\n\t\t\tshouldContinue = test();\n\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t}\n\t\t\tif (!shouldContinue) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\tresult = result.v;\n\t\t\t\t} else {\n\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tdo {\n\t\t\t\tresult = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tshouldContinue = test();\n\t\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t\t}\n\t\t\t\tif (!shouldContinue) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} while (!shouldContinue.then);\n\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a switch statement\nexport function _switch(discriminant, cases) {\n\tvar dispatchIndex = -1;\n\tvar awaitBody;\n\touter: {\n\t\tfor (var i = 0; i < cases.length; i++) {\n\t\t\tvar test = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvar testValue = test();\n\t\t\t\tif (testValue && testValue.then) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tif (testValue === discriminant) {\n\t\t\t\t\tdispatchIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Found the default case, set it as the pending dispatch case\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tif (dispatchIndex !== -1) {\n\t\t\tdo {\n\t\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\t\twhile (!body) {\n\t\t\t\t\tdispatchIndex++;\n\t\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t\t}\n\t\t\t\tvar result = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tawaitBody = true;\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\t\tdispatchIndex++;\n\t\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t\treturn result;\n\t\t}\n\t}\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : testValue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterTest(value) {\n\t\tfor (;;) {\n\t\t\tif (value === discriminant) {\n\t\t\t\tdispatchIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (++i === cases.length) {\n\t\t\t\tif (dispatchIndex !== -1) {\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttest = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvalue = test();\n\t\t\t\tif (value && value.then) {\n\t\t\t\t\tvalue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tdo {\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tvar result = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tdispatchIndex++;\n\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterBody(result) {\n\t\tfor (;;) {\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tif (!fallthroughCheck || fallthroughCheck()) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdispatchIndex++;\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _call(body, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(body()) : body();\n\t}\n\ttry {\n\t\tvar result = Promise.resolve(body());\n\t\treturn then ? result.then(then) : result;\n\t} catch (e) {\n\t\treturn Promise.reject(e);\n\t}\n}\n\n// Asynchronously call a function and swallow the result\nexport function _callIgnored(body, direct) {\n\treturn _call(body, _empty, direct);\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _invoke(body, then) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(then);\n\t}\n\treturn then(result);\n}\n\n// Asynchronously call a function and swallow the result\nexport function _invokeIgnored(body) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(_empty);\n\t}\n}\n\n// Asynchronously call a function and send errors to recovery continuation\nexport function _catch(body, recover) {\n\ttry {\n\t\tvar result = body();\n\t} catch(e) {\n\t\treturn recover(e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(void 0, recover);\n\t}\n\treturn result;\n}\n\n// Asynchronously await a promise and pass the result to a finally continuation\nexport function _finallyRethrows(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer(true, e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n\t}\n\treturn finalizer(false, result);\n}\n\n// Asynchronously await a promise and invoke a finally continuation that always overrides the result\nexport function _finally(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer();\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer, finalizer);\n\t}\n\treturn finalizer();\n}\n\n// Rethrow or return a value from a finally continuation\nexport function _rethrow(thrown, value) {\n\tif (thrown)\n\t\tthrow value;\n\treturn value;\n}\n\n// Empty function to implement break and other control flow that ignores asynchronous results\nexport function _empty() {\n}\n\n// Sentinel value for early returns in generators \nexport const _earlyReturn = /*#__PURE__*/ {};\n\n// Asynchronously call a function and send errors to recovery continuation, skipping early returns\nexport function _catchInGenerator(body, recover) {\n\treturn _catch(body, function(e) {\n\t\tif (e === _earlyReturn) {\n\t\t\tthrow e;\n\t\t}\n\t\treturn recover(e);\n\t});\n}\n\n// Asynchronous generator class; accepts the entrypoint of the generator, to which it passes itself when the generator should start\nexport const _AsyncGenerator = /*#__PURE__*/(function() {\n\tfunction _AsyncGenerator(entry) {\n\t\tthis._entry = entry;\n\t\tthis._pact = null;\n\t\tthis._resolve = null;\n\t\tthis._return = null;\n\t\tthis._promise = null;\n\t}\n\n\tfunction _wrapReturnedValue(value) {\n\t\treturn { value: value, done: true };\n\t}\n\tfunction _wrapYieldedValue(value) {\n\t\treturn { value: value, done: false };\n\t}\n\n\t_AsyncGenerator.prototype._yield = function(value) {\n\t\t// Yield the value to the pending next call\n\t\tthis._resolve(value && value.then ? value.then(_wrapYieldedValue) : _wrapYieldedValue(value));\n\t\t// Return a pact for an upcoming next/return/throw call\n\t\treturn this._pact = new _Pact();\n\t};\n\t_AsyncGenerator.prototype.next = function(value) {\n\t\t// Advance the generator, starting it if it has yet to be started\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tconst _entry = _this._entry;\n\t\t\t\tif (_entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the next call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Start the generator\n\t\t\t\t_this._entry = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\tfunction returnValue(value) {\n\t\t\t\t\t_this._resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t_this._resolve = null;\n\t\t\t\t}\n\t\t\t\tvar result = _entry(_this);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tresult.then(returnValue, function(error) {\n\t\t\t\t\t\tif (error === _earlyReturn) {\n\t\t\t\t\t\t\treturnValue(_this._return);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst pact = new _Pact();\n\t\t\t\t\t\t\t_this._resolve(pact);\n\t\t\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t\t\t_this._resolve = null;\n\t\t\t\t\t\t\t_resolve(pact, 2, error);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturnValue(result);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Generator is started and a yield expression is pending, settle it\n\t\t\t\t_this._pact = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\t_settle(_pact, 1, value);\n\t\t\t}\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.return = function(value) {\n\t\t// Early return from the generator if started, otherwise abandons the generator\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the return call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return the specified value\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t}\n\t\t\t// Settle the yield expression with a rejected \"early return\" value\n\t\t\t_this._return = value;\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, _earlyReturn);\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.throw = function(error) {\n\t\t// Inject an exception into the pending yield expression\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve, reject) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the throw call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return a rejected Promise containing the error\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn reject(error);\n\t\t\t}\n\t\t\t// Settle the yield expression with the value as a rejection\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, error);\n\t\t});\n\t};\n\n\t_AsyncGenerator.prototype[_asyncIteratorSymbol] = function() {\n\t\treturn this;\n\t};\n\t\n\treturn _AsyncGenerator;\n})();\n","import { createAction } from '@reduxjs/toolkit';\nimport { LoginMethodsEnum } from 'types/enums';\n\nexport interface LoginActionPayloadType {\n  address: string;\n  loginMethod: LoginMethodsEnum;\n}\n\nexport const logoutAction = createAction('logout');\n\nexport const loginAction = createAction(\n  'login',\n  (payload: LoginActionPayloadType) => ({ payload })\n);\n","import isEqual from 'lodash/isEqual';\nimport { createSelectorCreator, defaultMemoize } from 'reselect';\n\nexport const createDeepEqualSelector = createSelectorCreator(\n  defaultMemoize,\n  isEqual\n);\n","import { ChainID } from '@elrondnetwork/erdjs';\nimport { RootState } from '../store';\nimport { createDeepEqualSelector } from './helpers';\n\nexport const networkConfigSelector = (state: RootState) => state.networkConfig;\n\nexport const proxySelector = createDeepEqualSelector(\n  networkConfigSelector,\n  (state) => state.proxy\n);\n\nexport const providerSelector = createDeepEqualSelector(\n  networkConfigSelector,\n  (state) => state.provider\n);\n\nexport const chainIDSelector = createDeepEqualSelector(\n  networkConfigSelector,\n  (state) => new ChainID(state.chainID)\n);\n\nexport const apiProviderSelector = createDeepEqualSelector(\n  networkConfigSelector,\n  (state) => state.apiProvider\n);\n\nexport const walletConnectBridgeAddressSelector = createDeepEqualSelector(\n  networkConfigSelector,\n  (state) => state.network.walletConnectBridgeAddress\n);\n\nexport const walletConnectDeepLinkSelector = createDeepEqualSelector(\n  networkConfigSelector,\n  (state) => state.network.walletConnectDeepLink\n);\n\nexport const networkSelector = createDeepEqualSelector(\n  networkConfigSelector,\n  (state) => state.network\n);\n\nexport const apiNetworkSelector = createDeepEqualSelector(\n  networkSelector,\n  (state) => state.apiAddress\n);\n\nexport const explorerAddressSelector = createDeepEqualSelector(\n  networkSelector,\n  (state) => state.explorerAddress\n);\n\nexport const egldLabelSelector = createDeepEqualSelector(\n  networkSelector,\n  (state) => state.egldLabel\n);\n","export enum TransactionServerStatusesEnum {\n  'pending' = 'pending',\n  'fail' = 'fail',\n  'invalid' = 'invalid',\n  'success' = 'success',\n  'executed' = 'executed',\n  'completed' = 'completed'\n}\n\nexport enum TransactionBatchStatusesEnum {\n  'signed' = 'signed',\n  'cancelled' = 'cancelled',\n  'success' = 'success',\n  'sent' = 'sent',\n  'fail' = 'fail',\n  'timedOut' = 'timedOut'\n}\n\nexport enum LoginMethodsEnum {\n  ledger = 'ledger',\n  walletconnect = 'walletconnect',\n  wallet = 'wallet',\n  extension = 'extension',\n  extra = 'extra',\n  none = ''\n}\n\nexport enum NotificationTypesEnum {\n  warning = 'warning',\n  error = 'error',\n  success = 'success'\n}\n\nexport enum TypesOfSmartContractCallsEnum {\n  MultiESDTNFTTransfer = 'MultiESDTNFTTransfer',\n  ESDTNFTTransfer = 'ESDTNFTTransfer'\n}\n\nexport enum EnvironmentsEnum {\n  testnet = 'testnet',\n  devnet = 'devnet',\n  mainnet = 'mainnet'\n}\n","import { RootState } from '../store';\nimport { createDeepEqualSelector } from './helpers';\n\nexport const accountInfoSelector = (state: RootState) => state.account;\n\nexport const addressSelector = createDeepEqualSelector(\n  accountInfoSelector,\n  (state) => state.address\n);\n\nexport const accountSelector = createDeepEqualSelector(\n  accountInfoSelector,\n  (state) => state.account\n);\n\nexport const accountBalanceSelector = createDeepEqualSelector(\n  accountSelector,\n  (account) => account.balance\n);\n\nexport const accountNonceSelector = createDeepEqualSelector(\n  accountSelector,\n  (state) => state?.nonce?.valueOf() || 0\n);\n\nexport const shardSelector = createDeepEqualSelector(\n  accountInfoSelector,\n  (state) => state.shard\n);\n\nexport const ledgerAccountSelector = createDeepEqualSelector(\n  accountInfoSelector,\n  (state) => state.ledgerAccount\n);\n\nexport const walletConnectAccountSelector = createDeepEqualSelector(\n  accountInfoSelector,\n  (state) => state.walletConnectAccount\n);\n\nexport const isAccountLoadingSelector = createDeepEqualSelector(\n  accountInfoSelector,\n  (state) => state.isAccountLoading\n);\n\nexport const isAccountLoadingErrorSelector = createDeepEqualSelector(\n  accountInfoSelector,\n  (state) => state.accountLoadingError\n);\n","import { LoginMethodsEnum } from 'types/enums';\nimport { RootState } from '../store';\nimport { addressSelector } from './accountInfoSelectors';\nimport { createDeepEqualSelector } from './helpers';\n\nexport const loginInfoSelector = (state: RootState) => state.loginInfo;\n\nexport const loginMethodSelector = createDeepEqualSelector(\n  loginInfoSelector,\n  (state) => state.loginMethod\n);\n\nexport const isLoggedInSelector = createDeepEqualSelector(\n  loginInfoSelector,\n  addressSelector,\n  (state, address) =>\n    state.loginMethod != LoginMethodsEnum.none && Boolean(address)\n);\n\nexport const walletConnectLoginSelector = createDeepEqualSelector(\n  loginInfoSelector,\n  (state) => state.walletConnectLogin\n);\n\nexport const ledgerLoginSelector = createDeepEqualSelector(\n  loginInfoSelector,\n  (state) => state.ledgerLogin\n);\n\nexport const walletLoginSelector = createDeepEqualSelector(\n  loginInfoSelector,\n  (state) => state.walletLogin\n);\n\nexport const loginExpiresAtSelector = createDeepEqualSelector(\n  loginInfoSelector,\n  (state) => state.loginExpiresAt\n);\n","export function getNewLoginExpiresTimestamp() {\n  return new Date().setHours(new Date().getHours() + 24);\n}\n\nexport default getNewLoginExpiresTimestamp;\n","export function optionalRedirect(\n  callbackUrl?: string,\n  shouldRedirect?: boolean\n) {\n  if (shouldRedirect && callbackUrl != null) {\n    setTimeout(() => {\n      if (!window.location.pathname.includes(callbackUrl)) {\n        window.location.href = callbackUrl;\n      }\n    }, 200);\n  }\n}\n","export function getBridgeAddressFromNetwork(\n  walletConnectBridgeAddresses: string[]\n) {\n  return walletConnectBridgeAddresses[\n    Math.floor(Math.random() * walletConnectBridgeAddresses.length)\n  ];\n}\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { LoginMethodsEnum } from 'types/enums';\nimport { getNewLoginExpiresTimestamp } from 'utils/internal';\nimport {\n  loginAction,\n  logoutAction,\n  LoginActionPayloadType\n} from '../commonActions';\n\nexport interface WalletConnectLoginType {\n  loginType: string;\n  callbackRoute: string;\n  logoutRoute: string;\n}\n\nexport interface LedgerLoginType {\n  index: number;\n  loginType: string;\n}\n\nexport interface LoginInfoType {\n  data: any;\n  expires: number;\n}\n\nexport interface TokenLoginType {\n  loginToken: string;\n  signature?: string;\n}\n\nexport interface LoginInfoStateType {\n  loginMethod: LoginMethodsEnum;\n  walletConnectLogin: WalletConnectLoginType | null;\n  ledgerLogin: LedgerLoginType | null;\n  tokenLogin: TokenLoginType | null;\n  walletLogin: LoginInfoType | null;\n  extensionLogin: LoginInfoType | null;\n  loginExpiresAt: number;\n}\n\nconst initialState: LoginInfoStateType = {\n  loginMethod: LoginMethodsEnum.none,\n  walletConnectLogin: null,\n  ledgerLogin: null,\n  tokenLogin: null,\n  walletLogin: null,\n  extensionLogin: null,\n  loginExpiresAt: getNewLoginExpiresTimestamp()\n};\n\nexport const loginInfoSlice = createSlice({\n  name: 'loginInfoSlice',\n  initialState: initialState,\n  reducers: {\n    setLoginMethod: (\n      state: LoginInfoStateType,\n      action: PayloadAction<LoginMethodsEnum>\n    ) => {\n      state.loginMethod = action.payload;\n    },\n    setTokenLogin: (\n      state: LoginInfoStateType,\n      action: PayloadAction<TokenLoginType>\n    ) => {\n      state.tokenLogin = action.payload;\n    },\n    setTokenLoginSignature: (\n      state: LoginInfoStateType,\n      action: PayloadAction<string>\n    ) => {\n      if (state?.tokenLogin != null) {\n        state.tokenLogin.signature = action.payload;\n      }\n    },\n    setWalletLogin: (\n      state: LoginInfoStateType,\n      action: PayloadAction<LoginInfoType | null>\n    ) => {\n      state.walletLogin = action.payload;\n    },\n    setWalletConnectLogin: (\n      state: LoginInfoStateType,\n      action: PayloadAction<WalletConnectLoginType | null>\n    ) => {\n      state.walletConnectLogin = action.payload;\n    },\n    setLedgerLogin: (\n      state: LoginInfoStateType,\n      action: PayloadAction<LedgerLoginType | null>\n    ) => {\n      state.ledgerLogin = action.payload;\n    },\n    setLoginExpiresAt: (\n      state: LoginInfoStateType,\n      action: PayloadAction<number>\n    ) => {\n      state.loginExpiresAt = action.payload;\n    }\n  },\n  extraReducers: (builder) => {\n    builder.addCase(logoutAction, () => {\n      return initialState;\n    });\n    builder.addCase(\n      loginAction,\n      (\n        state: LoginInfoStateType,\n        action: PayloadAction<LoginActionPayloadType>\n      ) => {\n        state.loginMethod = action.payload.loginMethod;\n        state.loginExpiresAt = getNewLoginExpiresTimestamp();\n      }\n    );\n  }\n});\n\nexport const {\n  setLoginMethod,\n  setWalletConnectLogin,\n  setLedgerLogin,\n  setTokenLogin,\n  setTokenLoginSignature,\n  setWalletLogin,\n  setLoginExpiresAt\n} = loginInfoSlice.actions;\n\nexport default loginInfoSlice.reducer;\n","import { PayloadAction } from '@reduxjs/toolkit';\nimport throttle from 'lodash/throttle';\nimport { logoutAction } from 'redux/commonActions';\nimport {\n  isLoggedInSelector,\n  loginExpiresAtSelector\n} from 'redux/selectors/loginInfoSelectors';\nimport { providerSelector } from 'redux/selectors/networkConfigSelectors';\nimport { setLoginExpiresAt } from 'redux/slices/loginInfoSlice';\nimport { StoreType } from 'redux/store';\nimport { getNewLoginExpiresTimestamp } from 'utils/internal';\n\nconst whitelistedActions = ['loginInfoSlice/setLoginExpiresAt', 'logout'];\n\nconst throttledSetNewToken = throttle((store: StoreType) => {\n  store.dispatch(setLoginExpiresAt(getNewLoginExpiresTimestamp()));\n}, 5000);\n\nexport const loginSessionMiddleware: any =\n  (store: StoreType) =>\n  (next: (action: PayloadAction) => void) =>\n  (action: PayloadAction) => {\n    if (whitelistedActions.includes(action.type)) {\n      return next(action);\n    }\n    const appState = store.getState();\n    const loginTimestamp = loginExpiresAtSelector(appState);\n    const isLoggedIn = isLoggedInSelector(appState);\n    if (!isLoggedIn) {\n      return next(action);\n    }\n    if (loginTimestamp == null) {\n      return store.dispatch(setLoginExpiresAt(getNewLoginExpiresTimestamp()));\n    }\n    const now = Date.now();\n    const isExpired = loginTimestamp - now < 0;\n    if (isExpired) {\n      return setTimeout(async () => {\n        const provider = providerSelector(store.getState());\n        console.log('session expired');\n        store.dispatch(logoutAction());\n        try {\n          await provider.logout({ callbackUrl: '/' });\n        } catch (err) {\n          console.error('error logging out', err);\n        }\n      }, 1000);\n    } else {\n      throttledSetNewToken(store);\n    }\n    return next(action);\n  };\n\nexport default loginSessionMiddleware;\n","import { Address } from '@elrondnetwork/erdjs';\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { REHYDRATE } from 'redux-persist';\n\nimport {\n  loginAction,\n  logoutAction,\n  LoginActionPayloadType\n} from '../commonActions';\n\nexport interface AccountType {\n  address: string;\n  balance: string;\n  nonce: number;\n  code?: string;\n  username?: string;\n}\nexport interface LedgerAccountType {\n  index: number;\n  address: string;\n}\n\nexport interface AccountInfoSliceType {\n  address: string;\n  shard?: number;\n  account: AccountType;\n  publicKey: string;\n  ledgerAccount: LedgerAccountType | null;\n  walletConnectAccount: string | null;\n  isAccountLoading: boolean;\n  accountLoadingError: string | null;\n}\n\nexport const emptyAccount: AccountType = {\n  balance: '...',\n  address: '',\n  nonce: 0\n};\n\nconst initialState: AccountInfoSliceType = {\n  address: '',\n  account: emptyAccount,\n  ledgerAccount: null,\n  publicKey: '',\n  walletConnectAccount: null,\n  isAccountLoading: true,\n  accountLoadingError: null\n};\n\nexport const accountInfoSlice = createSlice({\n  name: 'accountInfoSlice',\n  initialState: initialState,\n  reducers: {\n    setAddress: (\n      state: AccountInfoSliceType,\n      action: PayloadAction<string>\n    ) => {\n      const address = action.payload;\n      state.address = address;\n      state.publicKey = new Address(address).hex();\n    },\n    setAccount: (\n      state: AccountInfoSliceType,\n      action: PayloadAction<AccountType>\n    ) => {\n      state.account = action.payload;\n      state.isAccountLoading = false;\n      state.accountLoadingError = null;\n    },\n    setAccountNonce: (\n      state: AccountInfoSliceType,\n      action: PayloadAction<number>\n    ) => {\n      state.account.nonce = action.payload;\n    },\n    setAccountShard: (\n      state: AccountInfoSliceType,\n      action: PayloadAction<number>\n    ) => {\n      state.shard = action.payload;\n    },\n    setLedgerAccount: (\n      state: AccountInfoSliceType,\n      action: PayloadAction<LedgerAccountType | null>\n    ) => {\n      state.ledgerAccount = action.payload;\n    },\n    setWalletConnectAccount: (\n      state: AccountInfoSliceType,\n      action: PayloadAction<string | null>\n    ) => {\n      state.walletConnectAccount = action.payload;\n    },\n    setIsAccountLoading: (\n      state: AccountInfoSliceType,\n      action: PayloadAction<boolean>\n    ) => {\n      state.isAccountLoading = action.payload;\n      state.accountLoadingError = null;\n    },\n    setAccountLoadingError: (\n      state: AccountInfoSliceType,\n      action: PayloadAction<string | null>\n    ) => {\n      state.accountLoadingError = action.payload;\n      state.isAccountLoading = false;\n    }\n  },\n  extraReducers: (builder) => {\n    builder.addCase(logoutAction, () => {\n      return initialState;\n    });\n    builder.addCase(\n      loginAction,\n      (\n        state: AccountInfoSliceType,\n        action: PayloadAction<LoginActionPayloadType>\n      ) => {\n        const { address } = action.payload;\n        state.address = address;\n        state.publicKey = new Address(address).hex();\n      }\n    );\n    builder.addCase(REHYDRATE, (state, action: any) => {\n      if (!action.payload?.account) {\n        return;\n      }\n\n      const { account: accountInfo } = action.payload;\n      const { address, shard, account, publicKey } = accountInfo;\n      state.address = address;\n      state.shard = shard;\n      state.account = account;\n      state.publicKey = publicKey;\n    });\n  }\n});\n\nexport const {\n  setAccount,\n  setAddress,\n  setAccountNonce,\n  setAccountShard,\n  setLedgerAccount,\n  setWalletConnectAccount,\n  setIsAccountLoading,\n  setAccountLoadingError\n} = accountInfoSlice.actions;\n\nexport default accountInfoSlice.reducer;\n","import {\n  ExtensionProvider,\n  HWProvider,\n  IDappProvider,\n  SignableMessage,\n  Transaction,\n  WalletConnectProvider,\n  WalletProvider\n} from '@elrondnetwork/erdjs';\nimport { LoginMethodsEnum } from 'types/enums';\n\nexport const DAPP_INIT_ROUTE = '/dapp/init';\n\nexport const getProviderType = (\n  provider: IDappProvider | undefined\n): LoginMethodsEnum => {\n  switch (provider?.constructor) {\n    case WalletProvider:\n      return LoginMethodsEnum.wallet;\n    case WalletConnectProvider:\n      return LoginMethodsEnum.walletconnect;\n    case HWProvider:\n      return LoginMethodsEnum.ledger;\n    case ExtensionProvider:\n      return LoginMethodsEnum.extension;\n    case EmptyProvider:\n      return LoginMethodsEnum.none;\n    default:\n      return LoginMethodsEnum.extra;\n  }\n};\n\nexport const newWalletProvider = (walletAddress: string) =>\n  new WalletProvider(`${walletAddress}${DAPP_INIT_ROUTE}`);\n\nconst notInitializedError = (caller: string) => {\n  return `Unable to perform ${caller}, Provider not initialized`;\n};\n\nexport class EmptyProvider implements IDappProvider {\n  async init() {\n    return false;\n  }\n  login(options?: { callbackUrl?: string; token?: string }): Promise<string> {\n    throw new Error(notInitializedError(`login with options: ${options}`));\n  }\n  async logout(options?: { callbackUrl?: string }): Promise<boolean> {\n    throw new Error(notInitializedError(`logout with options: ${options}`));\n  }\n  async getAddress(): Promise<string> {\n    throw new Error(notInitializedError('getAddress'));\n  }\n  isInitialized(): boolean {\n    return false;\n  }\n  async isConnected(): Promise<boolean> {\n    return false;\n  }\n  async sendTransaction(\n    transaction: Transaction,\n    options?: { callbackUrl?: string }\n  ): Promise<Transaction> {\n    throw new Error(\n      notInitializedError(\n        `sendTransaction with transactions: ${transaction} options: ${options}`\n      )\n    );\n  }\n  async signTransaction(\n    transaction: Transaction,\n    options?: { callbackUrl?: string }\n  ): Promise<Transaction> {\n    throw new Error(\n      notInitializedError(\n        `signTransaction with transactions: ${transaction} options: ${options}`\n      )\n    );\n  }\n  async signTransactions(\n    transactions: Transaction[],\n    options?: { callbackUrl?: string }\n  ): Promise<Transaction[]> {\n    throw new Error(\n      notInitializedError(\n        `signTransactions with transactions: ${transactions} options: ${options}`\n      )\n    );\n  }\n  async signMessage(message: SignableMessage): Promise<SignableMessage> {\n    throw new Error(notInitializedError(`signTransactions with ${message}`));\n  }\n}\n\nexport const emptyProvider = new EmptyProvider();\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { ExtraActionsType } from 'types';\nimport { emptyProvider } from 'utils/provider';\n\ntype ExtraActionsSliceState = ExtraActionsType;\n\nconst initialState: ExtraActionsSliceState = {\n  log: () => null,\n  getProvider: () => emptyProvider,\n  init: () => null\n};\n\nexport const extraActionsSlice = createSlice({\n  name: 'extraActionsSlice',\n  initialState,\n  reducers: {\n    initializeExtraActions: (\n      state: ExtraActionsSliceState,\n      action: PayloadAction<ExtraActionsSliceState>\n    ) => {\n      return { ...state, ...action.payload };\n    }\n  }\n});\n\nexport const { initializeExtraActions } = extraActionsSlice.actions;\n\nexport default extraActionsSlice.reducer;\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { NotificationTypesEnum } from 'types';\nimport { logoutAction } from '../commonActions';\n\nexport interface TxSubmittedModal {\n  sessionId: string;\n  submittedMessage: string;\n}\n\nexport interface NotificationModal {\n  type: NotificationTypesEnum;\n  iconClassName: string;\n  title: string;\n  description: string;\n}\n\nexport interface ModalsSliceState {\n  txSubmittedModal?: TxSubmittedModal;\n  notificationModal?: NotificationModal;\n}\n\nconst initialState: ModalsSliceState = {};\n\nexport const modalsSlice = createSlice({\n  name: 'modalsSlice',\n  initialState,\n  reducers: {\n    setTxSubmittedModal: (\n      state: ModalsSliceState,\n      action: PayloadAction<TxSubmittedModal>\n    ) => {\n      state.txSubmittedModal = action.payload;\n    },\n    setNotificationModal: (\n      state: ModalsSliceState,\n      action: PayloadAction<NotificationModal>\n    ) => {\n      state.notificationModal = action.payload;\n    },\n    clearTxSubmittedModal: (state: ModalsSliceState) => {\n      state.txSubmittedModal = undefined;\n    },\n    clearNotificationModal: (state: ModalsSliceState) => {\n      state.notificationModal = undefined;\n    }\n  },\n\n  extraReducers: (builder) => {\n    builder.addCase(logoutAction, () => {\n      return initialState;\n    });\n  }\n});\n\nexport const {\n  setTxSubmittedModal,\n  setNotificationModal,\n  clearTxSubmittedModal,\n  clearNotificationModal\n} = modalsSlice.actions;\n\nexport default modalsSlice.reducer;\n","import {\n  IDappProvider,\n  IProvider,\n  IApiProvider,\n  ProxyProvider,\n  ApiProvider\n} from '@elrondnetwork/erdjs';\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport omit from 'lodash/omit';\nimport {\n  AccountInfoSliceNetworkType,\n  BaseNetworkType,\n  NetworkType\n} from 'types';\nimport { getBridgeAddressFromNetwork } from 'utils/internal';\nimport { emptyProvider } from 'utils/provider';\nimport { logoutAction } from '../commonActions';\n\nexport const defaultNetwork: AccountInfoSliceNetworkType = {\n  id: 'not-configured',\n  name: 'NOT CONFIGURED',\n  egldLabel: '',\n  egldDenomination: '18',\n  decimals: '4',\n  gasPerDataByte: '1500',\n  walletConnectDeepLink: '',\n  walletConnectBridgeAddress: '',\n  walletAddress: '',\n\n  apiAddress: '',\n  explorerAddress: '',\n  apiTimeout: '4000'\n};\n\nexport interface NetworkConfigStateType {\n  provider: IDappProvider;\n  proxy: IProvider;\n  apiProvider: IApiProvider;\n  network: AccountInfoSliceNetworkType;\n  chainID: string;\n}\n\nconst initialState: NetworkConfigStateType = {\n  network: defaultNetwork,\n  proxy: new ProxyProvider(defaultNetwork.apiAddress, {\n    timeout: Number(defaultNetwork.apiTimeout)\n  }),\n  apiProvider: new ApiProvider(defaultNetwork.apiAddress, {\n    timeout: Number(defaultNetwork.apiTimeout)\n  }),\n  provider: emptyProvider,\n  chainID: '-1'\n};\n\nexport const networkConfigSlice = createSlice({\n  name: 'appConfig',\n  initialState: initialState,\n  reducers: {\n    initializeNetworkConfig: (\n      state: NetworkConfigStateType,\n      action: PayloadAction<NetworkType>\n    ) => {\n      const walletConnectBridgeAddress = getBridgeAddressFromNetwork(\n        action.payload.walletConnectBridgeAddresses\n      );\n      const network: BaseNetworkType = omit(\n        action.payload,\n        'walletConnectBridgeAddresses'\n      );\n      const { apiAddress } = network;\n\n      if (apiAddress) {\n        state.proxy = new ProxyProvider(apiAddress, {\n          timeout: Number(network.apiTimeout || defaultNetwork.apiTimeout)\n        });\n        state.apiProvider = new ApiProvider(apiAddress, {\n          timeout: Number(network.apiTimeout || defaultNetwork.apiTimeout)\n        });\n      }\n      state.network = {\n        ...state.network,\n        ...network,\n        walletConnectBridgeAddress\n      };\n    },\n    setChainID: (\n      state: NetworkConfigStateType,\n      action: PayloadAction<string>\n    ) => {\n      state.chainID = action.payload;\n    },\n    setProvider: (\n      state: NetworkConfigStateType,\n      action: PayloadAction<IDappProvider>\n    ) => {\n      state.provider = action.payload;\n    }\n  },\n  extraReducers: (builder) => {\n    builder.addCase(logoutAction, (state) => {\n      state.provider = initialState.provider;\n    });\n  }\n});\n\nexport const { initializeNetworkConfig, setChainID, setProvider } =\n  networkConfigSlice.actions;\n\nexport default networkConfigSlice.reducer;\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { TransactionsDisplayInfoType } from 'types/transactions';\nimport { logoutAction } from '../commonActions';\n\nexport interface StateType {\n  [sessionId: string]: TransactionsDisplayInfoType;\n}\n\nexport interface SetTransactionsInfoPayloadType {\n  sessionId: string;\n  transactionsDisplayInfo: TransactionsDisplayInfoType;\n}\n\nexport const defaultTransactionErrorMessage = 'Transaction failed';\nexport const defaultTransactionSuccessMessage = 'Transaction successful';\nexport const defaultTransactionProcessingMessage = 'Processing transaction';\nexport const defaultTransactionSubmittedMessage = 'Transaction submitted';\n\nconst initialState: StateType = {};\n\nexport const signTransactionsSlice = createSlice({\n  name: 'transactionsInfo',\n  initialState,\n  reducers: {\n    setTransactionsDisplayInfo(\n      state: StateType,\n      action: PayloadAction<SetTransactionsInfoPayloadType>\n    ) {\n      const { sessionId, transactionsDisplayInfo } = action.payload;\n      if (sessionId != null) {\n        state[sessionId] = {\n          errorMessage:\n            transactionsDisplayInfo?.errorMessage ||\n            defaultTransactionErrorMessage,\n          successMessage:\n            transactionsDisplayInfo?.successMessage ||\n            defaultTransactionSuccessMessage,\n          processingMessage:\n            transactionsDisplayInfo?.processingMessage ||\n            defaultTransactionProcessingMessage,\n          submittedMessage:\n            transactionsDisplayInfo?.submittedMessage ||\n            defaultTransactionSubmittedMessage,\n          transactionDuration: transactionsDisplayInfo?.transactionDuration\n        };\n      }\n    },\n    clearTransactionsInfoForSessionId(\n      state: StateType,\n      action: PayloadAction<string | undefined>\n    ) {\n      if (action.payload != null) {\n        delete state[action.payload];\n      }\n    },\n    clearTransactionsInfo: () => initialState\n  },\n  extraReducers: (builder) => {\n    builder.addCase(logoutAction, () => {\n      return initialState;\n    });\n  }\n});\n\nexport const {\n  clearTransactionsInfo,\n  setTransactionsDisplayInfo,\n  clearTransactionsInfoForSessionId\n} = signTransactionsSlice.actions;\n\nexport default signTransactionsSlice.reducer;\n","import { Address, Transaction } from '@elrondnetwork/erdjs';\nimport {\n  TransactionBatchStatusesEnum,\n  TransactionServerStatusesEnum\n} from './enums';\n\nexport interface TransactionsToSignType {\n  transactions: RawTransactionType[];\n  callbackRoute: string;\n  redirectAfterSign: boolean;\n  sessionId: string;\n  sessionInformation?: any;\n}\n\nexport interface SignedTransactionsBodyType {\n  transactions?: SignedTransactionType[];\n  status?: TransactionBatchStatusesEnum;\n  errorMessage?: string;\n  sessionInformation?: any;\n}\n\nexport interface SignedTransactionsType {\n  [sessionId: string]: SignedTransactionsBodyType;\n}\n\nexport interface TransactionParameter {\n  sender: Address;\n  receiver: Address;\n  functionName: string;\n  inputParameters: string[];\n  outputParameters: string[];\n}\n\nexport interface RawTransactionType {\n  signature?: string;\n  value: string;\n  receiver: string;\n  gasPrice: number;\n  gasLimit: number;\n  sender: string;\n  nonce: number;\n  data: string;\n  chainID: string;\n  version?: number;\n  options?: number;\n}\n\nexport interface SignedTransactionType extends RawTransactionType {\n  hash: string;\n  status: TransactionServerStatusesEnum;\n  errorMessage?: string;\n}\n\nexport interface TxDataTokenType {\n  tokenId: string;\n  amount: string;\n  receiver: string;\n  type?: MultiEsdtTxType['type'] | '';\n  nonce?: string;\n  multiTxData?: string;\n}\n\nexport type TxsDataTokensType = Record<string, TxDataTokenType> | undefined;\n\ninterface MultiEsdtType {\n  type:\n    | TransactionTypesEnum.esdtTransaction\n    | TransactionTypesEnum.nftTransaction;\n  receiver: string;\n  token?: string;\n  nonce?: string;\n  amount?: string;\n  data: string;\n}\n\ninterface MultiEsdtScCallType {\n  type: TransactionTypesEnum.scCall;\n  receiver: string;\n  token?: string;\n  nonce?: string;\n  amount?: string;\n  data: string;\n}\n\nexport type MultiEsdtTxType = MultiEsdtType | MultiEsdtScCallType;\n\nexport type MultiSignTxType = {\n  multiTxData?: string;\n  transactionIndex: number;\n  transaction: Transaction;\n};\n\nexport interface TokenOptionType {\n  name: string;\n  identifier: string;\n  balance: string;\n  decimals: number;\n  collection?: string;\n  avatar?: string;\n}\n\nexport interface SimpleTransactionType {\n  value: string;\n  receiver: string;\n  data?: string;\n  gasPrice?: number;\n  gasLimit?: number;\n  chainID?: string;\n  version?: number;\n  options?: number;\n}\n\nexport interface TransactionsDisplayInfoType {\n  errorMessage?: string;\n  successMessage?: string;\n  processingMessage?: string;\n  submittedMessage?: string;\n  transactionDuration?: number;\n}\n\nexport interface SendSimpleTransactionPropsType {\n  transactions: SimpleTransactionType[];\n  minGasLimit?: number;\n}\n\nexport interface SendTransactionsPropsType {\n  transactions:\n    | Transaction\n    | SimpleTransactionType\n    | (Transaction | SimpleTransactionType)[];\n  redirectAfterSign?: boolean;\n  transactionsDisplayInfo: TransactionsDisplayInfoType;\n  minGasLimit?: number;\n  sessionInformation?: any;\n}\n\nexport interface SignTransactionsPropsType {\n  transactions: Transaction[] | Transaction;\n  minGasLimit?: number;\n  redirectAfterSign?: boolean;\n  callbackRoute?: string;\n  transactionsDisplayInfo: TransactionsDisplayInfoType;\n  sessionInformation?: any;\n}\n\nexport enum TransactionTypesEnum {\n  MultiESDTNFTTransfer = 'MultiESDTNFTTransfer',\n  ESDTTransfer = 'ESDTTransfer',\n  ESDTNFTTransfer = 'ESDTNFTTransfer',\n  esdtTransaction = 'esdtTransaction',\n  nftTransaction = 'nftTransaction',\n  scCall = 'scCall'\n}\n\nexport interface ActiveLedgerTransactionType {\n  transaction: Transaction;\n  transactionTokenInfo: TxDataTokenType;\n  isTokenTransaction: boolean;\n  dataField: string;\n}\n\nexport interface SmartContractResult {\n  hash: string;\n  timestamp: number;\n  nonce: number;\n  gasLimit: number;\n  gasPrice: number;\n  value: string;\n  sender: string;\n  receiver: string;\n  data: string;\n  prevTxHash: string;\n  originalTxHash: string;\n  callType: string;\n  miniBlockHash: string;\n  returnMessage: string;\n}\n\nexport interface SignModalPropsType {\n  handleClose: () => void;\n  error: string | null;\n  callbackRoute?: string;\n  transactions: Transaction[];\n  className?: string;\n}\n","import { Address } from '@elrondnetwork/erdjs';\nimport { SmartContractResult, TypesOfSmartContractCallsEnum } from 'types';\n\nconst okInHex = '6f6b';\n\nexport function areScCallsSuccessful(scResults?: SmartContractResult[]) {\n  if (!scResults) {\n    return true;\n  }\n  let success = false;\n  scResults.forEach((result) => {\n    if (result?.data) {\n      const decoded = Buffer.from(result.data, 'base64').toString().split('@');\n      const hasOkPart = Boolean(decoded.find((part) => part === okInHex));\n      if (hasOkPart) {\n        success = true;\n        return;\n      }\n    }\n  });\n  return success;\n}\n\nexport function isContract(receiver: string, data = ''): boolean {\n  try {\n    const extractedAddress = getAddressFromDataField({ receiver, data });\n    if (!extractedAddress) {\n      return false;\n    }\n    return new Address(extractedAddress).isContractAddress();\n  } catch (err) {\n    console.log('err', err);\n    return false;\n  }\n}\n\nexport function getAddressFromDataField({\n  receiver,\n  data\n}: {\n  receiver: string;\n  data: string;\n}) {\n  try {\n    if (!data) {\n      return receiver;\n    }\n    const addressIndex = getAddressIndex(data);\n    const parts = data.split('@');\n    return addressIndex > -1 ? parts[addressIndex] : receiver;\n  } catch (err) {\n    console.log(err);\n    return;\n  }\n}\n\nfunction getAddressIndex(data: string) {\n  return data.includes(TypesOfSmartContractCallsEnum.MultiESDTNFTTransfer)\n    ? 1\n    : data.includes(TypesOfSmartContractCallsEnum.ESDTNFTTransfer)\n    ? 4\n    : -1;\n}\n\nexport default isContract;\n","import {\n  TransactionBatchStatusesEnum,\n  TransactionServerStatusesEnum\n} from 'types/enums';\n\nexport const pendingBatchTransactionsStates = [\n  TransactionBatchStatusesEnum.sent\n];\nexport const successBatchTransactionsStates = [\n  TransactionBatchStatusesEnum.success\n];\n\nexport const failBatchTransactionsStates = [\n  TransactionBatchStatusesEnum.fail,\n  TransactionBatchStatusesEnum.cancelled,\n  TransactionBatchStatusesEnum.timedOut\n];\n\nexport const timedOutBatchTransactionsStates = [\n  TransactionBatchStatusesEnum.timedOut\n];\n\nexport const pendingServerTransactionsStatuses = [\n  TransactionServerStatusesEnum.pending\n];\n\nexport const successServerTransactionsStates = [\n  TransactionServerStatusesEnum.success\n];\n\nexport const completedServerTransactionsStates = [\n  TransactionServerStatusesEnum.completed\n];\n\nexport const failServerTransactionsStates = [\n  TransactionServerStatusesEnum.fail,\n  TransactionServerStatusesEnum.invalid\n];\n\nexport function getIsTransactionCompleted(\n  status?: TransactionServerStatusesEnum | TransactionBatchStatusesEnum\n) {\n  return completedServerTransactionsStates.includes(\n    status as TransactionServerStatusesEnum\n  );\n}\n\nexport function getIsTransactionPending(\n  status?: TransactionServerStatusesEnum | TransactionBatchStatusesEnum,\n  isScCall = false\n) {\n  const isPending =\n    status != null &&\n    (isBatchTransactionPending(status as TransactionBatchStatusesEnum) ||\n      isServerTransactionPending(status as TransactionServerStatusesEnum));\n  return isScCall\n    ? isPending ||\n        (getIsTransactionSuccessful(status) &&\n          !getIsTransactionCompleted(status))\n    : isPending;\n}\n\nexport function getIsTransactionSuccessful(\n  status?: TransactionServerStatusesEnum | TransactionBatchStatusesEnum\n) {\n  return (\n    status != null &&\n    (isBatchTransactionSuccessful(status as TransactionBatchStatusesEnum) ||\n      isServerTransactionSuccessful(status as TransactionServerStatusesEnum))\n  );\n}\n\nexport function getIsTransactionFailed(\n  status?: TransactionServerStatusesEnum | TransactionBatchStatusesEnum\n) {\n  return (\n    status != null &&\n    (isBatchTransactionFailed(status as TransactionBatchStatusesEnum) ||\n      isServerTransactionFailed(status as TransactionServerStatusesEnum))\n  );\n}\n\nexport function getIsTransactionTimedOut(\n  status?: TransactionServerStatusesEnum | TransactionBatchStatusesEnum\n) {\n  return (\n    status != null &&\n    isBatchTransactionTimedOut(status as TransactionBatchStatusesEnum)\n  );\n}\n\nexport function isBatchTransactionPending(\n  status?: TransactionBatchStatusesEnum\n) {\n  return status != null && pendingBatchTransactionsStates.includes(status);\n}\n\nexport function isBatchTransactionSuccessful(\n  status: TransactionBatchStatusesEnum\n) {\n  return status != null && successBatchTransactionsStates.includes(status);\n}\n\nexport function isBatchTransactionFailed(status: TransactionBatchStatusesEnum) {\n  return status != null && failBatchTransactionsStates.includes(status);\n}\n\nexport function isBatchTransactionTimedOut(\n  status?: TransactionBatchStatusesEnum\n) {\n  return status != null && timedOutBatchTransactionsStates.includes(status);\n}\n\nexport function isServerTransactionPending(\n  status?: TransactionServerStatusesEnum\n) {\n  return status != null && pendingServerTransactionsStatuses.includes(status);\n}\nexport function isServerTransactionSuccessful(\n  status: TransactionServerStatusesEnum\n) {\n  return status != null && successServerTransactionsStates.includes(status);\n}\n\nexport function isServerTransactionFailed(\n  status: TransactionServerStatusesEnum\n) {\n  return status != null && failServerTransactionsStates.includes(status);\n}\n","const base64Regex =\n  /(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)/;\n\nexport function isStringBase64(string: string) {\n  return base64Regex.test(string);\n}\n\nexport function encodeToBase64(string: string) {\n  return btoa(string);\n}\n\nexport function decodeBase64(string: string) {\n  return atob(string);\n}\n","const isUtf8 = (str: string) => {\n  for (let i = 0; i < str.length; i++) {\n    if (str.charCodeAt(i) > 127) return false;\n  }\n  return true;\n};\n\nexport function decodePart(part: string) {\n  let decodedPart = part;\n\n  try {\n    const hexPart = Buffer.from(part, 'hex').toString().trim();\n\n    if (isUtf8(hexPart) && hexPart.length > 1) {\n      decodedPart = hexPart;\n    }\n  } catch (error) {}\n\n  return decodedPart;\n}\n\nexport default decodePart;\n","export const getAllStringOccurrences = (sourceStr: string, searchStr: string) =>\n  [...sourceStr.matchAll(new RegExp(searchStr, 'gi'))].map((a) => a.index);\n","import BigNumber from 'bignumber.js';\nimport { MultiEsdtTxType, TransactionTypesEnum } from 'types/transactions';\nimport { decodePart } from 'utils/decoders';\nimport { getAllStringOccurrences } from '../getAllStringOccurrences';\n\n// TODO: add tests\nexport function parseMultiEsdtTransferData(data?: string) {\n  const transactions: MultiEsdtTxType[] = [];\n  let contractCallDataIndex = 0;\n  try {\n    if (\n      data?.startsWith(TransactionTypesEnum.MultiESDTNFTTransfer) &&\n      data?.includes('@')\n    ) {\n      const [, receiver, encodedTxCount, ...rest] = data?.split('@');\n      if (receiver) {\n        const txCount = new BigNumber(encodedTxCount, 16).toNumber();\n\n        let itemIndex = 0;\n        for (let txIndex = 0; txIndex < txCount; txIndex++) {\n          const transaction: MultiEsdtTxType = {\n            type: TransactionTypesEnum.nftTransaction,\n            data: '',\n            receiver\n          };\n\n          for (let index = 0; index < 3; index++) {\n            switch (index) {\n              case 0:\n                transaction.token = decodePart(rest[itemIndex]);\n                transaction.data = rest[itemIndex];\n                break;\n              case 1: {\n                const encodedNonce =\n                  rest[itemIndex] && rest[itemIndex].length\n                    ? rest[itemIndex]\n                    : '';\n                if (encodedNonce) {\n                  transaction.nonce = encodedNonce;\n                } else {\n                  transaction.type = TransactionTypesEnum.esdtTransaction;\n                }\n                transaction.data = `${transaction.data}@${rest[itemIndex]}`;\n                break;\n              }\n              case 2:\n                transaction.amount = new BigNumber(\n                  rest[itemIndex],\n                  16\n                ).toString(10);\n                transaction.data = `${transaction.data}@${rest[itemIndex]}`;\n                break;\n              default:\n                break;\n            }\n            contractCallDataIndex = itemIndex + 1;\n            itemIndex++;\n          }\n          transactions[txIndex] = transaction;\n        }\n        if (\n          transactions.length !== txCount ||\n          transactions.some(\n            (tx) => getAllStringOccurrences(tx.data, '@').length !== 2\n          ) ||\n          transactions.some((tx) => tx.data.startsWith('@'))\n        ) {\n          return [];\n        }\n        if (rest[contractCallDataIndex]) {\n          let scCallData = rest[contractCallDataIndex];\n          for (let i = contractCallDataIndex + 1; i < rest.length; i++) {\n            scCallData += '@' + rest[i];\n          }\n          transactions[txCount] = {\n            type: TransactionTypesEnum.scCall,\n            data: scCallData,\n            receiver\n          };\n        }\n      }\n    }\n  } catch (err) {\n    return transactions;\n  }\n  return transactions;\n}\n\nexport default parseMultiEsdtTransferData;\n","import BigNumber from 'bignumber.js';\nimport { TransactionTypesEnum } from '../../types/transactions';\n\nconst noData = {\n  tokenId: '',\n  amount: ''\n};\n\n// TODO: add tests\nexport function getTokenFromData(data?: string): {\n  tokenId: string;\n  amount: string;\n} {\n  const tokenTransfer = data?.includes(TransactionTypesEnum.ESDTTransfer);\n  const nftTransfer = data?.includes(TransactionTypesEnum.ESDTNFTTransfer);\n\n  if (data != null && (tokenTransfer || nftTransfer)) {\n    try {\n      const encodedToken = data.split('@')[1];\n      const encodedAmount = data.split('@')[tokenTransfer ? 2 : 3];\n      const tokenId = Buffer.from(encodedToken, 'hex').toString('ascii');\n\n      if (tokenId) {\n        const amount = new BigNumber(\n          '0x' + encodedAmount.replace('0x', '')\n        ).toString(10);\n        return {\n          tokenId,\n          amount\n        };\n      } else {\n        return noData;\n      }\n    } catch (e) {\n      return noData;\n    }\n  }\n  return noData;\n}\nexport default getTokenFromData;\n","export function isTokenTransfer({\n  tokenId,\n  erdLabel\n}: {\n  tokenId: string | undefined;\n  erdLabel: string;\n}) {\n  return Boolean(tokenId && tokenId !== erdLabel);\n}\n\nexport default isTokenTransfer;\n","function buildUrlParams(\n  search: string,\n  urlParams: {\n    [key: string]: string;\n  }\n) {\n  const urlSearchParams = new URLSearchParams(search);\n  const params = Object.fromEntries(urlSearchParams as any);\n\n  const nextUrlParams = new URLSearchParams({\n    ...params,\n    ...urlParams\n  }).toString();\n\n  return { nextUrlParams, params };\n}\n\ninterface ReplyUrlType {\n  callbackUrl: string;\n  urlParams?: { [key: string]: string };\n}\n\nexport function buildReplyUrl({ callbackUrl, urlParams = {} }: ReplyUrlType) {\n  let url = callbackUrl;\n  if (Object.entries(urlParams).length > 0) {\n    const { search, origin, pathname } = new URL(callbackUrl);\n    const { nextUrlParams } = buildUrlParams(search, urlParams);\n    url = `${origin}${pathname}?${nextUrlParams}`;\n  }\n  return url;\n}\n\nexport default buildReplyUrl;\n","import {\n  Transaction,\n  TransactionOptions,\n  TransactionVersion\n} from '@elrondnetwork/erdjs';\nimport { TransactionServerStatusesEnum } from 'types/enums';\n\nexport function parseTransactionAfterSigning(\n  transaction: Transaction,\n  isLedger = false\n) {\n  // TODO: REMOVE\n  //#region REMOVE when options is available in erdjs getTransactionsFromWalletUrl\n  if (isLedger) {\n    transaction.version = TransactionVersion.withTxHashSignVersion();\n    transaction.options = TransactionOptions.withTxHashSignOptions();\n  }\n  //#endregion\n  const parsedTransaction = transaction.toPlainObject();\n  parsedTransaction.hash = transaction.getHash().toString();\n  parsedTransaction.status = TransactionServerStatusesEnum.pending;\n  return parsedTransaction;\n}\n\nexport default parseTransactionAfterSigning;\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { REHYDRATE } from 'redux-persist';\nimport {\n  TransactionBatchStatusesEnum,\n  TransactionServerStatusesEnum\n} from 'types/enums';\nimport {\n  SignedTransactionsType,\n  SignedTransactionType,\n  TransactionsToSignType\n} from 'types/transactions';\nimport { isContract } from 'utils/smartContracts';\nimport {\n  getIsTransactionFailed,\n  getIsTransactionSuccessful,\n  getIsTransactionCompleted\n} from 'utils/transactions';\nimport { logoutAction } from '../commonActions';\n\nexport interface UpdateSignedTransactionsPayloadType {\n  sessionId: string;\n  status: TransactionBatchStatusesEnum;\n  errorMessage?: string;\n  transactions?: SignedTransactionType[];\n}\n\nexport interface UpdateSignedTransactionStatusPayloadType {\n  sessionId: string;\n  transactionHash: string;\n  status: TransactionServerStatusesEnum;\n  errorMessage?: string;\n}\n\nexport interface TransactionsSliceStateType {\n  signedTransactions: SignedTransactionsType;\n  transactionsToSign: TransactionsToSignType | null;\n  signTransactionsError: string | null;\n}\n\nconst initialState: TransactionsSliceStateType = {\n  signedTransactions: {},\n  transactionsToSign: null,\n  signTransactionsError: null\n};\n\nexport const transactionsSlice = createSlice({\n  name: 'transactionsSlice',\n  initialState,\n  reducers: {\n    updateSignedTransaction: (\n      state: TransactionsSliceStateType,\n      action: PayloadAction<SignedTransactionsType>\n    ) => {\n      state.signedTransactions = {\n        ...state.signedTransactions,\n        ...action.payload\n      };\n    },\n    updateSignedTransactions: (\n      state: TransactionsSliceStateType,\n      action: PayloadAction<UpdateSignedTransactionsPayloadType>\n    ) => {\n      const { sessionId, status, errorMessage, transactions } = action.payload;\n      const transaction = state.signedTransactions[sessionId];\n      if (transaction != null) {\n        state.signedTransactions[sessionId].status = status;\n        if (errorMessage != null) {\n          state.signedTransactions[sessionId].errorMessage = errorMessage;\n        }\n        if (transactions != null) {\n          state.signedTransactions[sessionId].transactions = transactions;\n        }\n      }\n    },\n    updateSignedTransactionStatus: (\n      state: TransactionsSliceStateType,\n      action: PayloadAction<UpdateSignedTransactionStatusPayloadType>\n    ) => {\n      const { sessionId, status, errorMessage, transactionHash } =\n        action.payload;\n      const transactions = state.signedTransactions?.[sessionId]?.transactions;\n      if (transactions != null) {\n        state.signedTransactions[sessionId].transactions = transactions.map(\n          (transaction) => {\n            if (transaction.hash === transactionHash) {\n              return {\n                ...transaction,\n                status,\n                errorMessage\n              };\n            }\n            return transaction;\n          }\n        );\n        const areTransactionsSuccessful = state.signedTransactions[\n          sessionId\n        ]?.transactions?.every((transaction) => {\n          const isScCall = isContract(transaction.receiver, transaction.data);\n          return isScCall\n            ? getIsTransactionCompleted(transaction.status)\n            : getIsTransactionSuccessful(transaction.status);\n        });\n\n        const areTransactionsFailed = state.signedTransactions[\n          sessionId\n        ]?.transactions?.every((transaction) =>\n          getIsTransactionFailed(transaction.status)\n        );\n        if (areTransactionsSuccessful) {\n          state.signedTransactions[sessionId].status =\n            TransactionBatchStatusesEnum.success;\n        }\n        if (areTransactionsFailed) {\n          state.signedTransactions[sessionId].status =\n            TransactionBatchStatusesEnum.fail;\n        }\n      }\n    },\n    setTransactionsToSign: (\n      state: TransactionsSliceStateType,\n      action: PayloadAction<TransactionsToSignType>\n    ) => {\n      state.transactionsToSign = action.payload;\n      state.signTransactionsError = null;\n    },\n    clearSignTransactions: (state) => {\n      state.transactionsToSign = initialState.transactionsToSign;\n      state.signTransactionsError = null;\n    },\n    setSignTransactionsError: (state, action: PayloadAction<string | null>) => {\n      state.signTransactionsError = action.payload;\n    }\n  },\n  extraReducers: (builder) => {\n    builder.addCase(logoutAction, () => {\n      return initialState;\n    });\n    builder.addCase(REHYDRATE, (state, action: any) => {\n      if (!action.payload?.transactions) {\n        return;\n      }\n\n      const { signedTransactions } = action.payload.transactions;\n      const parsedSignedTransactions = Object.entries(\n        signedTransactions\n      ).reduce((acc, [sessionId, transaction]) => {\n        const txTimestamp: any = new Date(sessionId);\n        const expiration: any = new Date();\n        expiration.setHours(expiration.getHours() + 5);\n        const isExpired = expiration - txTimestamp > 0;\n        if (!isExpired) {\n          acc[sessionId] = transaction;\n        }\n        return acc;\n      }, {});\n      if (signedTransactions != null) {\n        state.signedTransactions = parsedSignedTransactions;\n      }\n    });\n  }\n});\n\nexport const {\n  updateSignedTransaction,\n  updateSignedTransactionStatus,\n  updateSignedTransactions,\n  setTransactionsToSign,\n  clearSignTransactions,\n  setSignTransactionsError\n} = transactionsSlice.actions;\n\nexport default transactionsSlice.reducer;\n","import { combineReducers } from '@reduxjs/toolkit';\nimport { persistReducer } from 'redux-persist';\nimport sessionStorage from 'redux-persist/lib/storage/session';\nimport account from './slices/accountInfoSlice';\nimport extraActions from './slices/extraActionsSlice';\nimport loginInfo from './slices/loginInfoSlice';\nimport modals from './slices/modalsSlice';\nimport networkConfig from './slices/networkConfigSlice';\nimport transactionsInfo from './slices/transactionsInfoSlice';\nimport transactions from './slices/transactionsSlice';\n\n//#region custom reducers\nconst transactionsInfoPersistConfig = {\n  key: 'dapp-core-transactionsInfo',\n  version: 1,\n  storage: sessionStorage\n};\nconst transactionsReducer = {\n  key: 'dapp-core-transactions',\n  version: 1,\n  storage: sessionStorage,\n  blacklist: ['transactionsToSign']\n};\nconst customReducers = {\n  transactions: persistReducer(transactionsReducer, transactions),\n  transactionsInfo: persistReducer(\n    transactionsInfoPersistConfig,\n    transactionsInfo\n  )\n};\n//#endregion\n\nconst rootReducer = combineReducers({\n  ...customReducers,\n  account,\n  networkConfig,\n  extraActions,\n  loginInfo,\n  modals\n});\n\nexport default rootReducer;\n","import { configureStore } from '@reduxjs/toolkit';\n\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER\n} from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\n\nimport loginSessionMiddleware from './middlewares/loginSessionMiddleware';\nimport rootReducer from './reducers';\n\nconst persistConfig = {\n  key: 'dapp-core-store',\n  version: 1,\n  storage,\n  whitelist: ['account', 'loginInfo', 'toasts', 'modals']\n};\n\nconst localStorageReducers = persistReducer(persistConfig, rootReducer);\n\nexport const store = configureStore({\n  reducer: localStorageReducers,\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware({\n      serializableCheck: {\n        ignoredActions: [\n          FLUSH,\n          REHYDRATE,\n          PAUSE,\n          PERSIST,\n          PURGE,\n          REGISTER,\n          'appConfig/setProvider',\n          'accountInfoSlice/setAccount',\n          'accountInfoSlice/setAccountNonce',\n          'extraActionsSlice/initializeExtraActions'\n        ],\n        ignoredPaths: [\n          'networkConfig.proxy',\n          'networkConfig.apiProvider',\n          'networkConfig.provider',\n          'payload.nonce',\n          'account.account.nonce',\n          // extra actions\n          'extraActions.log',\n          'payload.log',\n          'payload.onLogin',\n\n          'extraActions.getProvider',\n          'extraActions.init'\n        ]\n      }\n    }).concat(loginSessionMiddleware)\n});\n\nexport const persistor = persistStore(store);\n\n// Infer the `RootState` and `AppDispatch` types from the store itself\nexport type StoreType = typeof store;\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\n","import { createSelector } from 'reselect';\nimport { RootState } from '../store';\n\nexport const extraActionsSelector = (state: RootState) => state.extraActions;\n\nexport const extraActionsInit = createSelector(\n  extraActionsSelector,\n  (state) => state.init\n);\n","import {\n  Transaction,\n  GasLimit,\n  GasPrice,\n  Address,\n  TransactionPayload,\n  Balance,\n  ChainID,\n  TransactionVersion\n} from '@elrondnetwork/erdjs';\nimport { Nonce, TransactionOptions } from '@elrondnetwork/erdjs/out';\nimport { RawTransactionType } from 'types/transactions';\n\nexport default function newTransaction(rawTransaction: RawTransactionType) {\n  const { data } = rawTransaction;\n  const parsedData = data ? atob(data) : '';\n  return new Transaction({\n    value: Balance.fromString(rawTransaction.value),\n    data: new TransactionPayload(parsedData),\n    nonce: new Nonce(rawTransaction.nonce),\n    receiver: new Address(rawTransaction.receiver),\n    gasLimit: new GasLimit(rawTransaction.gasLimit),\n    gasPrice: new GasPrice(rawTransaction.gasPrice),\n    chainID: new ChainID(rawTransaction.chainID),\n    ...(rawTransaction.version\n      ? { version: new TransactionVersion(rawTransaction.version) }\n      : {}),\n    ...(rawTransaction.options\n      ? { options: new TransactionOptions(rawTransaction.options) }\n      : {})\n  });\n}\n","import { Transaction } from '@elrondnetwork/erdjs/out';\nimport newTransaction from 'models/newTransaction';\nimport { SignedTransactionsType } from 'types/transactions';\nimport {\n  getIsTransactionCompleted,\n  getIsTransactionFailed,\n  getIsTransactionPending,\n  getIsTransactionSuccessful,\n  getIsTransactionTimedOut\n} from 'utils/transactions';\nimport { RootState } from '../store';\nimport { createDeepEqualSelector } from './helpers';\n\nexport interface TransactionsToSignReturnType {\n  callbackRoute: string;\n  sessionId: string;\n  redirectAfterSign: boolean;\n  transactions: Transaction[];\n  sessionInformation?: any;\n}\n\nexport const transactionsSelectors = (state: RootState) => state.transactions;\n\nexport const signedTransactionsSelector = createDeepEqualSelector(\n  transactionsSelectors,\n  (state) => state.signedTransactions\n);\n\nexport const signTransactionsErrorSelector = createDeepEqualSelector(\n  transactionsSelectors,\n  (state) => state.signTransactionsError\n);\n\nexport const pendingSignedTransactionsSelector = createDeepEqualSelector(\n  signedTransactionsSelector,\n  (signedTransactions) =>\n    Object.entries(signedTransactions).reduce((acc, [sessionId, txBody]) => {\n      if (getIsTransactionPending(txBody.status)) {\n        acc[sessionId] = txBody;\n      }\n      return acc;\n    }, {})\n);\n\nexport const successfulTransactionsSelector = createDeepEqualSelector(\n  signedTransactionsSelector,\n  (signedTransactions) =>\n    Object.entries(signedTransactions).reduce((acc, [sessionId, txBody]) => {\n      if (getIsTransactionSuccessful(txBody.status)) {\n        acc[sessionId] = txBody;\n      }\n      return acc;\n    }, {})\n);\n\nexport const completedTransactionsSelector = createDeepEqualSelector(\n  signedTransactionsSelector,\n  (signedTransactions) =>\n    Object.entries(signedTransactions).reduce((acc, [sessionId, txBody]) => {\n      if (getIsTransactionCompleted(txBody.status)) {\n        acc[sessionId] = txBody;\n      }\n      return acc;\n    }, {})\n);\n\nexport const failedTransactionsSelector = createDeepEqualSelector(\n  signedTransactionsSelector,\n  (signedTransactions) =>\n    Object.entries(signedTransactions).reduce((acc, [sessionId, txBody]) => {\n      if (getIsTransactionFailed(txBody.status)) {\n        acc[sessionId] = txBody;\n      }\n      return acc;\n    }, {})\n);\n\nexport const timedOutTransactionsSelector = createDeepEqualSelector(\n  signedTransactionsSelector,\n  (signedTransactions) =>\n    Object.entries(signedTransactions).reduce((acc, [sessionId, txBody]) => {\n      if (getIsTransactionTimedOut(txBody.status)) {\n        acc[sessionId] = txBody;\n      }\n      return acc;\n    }, {})\n);\n\nexport const transactionsToSignSelector = createDeepEqualSelector(\n  transactionsSelectors,\n  (state): TransactionsToSignReturnType | null => {\n    if (state?.transactionsToSign == null) {\n      return null;\n    }\n    return {\n      ...state.transactionsToSign,\n      transactions:\n        state?.transactionsToSign?.transactions.map((tx) =>\n          newTransaction(tx)\n        ) || []\n    };\n  }\n);\n\nexport const transactionStatusSelector = createDeepEqualSelector(\n  signedTransactionsSelector,\n  (_: RootState, transactionSessionId: string | null) => transactionSessionId,\n  (\n    signedTransactions: SignedTransactionsType,\n    transactionSessionId: string | null\n  ) =>\n    transactionSessionId != null\n      ? signedTransactions?.[transactionSessionId] || {}\n      : {}\n);\n","import { createDeepEqualSelector } from 'redux/selectors/helpers';\nimport {\n  defaultTransactionErrorMessage,\n  defaultTransactionProcessingMessage,\n  defaultTransactionSuccessMessage\n} from 'redux/slices';\nimport { RootState } from '../store';\n\nconst defaultTransactionInfo = {\n  errorMessage: defaultTransactionErrorMessage,\n  successMessage: defaultTransactionSuccessMessage,\n  processingMessage: defaultTransactionProcessingMessage\n};\n\nexport const transactionsInfoSelectors = (state: RootState) =>\n  state.transactionsInfo;\n\nexport const transactionDisplayInfoSelector = createDeepEqualSelector(\n  transactionsInfoSelectors,\n  (_: RootState, transactionSessionId: string | null) => transactionSessionId,\n  (transactionsDisplayInfo: any, transactionSessionId: string | null) =>\n    transactionSessionId != null\n      ? transactionsDisplayInfo?.[Number(transactionSessionId)] ||\n        defaultTransactionInfo\n      : defaultTransactionInfo\n);\n","import { RootState } from '../store';\nimport { createDeepEqualSelector } from './helpers';\n\nexport const modalsSliceSelector = (state: RootState) => state.modals;\n\nexport const txSubmittedModalSelector = createDeepEqualSelector(\n  modalsSliceSelector,\n  (state) => state.txSubmittedModal\n);\n\nexport const notificationModalSelector = createDeepEqualSelector(\n  modalsSliceSelector,\n  (state) => state.notificationModal\n);\n","import { isLoggedInSelector } from 'redux/selectors';\nimport { store } from 'redux/store';\n\nexport function getIsLoggedIn() {\n  return isLoggedInSelector(store.getState());\n}\n","import { logoutAction } from 'redux/commonActions';\nimport { providerSelector } from 'redux/selectors/networkConfigSelectors';\nimport { store } from 'redux/store';\nimport { getIsLoggedIn } from 'utils/getIsLoggedIn';\n\nexport async function logout(\n  callbackUrl?: string,\n  onRedirect?: (callbackUrl?: string) => void\n) {\n  const provider = providerSelector(store.getState());\n  const isLoggedIn = getIsLoggedIn();\n  if (!isLoggedIn) {\n    return;\n  }\n  store.dispatch(logoutAction());\n  try {\n    await provider.logout({ callbackUrl });\n    if (callbackUrl) {\n      if (onRedirect) {\n        onRedirect(callbackUrl);\n      } else {\n        window.location.href = callbackUrl;\n      }\n    }\n  } catch (err) {\n    console.error('error logging out', err);\n  }\n}\n","export function buildUrlParams(\n  search: string,\n  urlParams: {\n    [key: string]: string;\n  }\n) {\n  const urlSearchParams: any = new URLSearchParams(search);\n  const params = Object.fromEntries(urlSearchParams);\n  const nextUrlParams = new URLSearchParams({\n    ...params,\n    ...urlParams\n  }).toString();\n  return { nextUrlParams, params };\n}\n","interface SwitchTrueType {\n  default: any;\n  [key: string]: any;\n}\n\ntype ReturnKeys = 'true' | 'false';\n\nexport function switchTrue(object: SwitchTrueType) {\n  const { default: defaultValue, ...rest } = object;\n  const obj = { default: defaultValue, ...rest };\n  const result = Object.keys(obj).reduce((acc, cur) => {\n    return {\n      ...acc,\n      [cur === 'default' ? 'true' : cur]: (obj as any)[cur as ReturnKeys]\n    };\n  }, {} as Record<ReturnKeys, any>);\n  return result['true'];\n}\n","import { Address } from '@elrondnetwork/erdjs';\n\nfunction canTransformToPublicKey(address: string) {\n  try {\n    const checkAddress = new Address(address);\n    return Boolean(checkAddress.bech32());\n  } catch {\n    return false;\n  }\n}\n\nexport function addressIsValid(destinationAddress: string) {\n  const isValidBach =\n    destinationAddress?.startsWith('erd') &&\n    destinationAddress.length === 62 &&\n    /^\\w+$/.test(destinationAddress);\n\n  return isValidBach && canTransformToPublicKey(destinationAddress);\n}\n","import { proxySelector } from 'redux/selectors';\nimport { store } from 'redux/store';\n\nexport function getNetworkProxy() {\n  return proxySelector(store.getState());\n}\n","import { apiProviderSelector } from 'redux/selectors';\nimport { store } from 'redux/store';\n\nexport function getApiProvider() {\n  return apiProviderSelector(store.getState());\n}\n","import { providerSelector } from 'redux/selectors';\nimport { store } from 'redux/store';\n\nexport function getAccountProvider() {\n  return providerSelector(store.getState());\n}\n","import { getProviderType } from 'utils/provider';\nimport { getAccountProvider } from './getAccountProvider';\n\nexport function getAccountProviderType() {\n  const provider = getAccountProvider();\n  return getProviderType(provider);\n}\n","import { chainIDSelector } from 'redux/selectors';\nimport { store } from 'redux/store';\n\nexport function getChainID() {\n  return chainIDSelector(store.getState());\n}\n","import { networkSelector } from 'redux/selectors';\nimport { store } from 'redux/store';\n\nexport function getNetworkConfig() {\n  return networkSelector(store.getState());\n}\n","import { egldLabelSelector } from 'redux/selectors';\nimport { store } from 'redux/store';\n\nexport function getEgldLabel() {\n  return egldLabelSelector(store.getState());\n}\n","import { getAccountProviderType } from './getAccountProviderType';\n\nexport function getIsProviderEqualTo(comparedProviderType: any) {\n  const providerType = getAccountProviderType();\n  return providerType === comparedProviderType;\n}\n","import {\n  addressSelector,\n  isLoggedInSelector,\n  providerSelector,\n  walletLoginSelector\n} from 'redux/selectors';\nimport { store } from 'redux/store';\nimport { LoginMethodsEnum } from 'types/enums';\nimport { getIsProviderEqualTo } from 'utils/network';\nimport { addressIsValid } from './addressIsValid';\n\nexport function getAddress(): Promise<string> {\n  const { search } = window.location;\n  const appState = store.getState();\n  const provider = providerSelector(appState);\n  const address = addressSelector(appState);\n  const loggedIn = isLoggedInSelector(appState);\n  const walletLogin = walletLoginSelector(appState);\n\n  if (getIsProviderEqualTo(LoginMethodsEnum.ledger) && loggedIn) {\n    return new Promise((resolve) => {\n      resolve(address);\n    });\n  }\n\n  return !getIsProviderEqualTo(LoginMethodsEnum.none) &&\n    !getIsProviderEqualTo(LoginMethodsEnum.wallet) &&\n    !getIsProviderEqualTo(LoginMethodsEnum.extra)\n    ? // TODO: does not take into account ledger locked see link for details:\n      // https://github.com/ElrondNetwork/dapp/blob/d5c57695a10055f20d387ba064b6843606789ee9/src/helpers/accountMethods.tsx#L21\n      provider.getAddress()\n    : new Promise((resolve) => {\n        if (walletLogin != null) {\n          const urlSearchParams = new URLSearchParams(search);\n          const params = Object.fromEntries(urlSearchParams as any);\n          if (addressIsValid(params.address)) {\n            resolve(params.address);\n          }\n        }\n        if (loggedIn) {\n          resolve(address);\n        }\n        resolve('');\n      });\n}\n\nexport default getAddress;\n","import { Address } from '@elrondnetwork/erdjs';\nimport { proxySelector } from 'redux/selectors';\nimport { store } from 'redux/store';\n\nexport function getAccount(address: string) {\n  const proxy = proxySelector(store.getState());\n  return proxy.getAccount(new Address(address));\n}\n\nexport default getAccount;\n","import { setAccountNonce } from 'redux/slices';\nimport { store } from 'redux/store';\n\n// this is is needed to allow the users to set the nonce dynamically from outside the library\n// without getting access to store.dispatch function\nexport function setNonce(nonce: number) {\n  store.dispatch(setAccountNonce(nonce));\n}\n","import { AccountOnNetwork } from '@elrondnetwork/erdjs';\nimport { accountNonceSelector } from 'redux/selectors';\nimport { store } from 'redux/store';\n\nexport function getLatestNonce(account: AccountOnNetwork) {\n  const appState = store.getState();\n  const currentAccountNonce = accountNonceSelector(appState);\n  return currentAccountNonce && !isNaN(currentAccountNonce)\n    ? Math.max(currentAccountNonce, account.nonce.valueOf())\n    : account.nonce.valueOf();\n}\n\nexport default getLatestNonce;\n","import { accountSelector } from 'redux/selectors';\nimport { store } from 'redux/store';\nimport { getAccount } from './getAccount';\n\nexport async function getAccountBalance(address?: string) {\n  let accountAddress = address;\n  if (accountAddress == null) {\n    const account = accountSelector(store.getState());\n    accountAddress = account.address;\n  }\n  const account = await getAccount(accountAddress);\n  return account.balance.toString();\n}\n","import { providerSelector } from 'redux/selectors';\nimport { setAccount } from 'redux/slices';\nimport { store } from 'redux/store';\nimport getAccount from './getAccount';\nimport getAddress from './getAddress';\nimport getLatestNonce from './getLatestNonce';\n\nconst setNewAccount = async () => {\n  try {\n    const address = await getAddress();\n    try {\n      const account = await getAccount(address);\n      const accountData = {\n        balance: account.balance.toString(),\n        address,\n        nonce: getLatestNonce(account)\n      };\n      store.dispatch(setAccount(accountData));\n      return accountData;\n    } catch (e) {\n      console.error('Failed getting account ', e);\n    }\n  } catch (e) {\n    console.error('Failed getting address ', e);\n  }\n  return null;\n};\n\nexport async function refreshAccount() {\n  const provider = providerSelector(store.getState());\n  if (provider.isInitialized()) {\n    return setNewAccount();\n  } else {\n    try {\n      const initialized = await provider.init();\n      if (!initialized) {\n        return;\n      }\n      return setNewAccount();\n    } catch (e) {\n      console.error('Failed initializing provider ', e);\n    }\n  }\n  return undefined;\n}\n","const isAddressOfMetachain = (pubKey: Buffer) => {\n  // prettier-ignore\n  const metachainPrefix = Buffer.from([\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0\n  ]);\n  const pubKeyPrefix = pubKey.slice(0, metachainPrefix.length);\n  if (pubKeyPrefix.equals(metachainPrefix)) {\n    return true;\n  }\n  const zeroAddress = Buffer.alloc(32).fill(0);\n  return pubKey.equals(zeroAddress);\n};\nexport const getShardOfAddress = (hexPubKey: any) => {\n  try {\n    const numShards = 3;\n    const maskHigh = parseInt('11', 2);\n    const maskLow = parseInt('01', 2);\n    const pubKey = Buffer.from(hexPubKey, 'hex');\n    const lastByteOfPubKey = pubKey[31];\n    if (isAddressOfMetachain(pubKey)) {\n      return 4294967295;\n    }\n    let shard = lastByteOfPubKey & maskHigh;\n    if (shard > numShards - 1) {\n      shard = lastByteOfPubKey & maskLow;\n    }\n    return shard;\n  } catch (err) {\n    return -1;\n  }\n};\n","export const logarithmicRest = (position: number) => {\n  const minp = 0;\n  const maxp = 10;\n\n  const minv = Math.log(0.005);\n  const maxv = Math.log(2);\n\n  const scale = (maxv - minv) / (maxp - minp);\n\n  return Math.exp(minv + scale * (position - minp));\n};\n","const ledgerErrorCodes = {\n  0x9000: {\n    code: 'codeSuccess',\n    message: 'Success'\n  },\n  0x6985: {\n    code: 'ERR_USER_DENIED',\n    message: 'Rejected by user'\n  },\n  0x6d00: {\n    code: 'ERR_UNKNOWN_INSTRUCTION',\n    message: 'Unknown instruction'\n  },\n  0x6e00: {\n    code: 'ERR_WRONG_CLA',\n    message: 'Wrong CLA'\n  },\n  0x6e01: {\n    code: 'ERR_INVALID_ARGUMENTS',\n    message: 'Invalid arguments'\n  },\n  0x6e02: {\n    code: 'ERR_INVALID_MESSAGE',\n    message: 'Invalid message'\n  },\n  0x6e03: {\n    code: 'ERR_INVALID_P1',\n    message: 'Invalid P1'\n  },\n  0x6e04: {\n    code: 'ERR_MESSAGE_TOO_LONG',\n    message: 'Message too long'\n  },\n  0x6e05: {\n    code: 'ERR_RECEIVER_TOO_LONG',\n    message: 'Receiver too long'\n  },\n  0x6e06: {\n    code: 'ERR_AMOUNT_TOO_LONG',\n    message: 'Amount too long'\n  },\n  0x6e07: {\n    code: 'ERR_CONTRACT_DATA_DISABLED',\n    message: 'Contract data disabled in app options'\n  },\n  0x6e08: {\n    code: 'ERR_MESSAGE_INCOMPLETE',\n    message: 'Message incomplete'\n  },\n  0x6e10: {\n    code: 'ERR_SIGNATURE_FAILED',\n    message: 'Signature failed'\n  },\n  0x6e09: {\n    code: 'ERR_WRONG_TX_VERSION',\n    message: 'Wrong TX version'\n  },\n  0x6e0a: {\n    code: 'ERR_NONCE_TOO_LONG',\n    message: 'Nonce too long'\n  },\n  0x6e0b: {\n    code: 'ERR_INVALID_AMOUNT',\n    message: 'Invalid amount'\n  },\n  0x6e0c: {\n    code: 'ERR_INVALID_FEE',\n    message: 'Invalid fee'\n  },\n  0x6e0d: {\n    code: 'ERR_PRETTY_FAILED',\n    message: 'Pretty failed'\n  },\n  0x6e0e: {\n    code: 'ERR_DATA_TOO_LONG',\n    message: 'Data too long'\n  },\n  0x6e0f: {\n    code: 'ERR_WRONG_TX_OPTIONS',\n    message: 'Invalid transaction options'\n  },\n  0x6e11: {\n    code: 'ERR_SIGN_TX_DEPRECATED',\n    message:\n      'Regular transaction signing is deprecated in this version. Use hash signing.'\n  }\n};\n\nexport default ledgerErrorCodes;\n","import { EnvironmentsEnum, NetworkType } from 'types';\n\nexport const DEFAULT_MIN_GAS_LIMIT = 50_000;\n\nexport const configEndpoint: Record<EnvironmentsEnum, string> = {\n  mainnet: 'https://api.elrond.com/dapp/config',\n  testnet: 'https://testnet-api.elrond.com/dapp/config',\n  devnet: 'https://devnet-api.elrond.com/dapp/config'\n};\n\nexport const fallbackConfigurations: Record<string, NetworkType> = {\n  devnet: {\n    id: 'devnet',\n    name: 'Devnet',\n    egldLabel: 'xEGLD',\n    egldDenomination: '18',\n    decimals: '4',\n    gasPerDataByte: '1500',\n    walletConnectDeepLink:\n      'https://maiar.page.link/?apn=com.elrond.maiar.wallet&isi=1519405832&ibi=com.elrond.maiar.wallet&link=https://maiar.com/',\n    walletConnectBridgeAddresses: ['https://bridge.walletconnect.org'],\n    walletAddress: 'https://devnet-wallet.elrond.com',\n    apiAddress: 'https://devnet-api.elrond.com',\n    explorerAddress: 'http://devnet-explorer.elrond.com',\n    apiTimeout: '4000'\n  },\n  testnet: {\n    id: 'testnet',\n    name: 'Testnet',\n    egldLabel: 'xEGLD',\n    egldDenomination: '18',\n    decimals: '4',\n    gasPerDataByte: '1500',\n    walletConnectDeepLink:\n      'https://maiar.page.link/?apn=com.elrond.maiar.wallet&isi=1519405832&ibi=com.elrond.maiar.wallet&link=https://maiar.com/',\n    walletConnectBridgeAddresses: ['https://bridge.walletconnect.org'],\n    walletAddress: 'https://testnet-wallet.elrond.com',\n    apiAddress: 'https://testnet-api.elrond.com',\n    explorerAddress: 'http://testnet-explorer.elrond.com',\n    apiTimeout: '4000'\n  },\n  mainnet: {\n    id: 'mainnet',\n    name: 'Mainnet',\n    egldLabel: 'xEGLD',\n    egldDenomination: '18',\n    decimals: '4',\n    gasPerDataByte: '1500',\n    walletConnectDeepLink:\n      'https://maiar.page.link/?apn=com.elrond.maiar.wallet&isi=1519405832&ibi=com.elrond.maiar.wallet&link=https://maiar.com/',\n    walletConnectBridgeAddresses: ['https://bridge.walletconnect.org'],\n    walletAddress: 'https://wallet.elrond.com',\n    apiAddress: 'https://api.elrond.com',\n    explorerAddress: 'https://explorer.elrond.com',\n    apiTimeout: '4000'\n  }\n};\n","import * as ledgerErrorCodes from './ledgerErrorCodes';\nimport * as networkConstants from './network';\n\nexport { networkConstants, ledgerErrorCodes };\n\nexport const gasPriceModifier = '0.01';\nexport const gasPerDataByte = '1500';\nexport const gasLimit = '50000';\nexport const defaultGasPrice = 1_000_000_000;\nexport const defaultGasLimit = 60_000_000;\nexport const denomination = 18;\nexport const decimals = 4;\n\nexport const dappInitRoute = '/dapp/init';\nexport const walletSignSession = 'signSession';\n","export function pipe<ValueType>(previous: ValueType) {\n  return {\n    if: function (condition: boolean) {\n      if (condition) {\n        return {\n          then: (newValue: ValueType | ((prop: ValueType) => ValueType)) =>\n            // if a callback is passed, callback is executed with previous value\n            newValue instanceof Function\n              ? pipe(newValue(previous))\n              : pipe(newValue)\n        };\n      } else {\n        return {\n          then: () => pipe(previous)\n        };\n      }\n    },\n\n    then: (newValue: ValueType | ((prop: ValueType) => ValueType)) =>\n      newValue instanceof Function ? pipe(newValue(previous)) : pipe(newValue),\n\n    valueOf: function () {\n      return previous;\n    }\n  };\n}\nexport default pipe;\n","import { validation } from '@elrondnetwork/dapp-utils';\nimport { Balance, Token } from '@elrondnetwork/erdjs';\nimport BigNumber from 'bignumber.js';\nimport {\n  denomination as configDenomination,\n  decimals as configDecimals\n} from 'constants/index';\nimport pipe from './pipe';\n\nBigNumber.config({ ROUNDING_MODE: BigNumber.ROUND_FLOOR });\n\nexport function denominate({\n  input,\n  denomination = configDenomination,\n  decimals = configDecimals,\n  showLastNonZeroDecimal = true,\n  addCommas = false\n}: {\n  input: string | Balance;\n  denomination?: number;\n  decimals?: number;\n  showLastNonZeroDecimal?: boolean;\n  addCommas?: boolean;\n}) {\n  const token = new Token({ decimals: denomination });\n\n  if (typeof input === 'string' && !validation.stringIsInteger(input, false)) {\n    throw new Error('Invalid input');\n  }\n\n  return (\n    pipe(input as string)\n      // denominate\n      .if(typeof input === 'string')\n      .then(() =>\n        new Balance(token, 0, new BigNumber(input as string)).toDenominated()\n      )\n\n      .if(input.constructor === Balance)\n      .then(() => (input as Balance).toDenominated())\n\n      // format\n      .then((current) => {\n        const bnBalance = new BigNumber(current);\n\n        if (bnBalance.isZero()) {\n          return '0';\n        }\n        const balance = bnBalance.toString(10);\n        const [integerPart, decimalPart] = balance.split('.');\n        const bNdecimalPart = new BigNumber(decimalPart || 0);\n\n        const decimalPlaces = pipe(0)\n          .if(Boolean(decimalPart && showLastNonZeroDecimal))\n          .then(() => Math.max(decimalPart.length, decimals))\n\n          .if(bNdecimalPart.isZero() && !showLastNonZeroDecimal)\n          .then(0)\n\n          .if(Boolean(decimalPart && !showLastNonZeroDecimal))\n          .then(() => Math.min(decimalPart.length, decimals))\n\n          .valueOf();\n\n        const shownDecimalsAreZero =\n          decimalPart &&\n          decimals >= 1 &&\n          decimals <= decimalPart.length &&\n          bNdecimalPart.isGreaterThan(0) &&\n          new BigNumber(decimalPart.substring(0, decimals)).isZero();\n\n        const formatted = bnBalance.toFormat(decimalPlaces);\n\n        const formattedBalance = pipe(balance)\n          .if(addCommas)\n          .then(formatted)\n\n          .if(Boolean(shownDecimalsAreZero) && !showLastNonZeroDecimal)\n          .then((current) => {\n            const integerPartZero = new BigNumber(integerPart).isZero();\n            const [numericPart] = current.split('.');\n\n            const zeroPlaceholders = new Array(decimals - 1).fill(0);\n            const zeros = [...zeroPlaceholders, 0].join('');\n            const minAmount = [...zeroPlaceholders, 1].join(''); // 00..1\n\n            if (integerPartZero) {\n              return `<${numericPart}.${minAmount}`;\n            } else {\n              return `${numericPart}.${zeros}`;\n            }\n          })\n\n          .valueOf();\n\n        return formattedBalance;\n      })\n\n      .valueOf()\n  );\n}\nexport default denominate;\n","import {\n  createBalanceBuilder,\n  Token,\n  TokenType\n} from '@elrondnetwork/erdjs/out';\nimport { denomination as configDenomination } from 'constants/index';\n\nexport function nominate(input: string, customDenomination?: number) {\n  const balance = createBalanceBuilder(\n    new Token({\n      decimals: customDenomination || configDenomination,\n      type: TokenType.Fungible\n    })\n  );\n  return balance(input).toString();\n}\n\nexport default nominate;\n","let classnames: any = {};\ntry {\n  classnames = require('classnames');\n} catch (err) {}\n\nexport default classnames;\n","import classNames from 'optionalPackages/classnames';\n\nexport function getGeneratedClasses(\n  className: string,\n  shouldRenderDefaultCss: boolean,\n  defaultStyles: Record<string, string>\n) {\n  return Object.entries(defaultStyles).reduce(\n    (acc, [key, defaultClassNames]) => {\n      acc[key] = classNames?.(\n        `${className}_${key}`,\n        shouldRenderDefaultCss && (defaultClassNames as string)\n      );\n      return acc;\n    },\n    {}\n  ) as any;\n}\n","export const wrapperClassName = 'dapp-core-ui-component';\nexport default wrapperClassName;\n","let moment: any = {};\ntry {\n  moment = require('moment');\n} catch (err) {}\n\nexport default moment;\n","import moment from 'optionalPackages/moment';\n\nexport type SessionKeyType = 'address' | 'shard' | 'toasts' | 'toastProgress';\ntype ExpiresType = number | false;\n\nexport const setItem = ({\n  key,\n  data,\n  expires\n}: {\n  key: SessionKeyType;\n  data: any;\n  expires: ExpiresType;\n}) => {\n  sessionStorage.setItem(\n    String(key),\n    JSON.stringify({\n      expires,\n      data\n    })\n  );\n};\n\nexport const getItem = (key: SessionKeyType): any => {\n  const item = sessionStorage.getItem(String(key));\n  if (!item) {\n    return null;\n  }\n\n  const deserializedItem = JSON.parse(item);\n  if (!deserializedItem) {\n    return null;\n  }\n\n  if (\n    !deserializedItem.hasOwnProperty('expires') ||\n    !deserializedItem.hasOwnProperty('data')\n  ) {\n    return null;\n  }\n\n  const expired = moment().unix() >= deserializedItem.expires;\n  if (expired) {\n    sessionStorage.removeItem(String(key));\n    return null;\n  }\n\n  return deserializedItem.data;\n};\n\nexport const removeItem = (key: SessionKeyType) =>\n  sessionStorage.removeItem(String(key));\n\nexport const clear = () => sessionStorage.clear();\n\nexport const storage = {\n  setItem,\n  getItem,\n  removeItem,\n  clear\n};\n\nexport default storage;\n","import React from 'react';\nimport {\n  createDispatchHook,\n  createSelectorHook,\n  createStoreHook\n} from 'react-redux';\n\nconst defaultContextValue: any = null;\nexport const DappCoreContext = React.createContext(defaultContextValue);\n\nexport const useStore = createStoreHook(DappCoreContext);\nexport const useDispatch = createDispatchHook(DappCoreContext);\nexport const useSelector = createSelectorHook(DappCoreContext);\n","import { useState } from 'react';\nimport { ExtensionProvider } from '@elrondnetwork/erdjs';\nimport { loginAction } from 'redux/commonActions';\nimport { useDispatch, useSelector } from 'redux/DappProviderContext';\nimport { isLoggedInSelector } from 'redux/selectors';\nimport { setProvider, setTokenLogin } from 'redux/slices';\nimport { LoginMethodsEnum } from 'types/enums';\nimport { optionalRedirect } from 'utils/internal';\nimport { LoginHookGenericStateType, InitiateLoginFunctionType } from '../types';\n\ninterface UseExtensionLoginPropsType {\n  callbackRoute: string;\n  token?: string;\n  redirectAfterLogin?: boolean;\n}\n\nexport type UseExtensionLoginReturnType = [\n  InitiateLoginFunctionType,\n  LoginHookGenericStateType\n];\n\nexport const useExtensionLogin = ({\n  callbackRoute,\n  token,\n  redirectAfterLogin = false\n}: UseExtensionLoginPropsType): UseExtensionLoginReturnType => {\n  const [error, setError] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const isLoggedIn = useSelector(isLoggedInSelector);\n  const dispatch = useDispatch();\n  async function initiateLogin() {\n    setIsLoading(true);\n    const provider: ExtensionProvider = ExtensionProvider.getInstance();\n\n    try {\n      const isSuccessfullyInitialized: boolean = await provider.init();\n\n      if (!isSuccessfullyInitialized) {\n        console.warn(\n          'Something went wrong trying to redirect to wallet login..'\n        );\n        return;\n      }\n\n      const callbackUrl: string = encodeURIComponent(\n        `${window.location.origin}${callbackRoute}`\n      );\n      const providerLoginData = {\n        callbackUrl,\n        ...(token && { token })\n      };\n\n      await provider.login(providerLoginData);\n\n      dispatch(setProvider(provider));\n\n      const { signature, address } = provider.account;\n      if (signature) {\n        dispatch(\n          setTokenLogin({\n            loginToken: String(token),\n            signature\n          })\n        );\n      }\n      dispatch(\n        loginAction({ address, loginMethod: LoginMethodsEnum.extension })\n      );\n      optionalRedirect(callbackRoute, redirectAfterLogin);\n    } catch (error) {\n      console.error('error loging in', error);\n      // TODO: can be any or typed error\n      setError('error logging in' + (error as any).message);\n    } finally {\n      setIsLoading(false);\n    }\n  }\n\n  const loginFailed = Boolean(error);\n  return [\n    initiateLogin,\n    {\n      loginFailed,\n      error,\n      isLoading: isLoading && !loginFailed,\n      isLoggedIn: isLoggedIn && !loginFailed\n    }\n  ];\n};\n","import { useState } from 'react';\nimport { useSelector } from 'redux/DappProviderContext';\nimport { isLoggedInSelector, networkSelector } from 'redux/selectors';\nimport { setWalletLogin } from 'redux/slices';\nimport { store } from 'redux/store';\nimport { newWalletProvider } from 'utils';\nimport { LoginHookGenericStateType, InitiateLoginFunctionType } from '../types';\n\ninterface UseWebWalletLoginPropsType {\n  callbackRoute: string;\n  token?: string;\n}\n\nexport type UseWebWalletLoginReturnType = [\n  InitiateLoginFunctionType,\n  LoginHookGenericStateType\n];\n\nexport const useWebWalletLogin = ({\n  callbackRoute,\n  token\n}: UseWebWalletLoginPropsType): UseWebWalletLoginReturnType => {\n  const [error, setError] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const isLoggedIn = useSelector(isLoggedInSelector);\n\n  async function initiateLogin() {\n    try {\n      setIsLoading(true);\n      const appState = store.getState();\n      const network = networkSelector(appState);\n      const provider = newWalletProvider(network.walletAddress);\n\n      const now = new Date();\n      const expires: number = now.setMinutes(now.getMinutes() + 3) / 1000;\n      const walletLoginData = {\n        data: {},\n        expires: expires\n      };\n\n      store.dispatch(setWalletLogin(walletLoginData));\n\n      const callbackUrl: string = encodeURIComponent(\n        `${window.location.origin}${callbackRoute}`\n      );\n      const loginData = {\n        callbackUrl: callbackUrl,\n        ...(token && { token })\n      };\n\n      await provider.login(loginData);\n    } catch (error) {\n      console.error(error);\n      setError('error logging in' + (error as any).message);\n    } finally {\n      setIsLoading(false);\n    }\n  }\n\n  const loginFailed = error != null;\n\n  return [\n    initiateLogin,\n    {\n      error,\n      loginFailed,\n      isLoading: isLoading && !loginFailed,\n      isLoggedIn: isLoggedIn && !loginFailed\n    }\n  ];\n};\n\nexport default useWebWalletLogin;\n","import React from 'react';\nimport { HWProvider } from '@elrondnetwork/erdjs';\nimport { ledgerErrorCodes } from 'constants/index';\nimport { loginAction } from 'redux/commonActions';\nimport { useDispatch, useSelector } from 'redux/DappProviderContext';\nimport {\n  isLoggedInSelector,\n  ledgerAccountSelector,\n  proxySelector\n} from 'redux/selectors';\nimport {\n  setLedgerAccount,\n  setLedgerLogin,\n  setProvider,\n  setTokenLogin\n} from 'redux/slices';\nimport { LoginMethodsEnum } from 'types/enums';\nimport { optionalRedirect } from 'utils/internal';\nimport { LoginHookGenericStateType, InitiateLoginFunctionType } from '../types';\n\nconst ledgerAppErrorText = 'Check if Elrond app is open on Ledger';\nconst failInitializeErrorText =\n  'Could not initialise ledger app, make sure Elrond app is open';\n\nconst defaultAddressesPerPage = 10;\n\nexport interface UseLedgerLoginPropsType {\n  callbackRoute: string;\n  addressesPerPage?: number;\n  token?: string;\n  redirectAfterLogin?: boolean;\n}\n\nexport interface SelectedAddress {\n  address: string;\n  index: number;\n}\n\nexport interface LedgerLoginHookCustomStateType {\n  accounts: string[];\n  showAddressList: boolean;\n  startIndex: number;\n  selectedAddress: SelectedAddress | null;\n\n  onGoToPrevPage: () => void;\n  onGoToNextPage: () => void;\n  onSelectAddress: (address: SelectedAddress | null) => void;\n  onConfirmSelectedAddress: () => void;\n}\n\nexport type LedgerLoginHookReturnType = [\n  InitiateLoginFunctionType,\n  LoginHookGenericStateType,\n  LedgerLoginHookCustomStateType\n];\n\nexport function useLedgerLogin({\n  callbackRoute,\n  token,\n  addressesPerPage = defaultAddressesPerPage,\n  redirectAfterLogin = false\n}: UseLedgerLoginPropsType): LedgerLoginHookReturnType {\n  const ledgerAccount = useSelector(ledgerAccountSelector);\n  const isLoggedIn = useSelector(isLoggedInSelector);\n  const proxy = useSelector(proxySelector);\n  const dispatch = useDispatch();\n  const [error, setError] = React.useState('');\n  const [isLoading, setIsLoading] = React.useState(false);\n\n  const hwWalletP = new HWProvider(proxy);\n  const [startIndex, setStartIndex] = React.useState(0);\n  const [accounts, setAccounts] = React.useState<string[]>([]);\n  const [selectedAddress, setSelectedAddress] =\n    React.useState<SelectedAddress | null>(null);\n\n  const [showAddressList, setShowAddressList] = React.useState(false);\n\n  function dispatchLoginActions({\n    provider,\n    address,\n    index,\n    signature\n  }: {\n    provider: HWProvider;\n    address: string;\n    index: number;\n    signature?: string;\n  }) {\n    dispatch(setProvider(provider));\n\n    dispatch(setLedgerLogin({ index, loginType: LoginMethodsEnum.ledger }));\n\n    if (signature) {\n      dispatch(\n        setTokenLogin({\n          loginToken: String(token),\n          signature\n        })\n      );\n    }\n    dispatch(loginAction({ address, loginMethod: LoginMethodsEnum.ledger }));\n    optionalRedirect(callbackRoute, redirectAfterLogin);\n  }\n\n  const onLoginFailed = (err: any, customMessage?: string) => {\n    if (err.statusCode in ledgerErrorCodes) {\n      setError(\n        (ledgerErrorCodes as any)[err.statusCode].message + customMessage\n      );\n    }\n    setIsLoading(false);\n    console.warn(err);\n    dispatch(setLedgerAccount(null));\n  };\n\n  async function loginUser(hwWalletProvider: HWProvider) {\n    if (selectedAddress == null) {\n      return false;\n    }\n    const { index } = selectedAddress;\n\n    if (token) {\n      try {\n        const loginInfo = await hwWalletProvider.tokenLogin({\n          token: Buffer.from(`${token}{}`),\n          addressIndex: index\n        });\n        dispatchLoginActions({\n          address: loginInfo.address,\n          provider: hwWalletProvider,\n          index: index,\n          signature: loginInfo.signature.hex()\n        });\n      } catch (err) {\n        onLoginFailed(err, '. Update Elrond App to continue.');\n      }\n    } else {\n      try {\n        const address = await hwWalletProvider.login({ addressIndex: index });\n        dispatchLoginActions({\n          address,\n          provider: hwWalletProvider,\n          index\n        });\n      } catch (err) {\n        onLoginFailed(err);\n        return false;\n      }\n    }\n    return true;\n  }\n\n  async function onConfirmSelectedAddress() {\n    try {\n      setIsLoading(true);\n      if (selectedAddress == null) {\n        return false;\n      }\n      const { address, index } = selectedAddress;\n      dispatch(\n        setLedgerAccount({\n          index,\n          address\n        })\n      );\n      const hwWalletProvider = new HWProvider(proxy);\n      const initialized = await hwWalletProvider.init();\n      if (!initialized) {\n        setError(failInitializeErrorText);\n        console.warn(failInitializeErrorText);\n        return false;\n      }\n      setIsLoading(false);\n      await loginUser(hwWalletProvider);\n    } catch (err) {\n      if ((err as any).statusCode in ledgerErrorCodes) {\n        setError((ledgerErrorCodes as any)[(err as any).statusCode].message);\n      }\n      console.warn(failInitializeErrorText, err);\n    } finally {\n      setIsLoading(false);\n    }\n    setShowAddressList(false);\n    return true;\n  }\n\n  async function fetchAccounts() {\n    try {\n      setIsLoading(true);\n      const initialized = await hwWalletP.init();\n      if (!initialized) {\n        setError(failInitializeErrorText);\n        console.warn(failInitializeErrorText);\n        setIsLoading(false);\n        return;\n      }\n      const accounts = await hwWalletP.getAccounts(\n        startIndex,\n        addressesPerPage\n      );\n      setAccounts(accounts);\n      setIsLoading(false);\n    } catch (err) {\n      if ((err as any).statusCode in ledgerErrorCodes) {\n        setError((ledgerErrorCodes as any)[(err as any).statusCode].message);\n      } else {\n        setError(ledgerAppErrorText);\n      }\n      console.error('error', err);\n      setIsLoading(false);\n    }\n  }\n\n  async function onStartLogin() {\n    setError('');\n    try {\n      setIsLoading(true);\n      if (ledgerAccount != null) {\n        const hwWalletP = new HWProvider(proxy);\n        const initialized = await hwWalletP.init();\n        if (!initialized) {\n          console.warn(failInitializeErrorText);\n          return;\n        }\n        const address = await hwWalletP.login();\n        dispatch(setProvider(hwWalletP));\n        dispatch(\n          loginAction({ address, loginMethod: LoginMethodsEnum.ledger })\n        );\n        optionalRedirect(callbackRoute, redirectAfterLogin);\n      } else {\n        if (accounts?.length > 0) {\n          setShowAddressList(true);\n        } else {\n          await fetchAccounts();\n          setShowAddressList(true);\n        }\n      }\n    } catch (error) {\n      console.error('error ', error);\n      setError(ledgerAppErrorText);\n    } finally {\n      setIsLoading(false);\n    }\n  }\n\n  function onSelectAddress(newSelectedAddress: SelectedAddress | null) {\n    setSelectedAddress(newSelectedAddress);\n  }\n\n  function onGoToNextPage() {\n    setSelectedAddress(null);\n    setStartIndex((current) => current + 1);\n  }\n\n  function onGoToPrevPage() {\n    setSelectedAddress(null);\n    setStartIndex((current) => (current === 0 ? 0 : current - 1));\n  }\n\n  React.useEffect(() => {\n    fetchAccounts();\n  }, [startIndex]);\n  const loginFailed = Boolean(error);\n  return [\n    onStartLogin,\n    {\n      loginFailed,\n      isLoggedIn: isLoggedIn && !loginFailed,\n      error,\n      isLoading: isLoading && !loginFailed\n    },\n    {\n      accounts,\n      showAddressList,\n      startIndex,\n      selectedAddress,\n\n      onGoToPrevPage,\n      onGoToNextPage,\n      onSelectAddress,\n      onConfirmSelectedAddress\n    }\n  ];\n}\n","import { useRef, useEffect } from 'react';\n\nexport function useUpdateEffect(effect: any, dependencies: any[] = []) {\n  const isInitialMount = useRef(true);\n\n  useEffect(() => {\n    if (isInitialMount.current) {\n      isInitialMount.current = false;\n    } else {\n      effect();\n    }\n  }, dependencies);\n}\n","import { useEffect, useRef, useState } from 'react';\nimport { WalletConnectProvider } from '@elrondnetwork/erdjs';\n\nimport { useUpdateEffect } from 'hooks/useUpdateEffect';\nimport { loginAction } from 'redux/commonActions';\nimport { useDispatch, useSelector } from 'redux/DappProviderContext';\nimport {\n  isLoggedInSelector,\n  providerSelector,\n  proxySelector,\n  walletConnectBridgeAddressSelector,\n  walletConnectDeepLinkSelector\n} from 'redux/selectors';\nimport {\n  setProvider,\n  setTokenLogin,\n  setTokenLoginSignature,\n  setWalletConnectLogin\n} from 'redux/slices';\n\nimport { LoginMethodsEnum } from 'types/enums';\nimport { logout } from 'utils';\nimport { optionalRedirect } from 'utils/internal';\nimport Timeout = NodeJS.Timeout;\nimport { LoginHookGenericStateType } from '../types';\n\ninterface InitWalletConnectType {\n  callbackRoute: string;\n  logoutRoute: string;\n  token?: string;\n  shouldLoginUser?: boolean;\n  redirectAfterLogin?: boolean;\n}\n\nexport interface WalletConnectLoginHookCustomStateType {\n  uriDeepLink: string | null;\n  walletConnectUri?: string;\n}\n\nexport type WalletConnectLoginHookReturnType = [\n  (loginProvider?: boolean) => void,\n  LoginHookGenericStateType,\n  WalletConnectLoginHookCustomStateType\n];\n\nexport const useWalletConnectLogin = ({\n  callbackRoute,\n  logoutRoute,\n  token,\n  redirectAfterLogin = false\n}: InitWalletConnectType): WalletConnectLoginHookReturnType => {\n  const dispatch = useDispatch();\n  const heartbeatInterval = 15000;\n\n  const [error, setError] = useState<string>('');\n  const [wcUri, setWcUri] = useState<string>('');\n\n  const proxy = useSelector(proxySelector);\n\n  const provider: any = useSelector(providerSelector);\n  const walletConnectBridgeAddress = useSelector(\n    walletConnectBridgeAddressSelector\n  );\n  const walletConnectDeepLink = useSelector(walletConnectDeepLinkSelector);\n  const isLoggedIn = useSelector(isLoggedInSelector);\n  const providerRef = useRef<any>(provider);\n\n  let heartbeatDisconnectInterval: Timeout;\n\n  const hasWcUri = Boolean(wcUri);\n  const isLoading = !hasWcUri;\n  const uriDeepLink = hasWcUri\n    ? `${walletConnectDeepLink}?wallet-connect=${encodeURIComponent(wcUri)}`\n    : null;\n\n  useEffect(() => {\n    handleHeartbeat();\n\n    const interval = setInterval(() => {\n      handleHeartbeat();\n    }, heartbeatInterval);\n\n    return () => clearInterval(interval);\n  }, [provider]);\n\n  useUpdateEffect(() => {\n    generateWcUri();\n  }, [token]);\n\n  useUpdateEffect(() => {\n    providerRef.current = provider;\n  }, [provider]);\n\n  async function handleHeartbeat() {\n    const isProviderConnected = Boolean(\n      providerRef.current?.walletConnector?.connected\n    );\n    if (!isProviderConnected) {\n      return;\n    }\n\n    const customMessage = {\n      method: 'heartbeat',\n      params: {}\n    };\n\n    try {\n      await providerRef.current.sendCustomMessage(customMessage);\n    } catch (error) {\n      console.error('Connection lost', error);\n      handleOnLogout();\n    }\n  }\n\n  async function handleOnLogin() {\n    try {\n      const provider = providerRef.current;\n      if (isLoggedIn) {\n        return;\n      }\n      if (provider == null) {\n        return;\n      }\n      const address = await provider.getAddress();\n      const signature = await provider.getSignature();\n      const hasSignature = Boolean(signature);\n      const loginActionData = {\n        address: address,\n        loginMethod: LoginMethodsEnum.walletconnect\n      };\n\n      const loginData = {\n        logoutRoute: logoutRoute,\n        loginType: 'walletConnect',\n        callbackRoute: callbackRoute\n      };\n\n      if (hasSignature) {\n        dispatch(setWalletConnectLogin(loginData));\n        dispatch(setTokenLoginSignature(signature));\n      } else {\n        dispatch(setWalletConnectLogin(loginData));\n      }\n      dispatch(loginAction(loginActionData));\n\n      provider.walletConnector.on('heartbeat', () => {\n        clearInterval(heartbeatDisconnectInterval);\n        heartbeatDisconnectInterval = setInterval(() => {\n          console.log('Maiar Wallet Connection Lost');\n          handleOnLogout();\n          clearInterval(heartbeatDisconnectInterval);\n        }, 150000);\n      });\n\n      optionalRedirect(callbackRoute, redirectAfterLogin);\n    } catch (err) {\n      setError('Invalid address');\n      console.error(err);\n    }\n  }\n\n  const handleOnLogout = () => {\n    logout(callbackRoute);\n  };\n\n  async function initiateLogin(loginProvider = true) {\n    if (\n      !walletConnectBridgeAddress ||\n      providerRef?.current?.isInitialized?.()\n    ) {\n      return;\n    }\n\n    const providerHandlers = {\n      onClientLogin: handleOnLogin,\n      onClientLogout: handleOnLogout\n    };\n\n    const newProvider = new WalletConnectProvider(\n      proxy,\n      walletConnectBridgeAddress,\n      providerHandlers\n    );\n\n    await newProvider.init();\n    dispatch(setProvider(newProvider));\n    providerRef.current = newProvider;\n    if (loginProvider) {\n      generateWcUri();\n    }\n  }\n\n  async function generateWcUri() {\n    if (!walletConnectBridgeAddress) {\n      return;\n    }\n\n    const walletConnectUri: string | undefined =\n      await providerRef.current?.login();\n    const hasUri = Boolean(walletConnectUri);\n\n    if (!hasUri) {\n      return;\n    }\n\n    if (!token) {\n      setWcUri(walletConnectUri as string);\n      return;\n    }\n\n    const wcUriWithToken = `${walletConnectUri}&token=${token}`;\n\n    setWcUri(wcUriWithToken);\n    dispatch(setTokenLogin({ loginToken: token }));\n  }\n\n  const loginFailed = error != null;\n  return [\n    initiateLogin,\n    {\n      error,\n      loginFailed,\n      isLoading: isLoading && !loginFailed,\n      isLoggedIn: isLoggedIn && !loginFailed\n    },\n    { uriDeepLink, walletConnectUri: wcUri }\n  ];\n};\n\nexport default useWalletConnectLogin;\n","import { operations } from '@elrondnetwork/dapp-utils';\nimport { Transaction } from '@elrondnetwork/erdjs/out';\nimport BigNumber from 'bignumber.js';\nimport { gasPerDataByte, gasPriceModifier } from 'constants/index';\n\nexport function calcTotalFee(transactions: Transaction[], minGasLimit: number) {\n  let totalFee = new BigNumber(0);\n\n  transactions.forEach((tx) => {\n    const fee = operations.calculateFeeLimit({\n      gasPerDataByte,\n      gasPriceModifier,\n      minGasLimit: String(minGasLimit),\n      gasLimit: tx.getGasLimit().valueOf().toString(),\n      gasPrice: tx.getGasPrice().valueOf().toString(),\n      data: tx.getData().toString(),\n      chainId: tx.getChainID().valueOf()\n    });\n    totalFee = totalFee.plus(new BigNumber(fee));\n  });\n\n  return totalFee;\n}\n","import { validation } from '@elrondnetwork/dapp-utils';\nimport BigNumber from 'bignumber.js';\nimport { networkConstants } from 'constants/index';\n\nimport { accountBalanceSelector, chainIDSelector } from 'redux/selectors';\nimport {\n  setTransactionsToSign,\n  setNotificationModal,\n  setTransactionsDisplayInfo\n} from 'redux/slices';\nimport { store } from 'redux/store';\nimport { NotificationTypesEnum, SignTransactionsPropsType } from 'types';\nimport { SendTransactionReturnType } from './sendTransactions';\nimport { calcTotalFee } from './utils';\n\nexport function signTransactions({\n  transactions,\n  callbackRoute = window.location.pathname,\n  redirectAfterSign = true,\n  sessionInformation,\n  minGasLimit = networkConstants.DEFAULT_MIN_GAS_LIMIT,\n  transactionsDisplayInfo\n}: SignTransactionsPropsType): SendTransactionReturnType {\n  const appState = store.getState();\n  const sessionId = Date.now().toString();\n  const accountBalance = accountBalanceSelector(appState);\n  const storeChainId = chainIDSelector(appState);\n\n  const transactionsPayload = Array.isArray(transactions)\n    ? transactions\n    : [transactions];\n  const bNtotalFee = calcTotalFee(transactionsPayload, minGasLimit);\n  const bNbalance = new BigNumber(\n    validation.stringIsFloat(accountBalance) ? accountBalance : '0'\n  );\n  const hasSufficientFunds = bNbalance.minus(bNtotalFee).isGreaterThan(0);\n\n  if (!hasSufficientFunds) {\n    const notificationPayload = {\n      type: NotificationTypesEnum.warning,\n      iconClassName: 'text-warning',\n      title: 'Insufficient EGLD funds',\n      description: 'Current EGLD balance cannot cover the transaction fees.'\n    };\n\n    store.dispatch(setNotificationModal(notificationPayload));\n    return { error: 'insufficient funds', sessionId: null };\n  }\n\n  const hasValidChainId = transactionsPayload?.every(\n    (tx) => tx.getChainID().valueOf() === storeChainId.valueOf()\n  );\n  if (!hasValidChainId) {\n    const notificationPayload = {\n      type: NotificationTypesEnum.warning,\n      iconClassName: 'text-warning',\n      title: 'Network change detected',\n      description: 'The application tried to change the transaction network'\n    };\n    store.dispatch(setNotificationModal(notificationPayload));\n    return { error: 'Invalid ChainID', sessionId: null };\n  }\n\n  const signTransactionsPayload = {\n    sessionId,\n    callbackRoute,\n    redirectAfterSign,\n    sessionInformation,\n    transactions: transactionsPayload.map((tx) => tx.toPlainObject())\n  };\n\n  store.dispatch(setTransactionsToSign(signTransactionsPayload));\n  store.dispatch(\n    setTransactionsDisplayInfo({ sessionId, transactionsDisplayInfo })\n  );\n  return { sessionId };\n}\n\nexport default signTransactions;\n","import { Address, Transaction } from '@elrondnetwork/erdjs/out';\nimport { defaultGasPrice, defaultGasLimit } from 'constants/index';\nimport newTransaction from 'models/newTransaction';\nimport { addressSelector, chainIDSelector } from 'redux/selectors';\nimport { store } from 'redux/store';\nimport { SendSimpleTransactionPropsType } from 'types';\nimport { getAccount, getLatestNonce } from 'utils';\nimport { encodeToBase64, isStringBase64 } from 'utils/decoders/base64Utils';\n\nenum ErrorCodesEnum {\n  'invalidReceiver' = 'Invalid Receiver address',\n  'unknownError' = 'Unknown Error. Please check the transactions and try again'\n}\n\nexport async function transformAndSignTransactions({\n  transactions\n}: SendSimpleTransactionPropsType): Promise<Transaction[]> {\n  const address = addressSelector(store.getState());\n  const account = await getAccount(address);\n  const nonce = getLatestNonce(account);\n  return transactions.map((tx) => {\n    const {\n      value,\n      receiver,\n      data = '',\n      chainID,\n      version,\n      options,\n      gasPrice = defaultGasPrice,\n      gasLimit = defaultGasLimit\n    } = tx;\n    let validatedReceiver = receiver;\n\n    try {\n      const addr = new Address(receiver);\n      validatedReceiver = addr.hex();\n    } catch (err) {\n      throw ErrorCodesEnum.invalidReceiver;\n    }\n\n    const storeChainId = chainIDSelector(store.getState()).valueOf().toString();\n    const transactionsChainId = chainID || storeChainId;\n    return newTransaction({\n      value,\n      receiver: validatedReceiver,\n      data: isStringBase64(data) ? data : encodeToBase64(data),\n      gasPrice,\n      gasLimit,\n      nonce: Number(nonce.valueOf().toString()),\n      sender: new Address(address).hex(),\n      chainID: transactionsChainId,\n      version,\n      options\n    });\n  });\n}\n\nexport default transformAndSignTransactions;\n","import { Transaction } from '@elrondnetwork/erdjs/out';\nimport { SendTransactionsPropsType, SimpleTransactionType } from 'types';\nimport { signTransactions } from './signTransactions';\nimport transformAndSignTransactions from './transformAndSignTransactions';\n\nexport interface SendTransactionReturnType {\n  error?: string;\n  sessionId: string | null;\n}\n\nexport async function sendTransactions({\n  transactions,\n  transactionsDisplayInfo,\n  redirectAfterSign = true,\n  sessionInformation,\n  minGasLimit\n}: SendTransactionsPropsType): Promise<SendTransactionReturnType> {\n  try {\n    const transactionsPayload = Array.isArray(transactions)\n      ? transactions\n      : [transactions];\n\n    const areComplexTransactions = transactionsPayload.every(\n      (tx) => Object.getPrototypeOf(tx).toPlainObject != null\n    );\n    let txToSign = transactionsPayload;\n    if (!areComplexTransactions) {\n      txToSign = await transformAndSignTransactions({\n        transactions: transactionsPayload as SimpleTransactionType[],\n        minGasLimit\n      });\n    }\n\n    return signTransactions({\n      transactions: txToSign as Transaction[],\n      minGasLimit,\n      redirectAfterSign,\n      sessionInformation,\n      transactionsDisplayInfo\n    });\n  } catch (err) {\n    console.error('error signing transaction', err as any);\n    return { error: err as any, sessionId: null };\n  }\n}\n\nexport default sendTransactions;\n","import { useEffect } from 'react';\nimport { useSelector } from 'redux/DappProviderContext';\nimport { transactionStatusSelector } from 'redux/selectors';\nimport { RootState } from 'redux/store';\nimport { TransactionBatchStatusesEnum } from 'types/enums';\nimport {\n  getIsTransactionCompleted,\n  getIsTransactionFailed,\n  getIsTransactionPending,\n  getIsTransactionSuccessful,\n  getIsTransactionTimedOut\n} from 'utils';\n\nexport interface UseTrackTransactionStatusArgsType {\n  transactionId: string | null;\n  onSuccess?: (transactionId: string | null) => void;\n  onFail?: (transactionId: string | null, errorMessage?: string) => void;\n  onTimedOut?: (transactionId: string | null) => void;\n  onCancelled?: (transactionId: string | null) => void;\n  onCompleted?: (transactionId: string | null) => void;\n}\n\nexport function useTrackTransactionStatus({\n  transactionId,\n  onSuccess,\n  onFail,\n  onCancelled,\n  onTimedOut,\n  onCompleted\n}: UseTrackTransactionStatusArgsType) {\n  const transactionsBatch = useSelector((state: RootState) =>\n    transactionStatusSelector(state, transactionId)\n  );\n\n  const { status, transactions, errorMessage } = transactionsBatch;\n\n  const isPending = getIsTransactionPending(status);\n  const isFailed = getIsTransactionFailed(status);\n  const isTimedOut = getIsTransactionTimedOut(status);\n  const isSuccessful = getIsTransactionSuccessful(status);\n  const isCompleted = getIsTransactionCompleted(status);\n\n  const isCancelled = status === TransactionBatchStatusesEnum.cancelled;\n\n  useEffect(() => {\n    if (isSuccessful && onSuccess) {\n      onSuccess(transactionId);\n    }\n  }, [isSuccessful]);\n  useEffect(() => {\n    if (isCompleted && onCompleted) {\n      onCompleted(transactionId);\n    }\n  }, [isCompleted]);\n\n  useEffect(() => {\n    if (isFailed && onFail) {\n      onFail(transactionId, errorMessage);\n    }\n  }, [isFailed]);\n\n  useEffect(() => {\n    if (isCancelled && onCancelled) {\n      onCancelled(transactionId);\n    }\n  }, [isCancelled]);\n\n  useEffect(() => {\n    if (isTimedOut) {\n      if (onTimedOut) {\n        onTimedOut(transactionId);\n      } else {\n        onFail?.(transactionId, 'timeout');\n      }\n    }\n  }, [isTimedOut]);\n\n  if (transactionId == null) {\n    return {};\n  }\n\n  if (transactionsBatch == null) {\n    return { errorMessage: 'No transaction to track' };\n  }\n\n  return {\n    isPending,\n    isSuccessful,\n    isFailed,\n    isCancelled,\n    isCompleted,\n    errorMessage,\n    status,\n    transactions\n  };\n}\n\nexport default useTrackTransactionStatus;\n","import { useSelector } from 'redux/DappProviderContext';\nimport { pendingSignedTransactionsSelector } from 'redux/selectors';\nimport {\n  SignedTransactionsType,\n  SignedTransactionsBodyType\n} from 'types/transactions';\n\ninterface useGetPendingTransactionsReturnType {\n  pendingTransactions: SignedTransactionsType;\n  pendingTransactionsArray: [string, SignedTransactionsBodyType][];\n  hasPendingTransactions: boolean;\n}\n\n//this is a hook to be able to take advantage of memoization offered by useSelector\nexport function useGetPendingTransactions(): useGetPendingTransactionsReturnType {\n  const pendingTransactions = useSelector(pendingSignedTransactionsSelector);\n  const pendingTransactionsArray: [string, SignedTransactionsBodyType][] =\n    Object.entries(pendingTransactions);\n  const hasPendingTransactions = pendingTransactionsArray?.length > 0;\n  return {\n    pendingTransactions,\n    pendingTransactionsArray,\n    hasPendingTransactions\n  };\n}\n","import { useSelector } from 'redux/DappProviderContext';\nimport { failedTransactionsSelector } from 'redux/selectors';\nimport {\n  SignedTransactionsType,\n  SignedTransactionsBodyType\n} from 'types/transactions';\n\ninterface useGetFailedTransactionsReturnType {\n  failedTransactions: SignedTransactionsType;\n  failedTransactionsArray: [string, SignedTransactionsBodyType][];\n  hasFailedTransactions: boolean;\n}\n\n//this is a hook to be able to take advantage of memoization offered by useSelector\nexport function useGetFailedTransactions(): useGetFailedTransactionsReturnType {\n  const failedTransactions = useSelector(failedTransactionsSelector);\n  const failedTransactionsArray: [string, SignedTransactionsBodyType][] =\n    Object.entries(failedTransactions);\n  const hasFailedTransactions = failedTransactionsArray?.length > 0;\n  return {\n    failedTransactions,\n    failedTransactionsArray,\n    hasFailedTransactions\n  };\n}\n","import { useSelector } from 'redux/DappProviderContext';\nimport { successfulTransactionsSelector } from 'redux/selectors';\nimport {\n  SignedTransactionsType,\n  SignedTransactionsBodyType\n} from 'types/transactions';\n\ninterface useGetSuccessfulTransactionsReturnType {\n  successfulTransactions: SignedTransactionsType;\n  successfulTransactionsArray: [string, SignedTransactionsBodyType][];\n  hasSuccessfulTransactions: boolean;\n}\n\n//this is a hook to be able to take advantage of memoization offered by useSelector\nexport function useGetSuccessfulTransactions(): useGetSuccessfulTransactionsReturnType {\n  const successfulTransactions = useSelector(successfulTransactionsSelector);\n  const successfulTransactionsArray: [string, SignedTransactionsBodyType][] =\n    Object.entries(successfulTransactions);\n  const hasSuccessfulTransactions = successfulTransactionsArray?.length > 0;\n  return {\n    successfulTransactions,\n    successfulTransactionsArray,\n    hasSuccessfulTransactions\n  };\n}\n","import { useEffect, useState } from 'react';\nimport { Transaction } from '@elrondnetwork/erdjs';\nimport {\n  MultiSignTxType,\n  TxDataTokenType,\n  TxsDataTokensType\n} from 'types/transactions';\nimport { getTokenFromData } from 'utils';\nimport parseMultiEsdtTransferData from 'utils/transactions/parseMultiEsdtTransferData';\n\nconst defaultTransactionInfo: TxDataTokenType = {\n  tokenId: '',\n  amount: '',\n  type: '',\n  multiTxData: '',\n  receiver: ''\n};\n\ninterface UseParseMultiEsdtTransferDataPropsType {\n  transactions?: Transaction[];\n}\n\ninterface UseParseMultiEsdtTransferDataReturnType {\n  parsedTransactionsByDataField: TxsDataTokensType;\n  getTxInfoByDataField: (\n    data: string,\n    multiTransactionData?: string\n  ) => TxDataTokenType;\n  allTransactions: MultiSignTxType[];\n}\n\nexport function useParseMultiEsdtTransferData({\n  transactions\n}: UseParseMultiEsdtTransferDataPropsType): UseParseMultiEsdtTransferDataReturnType {\n  const [parsedTransactionsByDataField, setParsedTransactions] =\n    useState<TxsDataTokensType>({});\n  const [allTransactions, setAllTransactions] = useState<MultiSignTxType[]>([]);\n\n  function addTransactionDataToParsedInfo(\n    data: string,\n    txInfo: TxDataTokenType\n  ) {\n    setParsedTransactions((existing) => ({\n      ...existing,\n      [data]: txInfo\n    }));\n  }\n\n  function getTxInfoByDataField(\n    data: string,\n    multiTransactionData?: string\n  ): TxDataTokenType {\n    if (parsedTransactionsByDataField == null) {\n      return defaultTransactionInfo;\n    }\n\n    if (data in parsedTransactionsByDataField) {\n      return parsedTransactionsByDataField[data];\n    }\n\n    if (\n      multiTransactionData != null &&\n      String(multiTransactionData) in parsedTransactionsByDataField\n    ) {\n      return parsedTransactionsByDataField[multiTransactionData];\n    }\n\n    return defaultTransactionInfo;\n  }\n\n  function extractTransactionESDTData() {\n    if (transactions && transactions.length > 0) {\n      const allTransactions: MultiSignTxType[] = [];\n      transactions.forEach((transaction, transactionIndex) => {\n        const multiTxs = parseMultiEsdtTransferData(\n          transaction.getData().toString()\n        );\n\n        if (multiTxs.length > 0) {\n          multiTxs.forEach((trx, idx) => {\n            const newTx: MultiSignTxType = {\n              transaction,\n              multiTxData: trx.data,\n              transactionIndex: idx\n            };\n            addTransactionDataToParsedInfo(trx.data, {\n              tokenId: trx.token ? trx.token : '',\n              amount: trx.amount ? trx.amount : '',\n              type: trx.type,\n              nonce: trx.nonce ? trx.nonce : '',\n              multiTxData: trx.data,\n              receiver: trx.receiver\n            });\n            allTransactions.push(newTx);\n          });\n        } else {\n          const { tokenId, amount } = getTokenFromData(\n            transaction.getData().toString()\n          );\n\n          if (tokenId) {\n            addTransactionDataToParsedInfo(transaction.getData().toString(), {\n              tokenId,\n              amount,\n              receiver: transaction.getReceiver().bech32()\n            });\n          }\n          allTransactions.push({ transaction, transactionIndex });\n        }\n      });\n      setAllTransactions(allTransactions);\n    }\n  }\n\n  useEffect(() => {\n    extractTransactionESDTData();\n  }, [transactions]);\n\n  return {\n    parsedTransactionsByDataField,\n    getTxInfoByDataField,\n    allTransactions\n  };\n}\n","import { useSelector } from 'redux/DappProviderContext';\nimport {\n  completedTransactionsSelector,\n  failedTransactionsSelector,\n  pendingSignedTransactionsSelector,\n  signedTransactionsSelector,\n  successfulTransactionsSelector,\n  timedOutTransactionsSelector\n} from 'redux/selectors';\n\ninterface useGetActiveTransactionsStatusReturnType {\n  pending: boolean;\n  timedOut: boolean;\n  fail: boolean;\n  success: boolean;\n  completed: boolean;\n  hasActiveTransactions: boolean;\n}\n\n//this is a hook to be able to take advantage of memoization offered by useSelector\nexport function useGetActiveTransactionsStatus(): useGetActiveTransactionsStatusReturnType {\n  const signedTransactions = useSelector(signedTransactionsSelector);\n  const timedOutTransactions = useSelector(timedOutTransactionsSelector);\n  const failedTransactions = useSelector(failedTransactionsSelector);\n  const successfulTransactions = useSelector(successfulTransactionsSelector);\n  const pendingTransactions = useSelector(pendingSignedTransactionsSelector);\n  const completedTransactions = useSelector(completedTransactionsSelector);\n\n  const pending = Object.keys(pendingTransactions)?.length > 0;\n\n  const timedOut = !pending && Object.keys(timedOutTransactions)?.length > 0;\n\n  const fail =\n    !pending && !timedOut && Object.keys(failedTransactions)?.length > 0;\n\n  const success =\n    !pending &&\n    !timedOut &&\n    !fail &&\n    Object.keys(successfulTransactions).length > 0;\n\n  const completed =\n    !pending &&\n    !timedOut &&\n    !fail &&\n    Object.keys(completedTransactions).length > 0;\n  const hasActiveTransactions = Object.keys(signedTransactions).length > 0;\n  return {\n    pending,\n    timedOut,\n    fail,\n    success,\n    completed,\n    hasActiveTransactions\n  };\n}\n","import { useSelector } from 'redux/DappProviderContext';\nimport { completedTransactionsSelector } from 'redux/selectors';\nimport {\n  SignedTransactionsType,\n  SignedTransactionsBodyType\n} from 'types/transactions';\n\ninterface useGetCompletedTransactionsReturnType {\n  completedTransactions: SignedTransactionsType;\n  completedTransactionsArray: [string, SignedTransactionsBodyType][];\n  hasCompletedTransactions: boolean;\n}\n\n//this is a hook to be able to take advantage of memoization offered by useSelector\nexport function useGetCompletedTransactions(): useGetCompletedTransactionsReturnType {\n  const completedTransactions = useSelector(completedTransactionsSelector);\n  const completedTransactionsArray: [string, SignedTransactionsBodyType][] =\n    Object.entries(completedTransactions);\n  const hasCompletedTransactions = completedTransactionsArray?.length > 0;\n  return {\n    completedTransactions,\n    completedTransactionsArray,\n    hasCompletedTransactions\n  };\n}\n","import { Transaction } from '@elrondnetwork/erdjs';\nimport { proxySelector } from 'redux/selectors';\nimport { store } from 'redux/store';\n\nexport type SendSignedTransactionsReturnType = string[];\n\nexport async function sendSignedTransactions(\n  signedTransactions: Transaction[]\n): Promise<SendSignedTransactionsReturnType> {\n  const proxy = proxySelector(store.getState());\n  const promises = signedTransactions.map((transaction) => {\n    return proxy.sendTransaction(transaction);\n  });\n  const response = await Promise.all(promises);\n\n  return response.map((txHash) => Buffer.from(txHash.hash).toString('hex'));\n}\n","import axios from 'axios';\nimport { networkConfigSelector } from 'redux/selectors';\nimport { store } from 'redux/store';\nimport { SmartContractResult, TransactionServerStatusesEnum } from 'types';\nimport { decodeBase64 } from 'utils';\n\nexport type GetTransactionsByHashesReturnType = {\n  hash: string;\n  invalidTransaction: boolean;\n  status: TransactionServerStatusesEnum;\n  results: SmartContractResult[];\n  receiver: string;\n  data: string;\n  previousStatus: string;\n  hasStatusChanged: boolean;\n}[];\n\nexport type PendingTransactionsType = {\n  hash: string;\n  previousStatus: string;\n}[];\n\nexport async function getTransactionsByHashes(\n  pendingTransactions: PendingTransactionsType\n): Promise<GetTransactionsByHashesReturnType> {\n  const networkConfig = networkConfigSelector(store.getState());\n  const hashes = pendingTransactions.map((tx) => tx.hash);\n  const { data: responseData } = await axios.get(\n    `${networkConfig.network.apiAddress}/transactions`,\n    {\n      params: {\n        hashes: hashes.join(','),\n        withScResults: true\n      }\n    }\n  );\n  return pendingTransactions.map(({ hash, previousStatus }) => {\n    const txOnNetwork = responseData.find(\n      (txResponse: any) => txResponse.txHash === hash\n    );\n    let data = txOnNetwork?.data;\n    try {\n      data = decodeBase64(data);\n    } catch (err) {}\n    return {\n      hash,\n      data,\n      invalidTransaction: txOnNetwork == null,\n      status: txOnNetwork.status,\n      results: txOnNetwork.results,\n      receiver: txOnNetwork?.receiver,\n      previousStatus,\n      hasStatusChanged: status !== previousStatus\n    };\n  });\n}\n","import { useEffect } from 'react';\nimport { HWProvider, ExtensionProvider } from '@elrondnetwork/erdjs';\nimport { loginAction } from 'redux/commonActions';\nimport { useDispatch, useSelector } from 'redux/DappProviderContext';\nimport {\n  loginMethodSelector,\n  walletConnectLoginSelector,\n  networkSelector,\n  proxySelector,\n  walletLoginSelector,\n  addressSelector,\n  ledgerAccountSelector,\n  ledgerLoginSelector,\n  isLoggedInSelector\n} from 'redux/selectors';\nimport { extraActionsSelector } from 'redux/selectors/extraActionsSelectors';\nimport {\n  setAccount,\n  setIsAccountLoading,\n  setAccountLoadingError,\n  setLedgerAccount,\n  setProvider,\n  setWalletLogin,\n  setChainID\n} from 'redux/slices';\nimport { useWalletConnectLogin } from 'services/login/useWalletConnectLogin';\nimport { LoginMethodsEnum } from 'types/enums';\nimport {\n  newWalletProvider,\n  getAddress,\n  getAccount,\n  getLatestNonce,\n  logout\n} from 'utils';\n\nexport default function ProviderInitializer() {\n  const network = useSelector(networkSelector);\n  const walletConnectLogin = useSelector(walletConnectLoginSelector);\n  const loginMethod = useSelector(loginMethodSelector);\n  const walletLogin = useSelector(walletLoginSelector);\n  const { getProvider } = useSelector(extraActionsSelector);\n  const address = useSelector(addressSelector);\n  const ledgerAccount = useSelector(ledgerAccountSelector);\n  const ledgerLogin = useSelector(ledgerLoginSelector);\n  const isLoggedIn = useSelector(isLoggedInSelector);\n\n  const proxy = useSelector(proxySelector);\n  const dispatch = useDispatch();\n\n  const { callbackRoute, logoutRoute } = walletConnectLogin\n    ? walletConnectLogin\n    : { callbackRoute: '', logoutRoute: '' };\n\n  const [initWalletLoginProvider] = useWalletConnectLogin({\n    callbackRoute,\n    logoutRoute\n  });\n\n  useEffect(() => {\n    refreshChainID();\n  }, [network]);\n\n  useEffect(() => {\n    initializeProvider();\n  }, [loginMethod]);\n\n  useEffect(() => {\n    fetchAccount();\n  }, [address, ledgerLogin, isLoggedIn]);\n\n  function refreshChainID() {\n    proxy\n      .getNetworkConfig()\n      .then((networkConfig) => {\n        dispatch(setChainID(networkConfig.ChainID.valueOf()));\n      })\n      .catch((e) => {\n        console.error('To do ', e);\n      });\n  }\n\n  async function fetchAccount() {\n    dispatch(setIsAccountLoading(true));\n    if (address && isLoggedIn) {\n      try {\n        const account = await getAccount(address);\n        dispatch(\n          setAccount({\n            balance: account.balance.toString(),\n            address,\n            nonce: account.nonce.valueOf()\n          })\n        );\n        if (ledgerAccount == null && ledgerLogin != null) {\n          dispatch(\n            setLedgerAccount({\n              index: ledgerLogin.index,\n              address\n            })\n          );\n        }\n      } catch (e) {\n        dispatch(setAccountLoadingError('Failed getting account'));\n        console.error('Failed getting account ', e);\n      }\n    }\n    dispatch(setIsAccountLoading(false));\n  }\n\n  async function tryAuthenticateWalletUser() {\n    try {\n      if (walletLogin != null) {\n        const provider = newWalletProvider(network.walletAddress);\n        const address = await getAddress();\n        if (address) {\n          dispatch(setProvider(provider));\n          dispatch(\n            loginAction({ address, loginMethod: LoginMethodsEnum.wallet })\n          );\n          const account = await getAccount(address);\n          dispatch(\n            setAccount({\n              balance: account.balance.toString(),\n              address,\n              nonce: getLatestNonce(account)\n            })\n          );\n        }\n        dispatch(setWalletLogin(null));\n      }\n    } catch (e) {\n      console.error('Failed authenticating wallet user ', e);\n    }\n  }\n\n  function setLedgerProvider() {\n    const hwWalletP = new HWProvider(proxy);\n    hwWalletP\n      .init()\n      .then((success: any) => {\n        if (!success) {\n          console.warn('Could not initialise ledger app');\n          logout();\n          return;\n        }\n        dispatch(setProvider(hwWalletP));\n      })\n      .catch((err) => {\n        console.error('Could not initialise ledger app', err);\n        logout();\n      });\n  }\n\n  async function setExtensionProvider() {\n    try {\n      const address = await getAddress();\n      const provider = ExtensionProvider.getInstance().setAddress(address);\n      const success = await provider.init();\n\n      if (success) {\n        dispatch(setProvider(provider));\n      } else {\n        console.error(\n          'Could not initialise extension, make sure Elrond wallet extension is installed.'\n        );\n      }\n    } catch (err) {\n      console.error('Unable to login to ExtensionProvider', err);\n    }\n  }\n\n  function initializeProvider() {\n    if (loginMethod == null) {\n      return;\n    }\n    switch (loginMethod) {\n      case LoginMethodsEnum.ledger: {\n        setLedgerProvider();\n        break;\n      }\n\n      case LoginMethodsEnum.walletconnect: {\n        initWalletLoginProvider(false);\n        break;\n      }\n      case LoginMethodsEnum.wallet: {\n        const provider = newWalletProvider(network.walletAddress);\n        dispatch(setProvider(provider));\n        break;\n      }\n\n      case LoginMethodsEnum.extension: {\n        setExtensionProvider();\n        break;\n      }\n\n      case LoginMethodsEnum.extra: {\n        const provider = getProvider();\n        dispatch(setProvider(provider));\n        break;\n      }\n\n      case LoginMethodsEnum.none: {\n        tryAuthenticateWalletUser();\n        break;\n      }\n      default:\n        return;\n    }\n  }\n\n  return null;\n}\n","import React from 'react';\nimport {\n  getTransactionsByHashes,\n  sendSignedTransactions\n} from 'APICalls/transactions';\nimport { OverrideDefaultBehaviourContextValueType } from './types';\n\nconst defaultValue: OverrideDefaultBehaviourContextValueType = {\n  sendSignedTransactionsAsync: sendSignedTransactions,\n  getTransactionsByHash: getTransactionsByHashes,\n  completedTransactionsDelay: 0\n};\n\nconst OverrideDefaultBehaviourContext = React.createContext(defaultValue);\n\nexport default OverrideDefaultBehaviourContext;\n","import React, { useContext, useRef } from 'react';\nimport { Address } from '@elrondnetwork/erdjs';\nimport { Signature } from '@elrondnetwork/erdjs/out/signature';\n\nimport OverrideDefaultBehaviourContext from 'contexts/OverrideDefaultBehaviourContext';\nimport newTransaction from 'models/newTransaction';\nimport { useDispatch, useSelector } from 'redux/DappProviderContext';\nimport { signedTransactionsSelector } from 'redux/selectors';\nimport { accountSelector } from 'redux/selectors';\nimport {\n  setTxSubmittedModal,\n  clearSignTransactions,\n  updateSignedTransactions\n} from 'redux/slices';\nimport {\n  TransactionBatchStatusesEnum,\n  TransactionServerStatusesEnum\n} from 'types/enums';\nimport { setNonce } from 'utils';\n\nconst TransactionSender = () => {\n  const account = useSelector(accountSelector);\n  const signedTransactions = useSelector(signedTransactionsSelector);\n  const { sendSignedTransactionsAsync } = useContext(\n    OverrideDefaultBehaviourContext\n  );\n  const sendingRef = useRef(false);\n\n  const dispatch = useDispatch();\n\n  const clearSignInfo = () => {\n    dispatch(clearSignTransactions());\n    sendingRef.current = false;\n  };\n  async function handleSendTransactions() {\n    const sessionIds = Object.keys(signedTransactions);\n    for (const sessionId of sessionIds) {\n      if (!sessionId) {\n        continue;\n      }\n\n      try {\n        const isSessionIdSigned =\n          signedTransactions[sessionId].status ===\n          TransactionBatchStatusesEnum.signed;\n        const shouldSendCurrentSession =\n          isSessionIdSigned && !sendingRef.current;\n        if (!shouldSendCurrentSession) {\n          continue;\n        }\n        const { transactions } = signedTransactions[sessionId];\n\n        if (!transactions) {\n          continue;\n        }\n        sendingRef.current = true;\n        const transactionsToSend = transactions.map((tx) => {\n          const address = new Address(tx.sender);\n          const transactionObject = newTransaction(tx);\n          const signature = new Signature(tx.signature);\n\n          transactionObject.applySignature(signature, address);\n          return transactionObject;\n        });\n        const responseHashes = await sendSignedTransactionsAsync(\n          transactionsToSend\n        );\n\n        const newStatus = TransactionServerStatusesEnum.pending;\n        const newTransactions = transactions.map((transaction) => {\n          if (responseHashes.includes(transaction.hash)) {\n            return { ...transaction, status: newStatus };\n          }\n\n          return transaction;\n        });\n\n        const submittedModalPayload = {\n          sessionId,\n          submittedMessage: 'submitted'\n        };\n\n        dispatch(setTxSubmittedModal(submittedModalPayload));\n        dispatch(\n          updateSignedTransactions({\n            sessionId,\n            status: TransactionBatchStatusesEnum.sent,\n            transactions: newTransactions\n          })\n        );\n        clearSignInfo();\n        setNonce(account.nonce + transactions.length);\n\n        history.pushState({}, document.title, '?');\n      } catch (error) {\n        console.error('Unable to send transactions', error);\n        dispatch(\n          updateSignedTransactions({\n            sessionId,\n            status: TransactionBatchStatusesEnum.fail,\n            errorMessage: (error as any).message\n          })\n        );\n        clearSignInfo();\n      } finally {\n        sendingRef.current = false;\n      }\n    }\n  }\n\n  React.useEffect(() => {\n    handleSendTransactions();\n  }, [signedTransactions, account]);\n\n  return null;\n};\n\nexport default TransactionSender;\n","import { useContext, useEffect, useRef } from 'react';\nimport OverrideDefaultBehaviourContext from 'contexts/OverrideDefaultBehaviourContext';\nimport { useDispatch } from 'redux/DappProviderContext';\nimport {\n  updateSignedTransactions,\n  updateSignedTransactionStatus\n} from 'redux/slices';\nimport {\n  TransactionBatchStatusesEnum,\n  TransactionServerStatusesEnum\n} from 'types/enums';\nimport { SignedTransactionsBodyType } from 'types/transactions';\nimport {\n  getIsTransactionCompleted,\n  getIsTransactionFailed,\n  getIsTransactionPending\n} from 'utils';\nimport { refreshAccount } from 'utils/account';\nimport { isContract, areScCallsSuccessful } from 'utils/smartContracts';\n\ninterface RetriesType {\n  [hash: string]: number;\n}\n\ninterface TransactionStatusTrackerPropsType {\n  sessionId: string;\n  transactionPayload: SignedTransactionsBodyType;\n}\n\nexport function TransactionStatusTracker({\n  sessionId,\n  transactionPayload: { transactions, status }\n}: TransactionStatusTrackerPropsType) {\n  const dispatch = useDispatch();\n  const intervalRef = useRef<any>(null);\n  const isFetchingStatusRef = useRef(false);\n  const retriesRef = useRef<RetriesType>({});\n  const timeoutRefs = useRef<string[]>([]);\n  const { getTransactionsByHash, completedTransactionsDelay } = useContext(\n    OverrideDefaultBehaviourContext\n  );\n\n  const isPending = sessionId != null && getIsTransactionPending(status);\n  const manageTimedOutTransactions = () => {\n    dispatch(\n      updateSignedTransactions({\n        sessionId,\n        status: TransactionBatchStatusesEnum.timedOut\n      })\n    );\n  };\n\n  const checkTransactionStatus = async () => {\n    try {\n      if (!isPending || transactions == null) {\n        return;\n      }\n      isFetchingStatusRef.current = true;\n\n      const pendingTransactions = transactions.reduce(\n        (\n          acc: { hash: string; previousStatus: string }[],\n          { receiver, data, status, hash }\n        ) => {\n          const isScCall = isContract(receiver, data);\n          if (\n            hash != null &&\n            !timeoutRefs.current.includes(hash) &&\n            getIsTransactionPending(status, isScCall)\n          ) {\n            acc.push({ hash, previousStatus: status });\n          }\n          return acc;\n        },\n        []\n      );\n\n      if (pendingTransactions?.length === 0) {\n        isFetchingStatusRef.current = false;\n        return;\n      }\n      const serverTransactions = await getTransactionsByHash(\n        pendingTransactions\n      );\n      for (const {\n        hash,\n        status,\n        results,\n        invalidTransaction,\n        receiver,\n        data,\n        hasStatusChanged\n      } of serverTransactions) {\n        try {\n          const isScCall = isContract(receiver, data);\n          const retriesForThisHash = retriesRef.current[hash];\n          if (retriesForThisHash > 30) {\n            // consider transaction as stuck after 1 minute\n            manageTimedOutTransactions();\n            return;\n          }\n          if (!invalidTransaction) {\n            if (!getIsTransactionPending(status)) {\n              if (isScCall && !getIsTransactionCompleted(status)) {\n                const isScCallCompleted = areScCallsSuccessful(results);\n                if (isScCallCompleted) {\n                  timeoutRefs.current.push(hash);\n                  setTimeout(\n                    () =>\n                      dispatch(\n                        updateSignedTransactionStatus({\n                          sessionId,\n                          status: TransactionServerStatusesEnum.completed,\n                          transactionHash: hash\n                        })\n                      ),\n                    completedTransactionsDelay\n                  );\n                }\n              }\n\n              if (hasStatusChanged) {\n                dispatch(\n                  updateSignedTransactionStatus({\n                    sessionId,\n                    status,\n                    transactionHash: hash\n                  })\n                );\n              }\n\n              refreshAccount();\n\n              if (getIsTransactionFailed(status)) {\n                const resultWithError = results.find(\n                  (scResult) => scResult?.returnMessage !== ''\n                );\n\n                dispatch(\n                  updateSignedTransactionStatus({\n                    transactionHash: hash,\n                    sessionId,\n                    status: TransactionServerStatusesEnum.fail,\n                    errorMessage: resultWithError?.returnMessage\n                  })\n                );\n                dispatch(\n                  updateSignedTransactions({\n                    sessionId,\n                    status: TransactionBatchStatusesEnum.fail,\n                    errorMessage: resultWithError?.returnMessage\n                  })\n                );\n              }\n            } else {\n              retriesRef.current[hash] = retriesRef.current[hash]\n                ? retriesRef.current[hash] + 1\n                : 1;\n            }\n          } else {\n            retriesRef.current[hash] = retriesRef.current[hash]\n              ? retriesRef.current[hash] + 1\n              : 1;\n          }\n        } catch (error) {\n          console.error(error);\n          manageTimedOutTransactions();\n        }\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  useEffect(() => {\n    if (isPending) {\n      intervalRef.current = setInterval(() => {\n        checkTransactionStatus();\n      }, 2000);\n    } else {\n      clearInterval(intervalRef.current);\n    }\n    return () => {\n      clearInterval(intervalRef.current);\n    };\n  }, [isPending]);\n  return null;\n}\n\nexport default TransactionStatusTracker;\n","import React from 'react';\nimport { useGetPendingTransactions } from 'services/transactions';\nimport { SignedTransactionsBodyType } from 'types/transactions';\nimport TransactionStatusTracker from './TransactionStatusTracker';\n\nexport function TransactionsTracker() {\n  const { pendingTransactionsArray } = useGetPendingTransactions();\n\n  return (\n    <React.Fragment>\n      {pendingTransactionsArray.map(([sessionId, transactionPayload]) => (\n        <TransactionStatusTracker\n          key={sessionId}\n          sessionId={sessionId}\n          transactionPayload={transactionPayload as SignedTransactionsBodyType}\n        />\n      ))}\n    </React.Fragment>\n  );\n}\n\nexport default TransactionsTracker;\n","import axios from 'axios';\nimport { configEndpoint } from 'constants/network';\n\nexport async function getServerConfiguration(environment: string) {\n  try {\n    const { data } = await axios.get(configEndpoint[environment]);\n    if (data != null) {\n      return data;\n    }\n  } catch (err) {\n    console.error('error fetching configuration for ', environment);\n    return null;\n  }\n}\n","import { useSelector } from 'redux/DappProviderContext';\nimport { networkConfigSelector } from 'redux/selectors';\n\nexport const useGetNetworkConfig = () => {\n  return useSelector(networkConfigSelector);\n};\n\nexport default useGetNetworkConfig;\n","import { useDispatch, useSelector } from 'redux/DappProviderContext';\nimport { notificationModalSelector } from 'redux/selectors';\nimport { clearNotificationModal } from 'redux/slices';\n\nexport function useGetNotification() {\n  const notification = useSelector(notificationModalSelector);\n  const dispatch = useDispatch();\n  const clearNotification = () => dispatch(clearNotificationModal());\n  return { notification, clearNotification };\n}\n","import { useSelector } from 'redux/DappProviderContext';\nimport { transactionDisplayInfoSelector } from 'redux/selectors';\nimport { RootState } from 'redux/store';\n\nexport function useGetTransactionDisplayInfo(toastId: string | null) {\n  return useSelector((state: RootState) =>\n    transactionDisplayInfoSelector(state, toastId)\n  );\n}\n","import React from 'react';\nimport { WalletProvider } from '@elrondnetwork/erdjs';\nimport qs from 'qs';\nimport { dappInitRoute, walletSignSession } from 'constants/index';\nimport { useDispatch, useSelector } from 'redux/DappProviderContext';\nimport { networkSelector } from 'redux/selectors';\nimport { updateSignedTransaction } from 'redux/slices';\nimport { TransactionBatchStatusesEnum } from 'types/enums';\nimport { parseTransactionAfterSigning } from 'utils';\n\nexport function useParseSignedTransactions() {\n  const { search } = window.location;\n  const network = useSelector(networkSelector);\n  const dispatch = useDispatch();\n\n  React.useEffect(() => {\n    if (search != null) {\n      const searchData = qs.parse(search.replace('?', ''));\n\n      if (searchData && walletSignSession in searchData) {\n        const signSessionId: number = (searchData as any)[walletSignSession];\n\n        const signedTransactions = new WalletProvider(\n          `${network.walletAddress}${dappInitRoute}`\n        ).getTransactionsFromWalletUrl();\n        if (signedTransactions.length > 0) {\n          dispatch(\n            updateSignedTransaction({\n              [signSessionId.toString()]: {\n                status: TransactionBatchStatusesEnum.signed,\n                transactions: signedTransactions.map((tx) =>\n                  parseTransactionAfterSigning(tx)\n                )\n              }\n            })\n          );\n        }\n      }\n    }\n  }, [search]);\n}\n\nexport default useParseSignedTransactions;\n","import { useEffect, useRef, useState } from 'react';\nimport {\n  Address,\n  Nonce,\n  Transaction,\n  ExtensionProvider\n} from '@elrondnetwork/erdjs';\nimport { walletSignSession } from 'constants/index';\nimport { useParseSignedTransactions } from 'hooks/transactions/useParseSignedTransactions';\nimport { useDispatch, useSelector } from 'redux/DappProviderContext';\nimport {\n  addressSelector,\n  providerSelector,\n  proxySelector\n} from 'redux/selectors';\nimport { transactionsToSignSelector } from 'redux/selectors';\nimport {\n  clearSignTransactions,\n  clearTransactionsInfoForSessionId,\n  updateSignedTransaction\n} from 'redux/slices';\nimport { LoginMethodsEnum, TransactionBatchStatusesEnum } from 'types/enums';\nimport { getLatestNonce, getProviderType } from 'utils';\nimport { buildReplyUrl } from 'utils';\nimport { parseTransactionAfterSigning } from 'utils';\n\nexport function useSignTransactions() {\n  const provider = useSelector(providerSelector);\n  const proxy = useSelector(proxySelector);\n  const address = useSelector(addressSelector);\n  const transactionsToSign = useSelector(transactionsToSignSelector);\n  const savedCallback = useRef('/');\n  const dispatch = useDispatch();\n  const [error, setError] = useState<string | null>(null);\n\n  useParseSignedTransactions();\n\n  const providerType = getProviderType(provider);\n\n  function clearSignInfo(sessionId?: string) {\n    dispatch(clearSignTransactions());\n    dispatch(clearTransactionsInfoForSessionId(sessionId));\n\n    if (provider instanceof ExtensionProvider) {\n      ExtensionProvider.getInstance()?.cancelAction?.();\n    }\n  }\n\n  function onCancel(e: string, sessionId?: string) {\n    //this is triggered by abort action, so no need to show error again\n    if (e !== 'Transaction cancelled') {\n      setError(e);\n    }\n    clearSignInfo(sessionId);\n  }\n\n  function onAbort(sessionId?: string) {\n    setError(null);\n    clearSignInfo(sessionId);\n  }\n\n  const signTransactions = async () => {\n    if (transactionsToSign) {\n      const { sessionId, transactions, callbackRoute } = transactionsToSign;\n      //the callback will go to undefined if the transaction is cancelled, so we save the most recent one for a valid transaction\n      savedCallback.current = callbackRoute;\n      try {\n        if (provider == null) {\n          console.error(\n            'You need a signer/valid signer to send a transaction, use either WalletProvider, LedgerProvider or WalletConnect'\n          );\n          return;\n        }\n\n        const proxyAccount = await proxy.getAccount(new Address(address));\n        const latestNonce = getLatestNonce(proxyAccount);\n\n        transactions.forEach((tx: Transaction, i: number) => {\n          tx.setNonce(new Nonce(latestNonce + i));\n        });\n\n        switch (providerType) {\n          case LoginMethodsEnum.wallet:\n            const callbackUrl = buildReplyUrl({\n              callbackUrl: `${window.location.origin}${callbackRoute}`,\n              urlParams: { [walletSignSession]: sessionId }\n            });\n\n            dispatch(clearSignTransactions());\n            provider.signTransactions(transactions, {\n              callbackUrl: encodeURIComponent(callbackUrl)\n            });\n\n            break;\n          case LoginMethodsEnum.extension:\n          case LoginMethodsEnum.walletconnect:\n          case LoginMethodsEnum.extra:\n            signTransactionsWithProvider();\n            break;\n        }\n      } catch (err) {\n        const errMessage = 'error when signing';\n        console.error(errMessage, err);\n        onCancel(err?.message || errMessage, sessionId);\n        dispatch(\n          updateSignedTransaction({\n            [sessionId]: {\n              status: TransactionBatchStatusesEnum.cancelled\n            }\n          })\n        );\n      }\n    }\n  };\n\n  async function signTransactionsWithProvider() {\n    try {\n      const {\n        sessionId,\n        transactions,\n        callbackRoute,\n        sessionInformation,\n        redirectAfterSign\n      } = transactionsToSign!;\n      if (transactions?.length) {\n        const initialized = await provider.init();\n        if (!initialized) {\n          return;\n        }\n        try {\n          const signedTransactions: Transaction[] =\n            await provider.signTransactions(transactions);\n\n          const signingDisabled =\n            !signedTransactions ||\n            (signedTransactions &&\n              Object.keys(signedTransactions).length !== transactions?.length);\n          if (!signingDisabled && signedTransactions) {\n            dispatch(\n              updateSignedTransaction({\n                [sessionId]: {\n                  status: TransactionBatchStatusesEnum.signed,\n                  sessionInformation,\n                  transactions: Object.values(signedTransactions).map((tx) =>\n                    parseTransactionAfterSigning(tx)\n                  )\n                }\n              })\n            );\n            if (\n              redirectAfterSign &&\n              !window.location.pathname.includes(callbackRoute)\n            ) {\n              window.location.href = callbackRoute;\n            }\n          }\n        } catch (err) {\n          console.error('error signing transaction', err);\n          onCancel(err.message, sessionId);\n        }\n      }\n    } catch (err) {\n      console.error('error signing transaction', err);\n      onCancel(err.message);\n    }\n  }\n\n  useEffect(() => {\n    if (transactionsToSign?.sessionId) {\n      signTransactions();\n    }\n  }, [transactionsToSign?.sessionId]);\n  const hasTransactions = transactionsToSign?.transactions;\n  return {\n    onAbort,\n    error,\n    hasTransactions,\n    transactions: transactionsToSign?.transactions,\n    sessionId: transactionsToSign?.sessionId,\n    callbackRoute: savedCallback.current\n  };\n}\n\nexport default useSignTransactions;\n","import { useSelector } from 'redux/DappProviderContext';\nimport { signedTransactionsSelector } from 'redux/selectors';\n\nexport function useGetSignedTransactions() {\n  return useSelector(signedTransactionsSelector);\n}\n\nexport default useGetSignedTransactions;\n","let swr: any = {};\ntry {\n  swr = require('swr');\n} catch (err) {}\n\nexport default swr;\n","import useGetNetworkConfig from 'hooks/useGetNetworkConfig';\n\nimport useSwr from 'optionalPackages/swr';\n\ninterface TokenOptionType {\n  tokenLabel: string;\n  tokenDenomination: number;\n  tokenAvatar: string;\n  error?: string;\n}\n\ninterface TokenInfoResponse {\n  identifier: string;\n  name: string;\n  ticker: string;\n  decimals: number;\n  assets: {\n    description: string;\n    status: string;\n    svgUrl: string;\n  };\n}\n\nconst fetcher = (url: string) => fetch(url).then((res) => res.json());\n\nexport function useGetTokenDetails({\n  tokenId\n}: {\n  tokenId: string;\n}): TokenOptionType {\n  const { network } = useGetNetworkConfig();\n  if (!tokenId) {\n    return {\n      tokenDenomination: Number(network.egldDenomination),\n      tokenLabel: '',\n      tokenAvatar: ''\n    };\n  }\n  const {\n    data: selectedToken,\n    error\n  }: { data?: TokenInfoResponse; error?: string } = useSwr(\n    `${network.apiAddress}/tokens/${tokenId}`,\n    fetcher\n  );\n\n  const tokenDenomination = selectedToken\n    ? selectedToken?.decimals\n    : Number(network.egldDenomination);\n  const tokenLabel = selectedToken ? selectedToken?.name : '';\n  const tokenAvatar = selectedToken ? `${selectedToken?.assets?.svgUrl}` : '';\n\n  return { tokenDenomination, tokenLabel, tokenAvatar, error };\n}\n\nexport default useGetTokenDetails;\n","import { useEffect, useState } from 'react';\nimport { Transaction } from '@elrondnetwork/erdjs';\nimport { useDispatch, useSelector } from 'redux/DappProviderContext';\nimport {\n  egldLabelSelector,\n  providerSelector,\n  transactionsToSignSelector\n} from 'redux/selectors';\nimport {\n  clearSignTransactions,\n  setSignTransactionsError,\n  updateSignedTransaction\n} from 'redux/slices/transactionsSlice';\nimport { useParseMultiEsdtTransferData } from 'services/transactions/hooks/useParseMultiEsdtTransferData';\nimport { ActiveLedgerTransactionType, MultiSignTxType } from 'types';\nimport { TransactionBatchStatusesEnum } from 'types/enums';\nimport { isTokenTransfer } from 'utils';\nimport { parseTransactionAfterSigning } from 'utils';\n\ninterface UseSignTransactionsWithLedgerPropsType {\n  onCancel: () => void;\n}\n\ntype LedgerSignedTransactions = Record<number, Transaction>;\n\ninterface UseSignTransactionsWithLedgerReturnType {\n  allTransactions: MultiSignTxType[];\n  onSignTransaction: () => void;\n  onNext: () => void;\n  onPrev: () => void;\n  onAbort: () => void;\n  waitingForDevice: boolean;\n  isLastTransaction: boolean;\n  currentStep: number;\n  callbackRoute?: string;\n  signedTransactions?: LedgerSignedTransactions;\n  currentTransaction: ActiveLedgerTransactionType | null;\n}\n\nexport function useSignTransactionsWithLedger({\n  onCancel\n}: UseSignTransactionsWithLedgerPropsType): UseSignTransactionsWithLedgerReturnType {\n  const transactionsToSign = useSelector(transactionsToSignSelector);\n\n  const { sessionId, transactions, callbackRoute, redirectAfterSign } =\n    transactionsToSign || {};\n  const [currentStep, setCurrentStep] = useState(0);\n  const [signedTransactions, setSignedTransactions] =\n    useState<LedgerSignedTransactions>();\n  const { getTxInfoByDataField, allTransactions } =\n    useParseMultiEsdtTransferData({ transactions });\n  const [currentTransaction, setCurrentTransaction] =\n    useState<ActiveLedgerTransactionType | null>(null);\n  const provider = useSelector(providerSelector);\n  const egldLabel = useSelector(egldLabelSelector);\n  const [waitingForDevice, setWaitingForDevice] = useState(false);\n  const dispatch = useDispatch();\n\n  const isLastTransaction = currentStep === allTransactions.length - 1;\n\n  useEffect(() => {\n    extractTransactionsInfo();\n  }, [currentStep, allTransactions]);\n\n  function extractTransactionsInfo() {\n    const tx = allTransactions[currentStep];\n    if (tx == null) {\n      return;\n    }\n    const { transaction, multiTxData } = tx;\n    const dataField = transaction.getData().toString();\n    const transactionTokenInfo = getTxInfoByDataField(\n      transaction.getData().toString(),\n      multiTxData\n    );\n    const { tokenId } = transactionTokenInfo;\n\n    const isTokenTransaction = Boolean(\n      tokenId && isTokenTransfer({ tokenId, erdLabel: egldLabel })\n    );\n\n    setCurrentTransaction({\n      transaction,\n      transactionTokenInfo,\n      isTokenTransaction,\n      dataField\n    });\n  }\n\n  function reset() {\n    setCurrentStep(0);\n    setSignedTransactions(undefined);\n    setWaitingForDevice(false);\n  }\n\n  async function sign() {\n    try {\n      if (currentTransaction == null || sessionId == null) {\n        return;\n      }\n      setWaitingForDevice(true);\n      const signedTx = await provider.signTransaction(\n        currentTransaction.transaction\n      );\n      const newSignedTx = { [currentStep]: signedTx };\n      const newSignedTransactions: any = signedTransactions\n        ? { ...signedTransactions, ...newSignedTx }\n        : newSignedTx;\n      setSignedTransactions(newSignedTransactions);\n      if (!isLastTransaction) {\n        setCurrentStep((exising) => exising + 1);\n      } else if (newSignedTransactions) {\n        dispatch(clearSignTransactions());\n        dispatch(\n          updateSignedTransaction({\n            [sessionId]: {\n              status: TransactionBatchStatusesEnum.signed,\n              transactions: Object.values(newSignedTransactions).map((tx) =>\n                parseTransactionAfterSigning(tx as Transaction, true)\n              )\n            }\n          })\n        );\n        reset();\n        if (\n          callbackRoute != null &&\n          redirectAfterSign &&\n          !window.location.pathname.includes(callbackRoute)\n        ) {\n          window.location.href = callbackRoute;\n        }\n      }\n    } catch (err) {\n      console.error(err, 'sign error');\n      reset();\n      dispatch(setSignTransactionsError(err.message));\n    }\n  }\n\n  function signTx() {\n    try {\n      if (currentTransaction == null) {\n        return;\n      }\n      const signature = currentTransaction.transaction.getSignature();\n      if (signature) {\n        if (!isLastTransaction) {\n          setCurrentStep((exising) => exising + 1);\n        }\n      } else {\n        // currently code doesn't reach here because getSignature throws error if none is found\n        sign();\n      }\n    } catch {\n      // the only way to check if tx has signature is with try catch\n      sign();\n    }\n  }\n\n  function onAbort() {\n    if (isFirst) {\n      dispatch(clearSignTransactions());\n      if (callbackRoute != null && redirectAfterSign) {\n        window.location.href = callbackRoute;\n      }\n    } else {\n      setCurrentStep((existing) => existing - 1);\n    }\n  }\n\n  const continueWithoutSigning =\n    currentTransaction?.transactionTokenInfo?.type &&\n    currentTransaction?.transactionTokenInfo?.multiTxData &&\n    !currentTransaction?.dataField.endsWith(\n      currentTransaction?.transactionTokenInfo?.multiTxData\n    );\n\n  function onSignTransaction() {\n    if (continueWithoutSigning) {\n      setCurrentStep((exising) => exising + 1);\n    } else {\n      signTx();\n    }\n  }\n\n  function onNext() {\n    setCurrentStep((current) => {\n      const nextStep = current + 1;\n      if (nextStep > allTransactions?.length) {\n        return current;\n      }\n      return nextStep;\n    });\n  }\n\n  function onPrev() {\n    if (currentStep === 0) {\n      onCancel();\n    }\n    setCurrentStep((current) => {\n      const nextStep = current - 1;\n      if (nextStep < 0) {\n        return current;\n      }\n      return nextStep;\n    });\n  }\n\n  const isFirst = currentStep === 0;\n\n  return {\n    allTransactions,\n    onSignTransaction,\n    onNext,\n    onPrev,\n    waitingForDevice,\n    onAbort,\n    isLastTransaction,\n    callbackRoute,\n    currentStep,\n    signedTransactions,\n    currentTransaction\n  };\n}\n\nexport default useSignTransactionsWithLedger;\n","import { useSelector } from 'redux/DappProviderContext';\nimport { signTransactionsErrorSelector } from 'redux/selectors';\n\nexport const useGetSignTransactionsError = () => {\n  return useSelector(signTransactionsErrorSelector);\n};\n\nexport default useGetSignTransactionsError;\n","import { useSelector } from 'redux/DappProviderContext';\nimport { accountInfoSelector } from 'redux/selectors';\n\nexport const useGetAccountInfo = () => {\n  return useSelector(accountInfoSelector);\n};\n\nexport default useGetAccountInfo;\n","import { useSelector } from 'redux/DappProviderContext';\nimport { isLoggedInSelector, loginInfoSelector } from 'redux/selectors';\n\nexport const useGetLoginInfo = () => {\n  const loginInfo = useSelector(loginInfoSelector);\n  const isLoggedIn = useSelector(isLoggedInSelector);\n  return { ...loginInfo, isLoggedIn };\n};\n\nexport default useGetLoginInfo;\n","import { useSelector } from 'redux/DappProviderContext';\nimport { providerSelector } from 'redux/selectors';\nimport { getProviderType } from 'utils';\n\nexport const useGetAccountProvider = () => {\n  const provider = useSelector(providerSelector);\n  const providerType = getProviderType(provider);\n  return { provider, providerType };\n};\n\nexport default useGetAccountProvider;\n","import axios from 'axios';\nimport {\n  addressSelector,\n  networkSelector,\n  shardSelector\n} from 'redux/selectors';\n\nimport { setAccountShard } from 'redux/slices';\nimport { store } from 'redux/store';\n\nexport default async function getAccountShard() {\n  const appState = store.getState();\n  const network = networkSelector(appState);\n  const address = addressSelector(appState);\n  const shard = shardSelector(appState);\n\n  try {\n    if (shard == null && address) {\n      const { data: account } = await axios.get(\n        `${network.apiAddress}/accounts/${address}`\n      );\n      store.dispatch(setAccountShard(account.shard));\n      return account.shard;\n    } else {\n      return shard;\n    }\n  } catch (err) {\n    console.error(err);\n    return null;\n  }\n}\n","import { useEffect, useState } from 'react';\nimport { Address } from '@elrondnetwork/erdjs/out';\nimport { getServerConfiguration } from 'APICalls/configuration/getServerConfiguration';\nimport { fallbackConfigurations } from 'constants/network';\nimport { useGetAccountInfo } from 'hooks';\nimport { loginAction } from 'redux/commonActions';\nimport { useDispatch } from 'redux/DappProviderContext';\nimport { initializeExtraActions } from 'redux/slices/extraActionsSlice';\nimport { initializeNetworkConfig } from 'redux/slices/networkConfigSlice';\nimport { CustomNetworkType, EnvironmentsEnum, ExtraActionsType } from 'types';\nimport { logout } from 'utils';\nimport getAccountShard from 'utils/account/getAccountShard';\n\ninterface AppInitializerPropsType {\n  customNetworkConfig?: CustomNetworkType;\n  children: any;\n  environment: EnvironmentsEnum;\n  extraActions?: ExtraActionsType;\n}\n\nexport function AppInitializer({\n  customNetworkConfig = {},\n  children,\n  environment,\n  extraActions\n}: AppInitializerPropsType) {\n  const [initialized, setInitialized] = useState(false);\n  const account = useGetAccountInfo();\n  const { address, publicKey } = account;\n  const dispatch = useDispatch();\n\n  async function initializeNetwork() {\n    const fallbackConfig = fallbackConfigurations[environment];\n    if (fallbackConfig != null) {\n      dispatch(\n        initializeNetworkConfig({ ...fallbackConfig, ...customNetworkConfig })\n      );\n    }\n    const serverConfig = await getServerConfiguration(environment);\n    if (serverConfig != null) {\n      dispatch(\n        initializeNetworkConfig({ ...serverConfig, ...customNetworkConfig })\n      );\n    }\n  }\n\n  function initializeCustomExtraActions() {\n    if (extraActions != null) {\n      try {\n        extraActions?.init({\n          onLogin: (address, loginMethod) => {\n            dispatch(loginAction({ address, loginMethod }));\n          },\n          log: (word) => {\n            console.log('dapp log: ', word);\n          }\n        });\n        dispatch(initializeExtraActions(extraActions));\n      } catch (err) {\n        console.error('Unable to initalize extraActions', err);\n      }\n    }\n  }\n\n  async function initializeApp() {\n    initializeCustomExtraActions();\n    await initializeNetwork();\n    setInitialized(true);\n\n    //sync redux with shardId from server\n    getAccountShard();\n  }\n\n  useEffect(() => {\n    if (address) {\n      const pubKey = new Address(address).hex();\n      if (pubKey !== publicKey) {\n        logout();\n      }\n    }\n  }, [address, publicKey]);\n\n  useEffect(() => {\n    initializeApp();\n  }, [customNetworkConfig, environment]);\n\n  return initialized ? children : null;\n}\n\nexport default AppInitializer;\n","import React, { useCallback } from 'react';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\n\nimport {\n  getTransactionsByHashes,\n  sendSignedTransactions\n} from 'APICalls/transactions';\nimport ProviderInitializer from 'components/ProviderInitializer';\nimport TransactionSender from 'components/TransactionSender';\nimport TransactionsTracker from 'components/TransactionsTracker';\nimport OverrideDefaultBehaviourContext from 'contexts/OverrideDefaultBehaviourContext';\nimport {\n  GetTransactionsByHashesType,\n  SendSignedTransactionsAsyncType\n} from 'contexts/types';\nimport { DappCoreContext } from 'redux/DappProviderContext';\nimport { CustomNetworkType, EnvironmentsEnum, ExtraActionsType } from 'types';\nimport AppInitializer from 'wrappers/AppInitializer';\n\nimport { store, persistor } from './store';\n\ninterface DappProviderPropsType {\n  children: React.ReactChildren | React.ReactElement;\n  customNetworkConfig?: CustomNetworkType;\n  extraActions?: ExtraActionsType;\n  completedTransactionsDelay?: number;\n  signWithoutSending?: boolean;\n  environment: 'testnet' | 'mainnet' | 'devnet';\n  sendSignedTransactionsAsync?: SendSignedTransactionsAsyncType;\n  getTransactionsByHash?: GetTransactionsByHashesType;\n}\n\nexport const DappProvider = ({\n  children,\n  customNetworkConfig = {},\n  extraActions,\n  completedTransactionsDelay = 0,\n  signWithoutSending = false,\n  environment,\n  sendSignedTransactionsAsync = sendSignedTransactions,\n  getTransactionsByHash = getTransactionsByHashes\n}: DappProviderPropsType) => {\n  const memoizedSendSignedTransactionsAsync = useCallback(\n    sendSignedTransactionsAsync,\n    []\n  );\n\n  const memoizedGetTransactionsByHash = useCallback(getTransactionsByHash, []);\n  return (\n    <Provider context={DappCoreContext} store={store}>\n      <PersistGate persistor={persistor} loading={null}>\n        <OverrideDefaultBehaviourContext.Provider\n          value={{\n            sendSignedTransactionsAsync: memoizedSendSignedTransactionsAsync,\n            getTransactionsByHash: memoizedGetTransactionsByHash,\n            completedTransactionsDelay\n          }}\n        >\n          <AppInitializer\n            environment={environment as EnvironmentsEnum}\n            customNetworkConfig={customNetworkConfig}\n            extraActions={extraActions}\n          >\n            <ProviderInitializer />\n            {!signWithoutSending && <TransactionSender />}\n            <TransactionsTracker />\n            {children}\n          </AppInitializer>\n        </OverrideDefaultBehaviourContext.Provider>\n      </PersistGate>\n    </Provider>\n  );\n};\n","import React, { useRef } from 'react';\nimport { useSelector } from 'redux/DappProviderContext';\nimport {\n  isAccountLoadingSelector,\n  isLoggedInSelector,\n  walletLoginSelector\n} from 'redux/selectors';\n\nimport { RouteType } from 'types';\n\nconst AuthenticatedRoutesWrapper = ({\n  children,\n  routes,\n  unlockRoute,\n  onRedirect\n}: {\n  children: React.ReactNode;\n  routes: RouteType[];\n  unlockRoute: string;\n  onRedirect?: (unlockRoute?: string) => void;\n}) => {\n  const isLoggedIn = useSelector(isLoggedInSelector);\n\n  const isAccountLoading = useSelector(isAccountLoadingSelector);\n\n  const walletLogin = useSelector(walletLoginSelector);\n  const { pathname } = window.location;\n\n  const authenticatedRoutesRef = useRef(\n    routes.filter((route) => Boolean(route.authenticatedRoute))\n  );\n\n  const isOnAuthenticatedRoute = authenticatedRoutesRef.current.some(\n    ({ path }) => pathname === path\n  );\n\n  const shouldRedirect =\n    isOnAuthenticatedRoute && !isLoggedIn && walletLogin == null;\n\n  if (isAccountLoading || walletLogin) {\n    return null;\n  }\n\n  if (shouldRedirect) {\n    if (onRedirect) {\n      onRedirect(unlockRoute);\n    } else {\n      window.location.href = unlockRoute;\n    }\n    return null;\n  }\n\n  return <React.Fragment>{children}</React.Fragment>;\n};\n\nexport default AuthenticatedRoutesWrapper;\n","import { Address } from '@elrondnetwork/erdjs';\n\nexport class TransactionParameter {\n  sender: Address;\n  receiver: Address;\n  functionName: string;\n  inputParameters: string[];\n  outputParameters: string[];\n\n  constructor(\n    sender: Address,\n    receiver: Address,\n    functionName: string,\n    inputParameters: string[],\n    outputParameters: string[]\n  ) {\n    this.sender = sender;\n    this.receiver = receiver;\n    this.functionName = functionName;\n    this.inputParameters = inputParameters;\n    this.outputParameters = outputParameters;\n  }\n}\n","import React from 'react';\nimport { wrapperClassName } from 'utils';\n\nexport const withClassNameWrapper =\n  (Component: any) =>\n  ({ ...props }) =>\n    (\n      <span className={wrapperClassName}>\n        <Component {...props} />\n      </span>\n    );\n","import React from 'react';\nimport { validation } from '@elrondnetwork/dapp-utils';\nimport {\n  denomination as configDenomination,\n  decimals as configDecimals\n} from 'constants/index';\nimport { denominate, getEgldLabel } from 'utils';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\n\nexport interface DenominateType {\n  value: string;\n  showLastNonZeroDecimal?: boolean;\n  showLabel?: boolean;\n  token?: string;\n  decimals?: number;\n  denomination?: number;\n  'data-testid'?: string;\n}\n\nconst denominateInvalid = (props: DenominateType) => {\n  return (\n    <span\n      data-testid={\n        props['data-testid'] ? props['data-testid'] : 'denominateComponent'\n      }\n    >\n      <span className='int-amount'>...</span>\n    </span>\n  );\n};\n\nconst denominateValid = (props: DenominateType, erdLabel: string) => {\n  const { value, showLastNonZeroDecimal = false, showLabel = true } = props;\n  const decimals =\n    props.decimals !== undefined ? props.decimals : configDecimals;\n  const denomination =\n    props.denomination !== undefined ? props.denomination : configDenomination;\n\n  const denominatedValue = denominate({\n    input: value,\n    denomination,\n    decimals,\n    showLastNonZeroDecimal,\n    addCommas: true\n  });\n\n  const valueParts = denominatedValue.split('.');\n  const hasNoDecimals = valueParts.length === 1;\n  const isNotZero = denominatedValue !== '0';\n\n  if (decimals > 0 && hasNoDecimals && isNotZero) {\n    let zeros = '';\n\n    for (let i = 1; i <= decimals; i++) {\n      zeros = zeros + '0';\n    }\n\n    valueParts.push(zeros);\n  }\n\n  return (\n    <span\n      data-testid={\n        props['data-testid'] ? props['data-testid'] : 'denominateComponent'\n      }\n    >\n      <span className='int-amount'>{valueParts[0]}</span>\n      {valueParts.length > 1 && (\n        <span className='decimals'>.{valueParts[1]}</span>\n      )}\n      {showLabel && (\n        <span className={`symbol ${props.token ? 'text-muted' : ''}`}>\n          &nbsp;{props.token ? props.token : erdLabel}\n        </span>\n      )}\n    </span>\n  );\n};\n\nconst Denominate = (props: DenominateType & { egldLabel?: string }) => {\n  const { value } = props;\n\n  return !validation.stringIsInteger(value)\n    ? denominateInvalid(props)\n    : denominateValid(props, props.egldLabel || '');\n};\n\nconst DenominateWrapper = (props: DenominateType) => {\n  const egldLabel = getEgldLabel();\n  const denominateProps = { ...props, egldLabel };\n  return <Denominate {...denominateProps} />;\n};\n\nexport default withClassNameWrapper(DenominateWrapper);\n","let fontawesomeFreeSolidIcons: any = {};\ntry {\n  fontawesomeFreeSolidIcons = require('@fortawesome/free-solid-svg-icons');\n} catch (err) {}\n\nexport default fontawesomeFreeSolidIcons;\n","let ReactFontawesome: any = {};\ntry {\n  ReactFontawesome = require('@fortawesome/react-fontawesome');\n} catch (err) {}\n\nexport default ReactFontawesome;\n","import React from 'react';\nimport { useGetNetworkConfig } from 'hooks';\n\nimport icons from 'optionalPackages/fortawesome-free-solid-svg-icons';\nimport ReactFontawesome from 'optionalPackages/react-fontawesome';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\n\nconst ExplorerLink = ({\n  page,\n  text,\n  className\n}: {\n  page: string;\n  text?: any;\n  className?: string;\n}) => {\n  const {\n    network: { explorerAddress }\n  } = useGetNetworkConfig();\n  return (\n    <a\n      href={`${explorerAddress}${page}`}\n      {...{\n        target: '_blank'\n      }}\n      className={`link-style ${className}`}\n    >\n      {text ? (\n        <React.Fragment>{text}</React.Fragment>\n      ) : (\n        <ReactFontawesome.FontAwesomeIcon\n          icon={icons.faSearch}\n          className='text-secondary'\n        />\n      )}\n    </a>\n  );\n};\n\nexport default withClassNameWrapper(ExplorerLink);\n","import React from 'react';\nimport ReactFontawesome from 'optionalPackages/react-fontawesome';\nimport { useExtensionLogin } from 'services';\nimport { getGeneratedClasses } from 'utils';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\nimport { ExtensionLoginButtonPropsType } from './types';\n\nconst ExtensionLoginButton: (\n  props: ExtensionLoginButtonPropsType\n) => JSX.Element = ({\n  token,\n  className = 'extension-login',\n  children,\n  callbackRoute,\n  buttonClassName,\n  loginButtonText = 'Maiar DeFi Wallet',\n  redirectAfterLogin = false,\n  shouldRenderDefaultCss = true\n}) => {\n  const [onInitiateLogin] = useExtensionLogin({\n    callbackRoute,\n    token,\n    redirectAfterLogin\n  });\n  const classes = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    wrapper: `btn btn-primary px-sm-4 m-1 mx-sm-3 ${\n      buttonClassName != null ? buttonClassName : ''\n    }`,\n    loginText: 'text-left',\n    noExtensionButtonWrapper: 'btn btn-unlock d-inline-block',\n    noExtensionButtonContent:\n      'd-flex justify-content-between align-items-center',\n    noExtensionButtonTitle: 'title',\n    noExtensionButtonIcon: ''\n  });\n\n  const handleLogin = () => {\n    onInitiateLogin();\n  };\n\n  return !window.elrondWallet ? (\n    <a\n      rel='noreferrer'\n      href='https://chrome.google.com/webstore/detail/dngmlblcodfobpdpecaadgfbcggfjfnm?authuser=0&hl=en'\n      target='_blank'\n      className={classes.noExtensionButtonWrapper}\n    >\n      <div className={classes.noExtensionButtonContent}>\n        <div className={classes.noExtensionButtonTitle}>Maiar DeFi Wallet</div>\n        <ReactFontawesome.FontAwesomeIcon\n          className={classes.noExtensionButtonIcon}\n          icon={ReactFontawesome.faArrowRight}\n        />\n      </div>\n    </a>\n  ) : (\n    <button onClick={handleLogin} className={classes.wrapper}>\n      {children || <span className={classes.loginText}>{loginButtonText}</span>}\n    </button>\n  );\n};\n\nexport default withClassNameWrapper(ExtensionLoginButton);\n","let ReactBootstrap: any = {};\ntry {\n  ReactBootstrap = require('react-bootstrap');\n} catch (err) {}\n\nexport default ReactBootstrap;\n","import React from 'react';\nimport icons from 'optionalPackages/fortawesome-free-solid-svg-icons';\nimport ReactBootstrap from 'optionalPackages/react-bootstrap';\nimport ReactFontawesome from 'optionalPackages/react-fontawesome';\nimport { wrapperClassName } from 'utils';\n\nconst ModalContainer = ({\n  children,\n  noSpacer,\n  className,\n  title,\n  onClose\n}: {\n  children: React.ReactNode;\n  noSpacer?: boolean;\n  className?: string;\n  title: React.ReactNode;\n  onClose?: () => void;\n}) => {\n  return (\n    <ReactBootstrap.Modal\n      show\n      backdrop='static'\n      onHide={onClose}\n      className={`modal-container ${\n        className ? className : ''\n      } ${wrapperClassName}`}\n      animation={false}\n      centered\n    >\n      <div className='modal-card card w-100'>\n        <div className='card-title h5 mb-0'>\n          <div className='d-flex justify-content-between align-items-center pt-spacer px-spacer mb-0'>\n            <div className={'px-3'}>{title}</div>\n            <button\n              type='button'\n              className='btn btn-light px-3 py-2'\n              onClick={onClose}\n            >\n              <ReactFontawesome.FontAwesomeIcon\n                size='lg'\n                icon={icons.faTimes}\n              />\n            </button>\n          </div>\n        </div>\n\n        <div\n          className={`modal-card-body text-center ${\n            noSpacer ? 'p-0' : 'p-spacer'\n          }`}\n        >\n          {children}\n        </div>\n      </div>\n    </ReactBootstrap.Modal>\n  );\n};\n\nexport default ModalContainer;\n","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","import React from 'react';\nimport classNames from 'classnames';\nimport ReactFontawesome from 'optionalPackages/react-fontawesome';\nimport { getGeneratedClasses } from 'utils';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\nimport { PageStateProps } from './types';\n\nexport const PageState = ({\n  icon,\n  title,\n  action,\n  iconClass,\n  dataTestId,\n  description,\n  iconBgClass,\n  iconSize = '5x',\n  className = 'page-state',\n  shouldRenderDefaultCss = true\n}: PageStateProps) => {\n  const generatedClasses = getGeneratedClasses(\n    className,\n    shouldRenderDefaultCss,\n    {\n      wrapper: 'state m-auto p-4 text-center',\n      iconContainer: classNames('icon-state mx-auto', {\n        [`${iconBgClass}`]: Boolean(iconBgClass)\n      }),\n      iconClass: classNames(iconClass != null && iconClass),\n      title: 'h4 my-4',\n      description: 'mb-3'\n    }\n  );\n\n  return (\n    <div className={generatedClasses.wrapper} data-testid={dataTestId}>\n      {icon && (\n        <span className={generatedClasses.iconContainer}>\n          <ReactFontawesome.FontAwesomeIcon\n            icon={icon}\n            className={generatedClasses.iconClass}\n            size={iconSize}\n          />\n        </span>\n      )}\n      {title && <p className={generatedClasses.title}>{title}</p>}\n      {description && (\n        <div className={generatedClasses.description}>{description}</div>\n      )}\n      {action && <React.Fragment>{action}</React.Fragment>}\n    </div>\n  );\n};\n\nexport default withClassNameWrapper(PageState);\n","import React from 'react';\n\nimport Denominate from 'UI/Denominate';\nimport { getAccountBalance } from 'utils';\n\ninterface AddressRowType {\n  selectedAddress?: string;\n  index: number;\n  address: string;\n  onSelectAddress: (address: { address: string; index: number } | null) => void;\n}\n\n// TODO: why not use Trim component?\nconst trimHash = (hash: string, keep = 10) => {\n  const start = hash.substring(0, keep);\n  const end = hash.substring(hash.length - keep);\n  return `${start}...${end}`;\n};\n\nconst noBalance = '...';\n\nconst AddressRow = ({\n  address,\n  index,\n  selectedAddress,\n  onSelectAddress\n}: AddressRowType) => {\n  const [balance, setBalance] = React.useState(noBalance);\n\n  const handleChange = (e: React.SyntheticEvent) => {\n    const { checked } = e.target as HTMLInputElement;\n    if (checked) {\n      onSelectAddress({ address, index });\n    }\n  };\n\n  const fetchBalance = async () => {\n    try {\n      const balance = await getAccountBalance(address);\n      setBalance(balance);\n    } catch (err) {\n      console.error('error fetching balance', balance);\n    }\n  };\n\n  React.useEffect(() => {\n    fetchBalance();\n  }, []);\n\n  return (\n    <tr>\n      <td className='text-left'>\n        <div className='d-flex align-items-start text-left form-check'>\n          <input\n            type='radio'\n            id={`check_${index}`}\n            data-testid={`check_${index}`}\n            onChange={handleChange}\n            role='button'\n            checked={selectedAddress === address}\n            className='form-check-input mr-1'\n          />\n          <label\n            htmlFor={`check_${index}`}\n            role='button'\n            data-testid={`label_${index}`}\n            className='form-check-label text-nowrap trim-size-xl m-0'\n          >\n            <div className='d-flex align-items-center text-nowrap trim'>\n              <span>{trimHash(address)}</span>\n            </div>\n          </label>\n        </div>\n      </td>\n      <td className='text-left'>\n        <Denominate value={balance} />\n      </td>\n      <td className='text-left'>{index}</td>\n    </tr>\n  );\n};\n\nexport default AddressRow;\n","import React from 'react';\n\nimport icons from 'optionalPackages/fortawesome-free-solid-svg-icons';\nimport ReactFontawesome from 'optionalPackages/react-fontawesome';\nimport PageState from 'UI/PageState';\nimport { getGeneratedClasses } from 'utils';\n\nimport AddressRow from './AddressRow';\n\nconst ledgerWaitingText = 'Waiting for device';\n\nconst addressesPerPage = 10;\n\ninterface AddressTablePropsType {\n  loading: boolean;\n  accounts: string[];\n  startIndex: number;\n  selectedAddress?: string;\n  className: string;\n  shouldRenderDefaultCss: boolean;\n  onSelectAddress: (address: { address: string; index: number } | null) => void;\n  onGoToPrevPage: () => void;\n  onGoToNextPage: () => void;\n  onConfirmSelectedAddress: () => void;\n}\n\nconst AddressTable = ({\n  loading,\n  accounts,\n  startIndex,\n  selectedAddress,\n  onGoToPrevPage,\n  onGoToNextPage,\n  onConfirmSelectedAddress,\n  onSelectAddress,\n  shouldRenderDefaultCss = true,\n  className = 'ledger-address-table'\n}: AddressTablePropsType) => {\n  const classes = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    wrapper: 'card my-4 text-center',\n    cardBody: 'card-body p-4 mx-lg-4',\n    tableWrapper: 'table-responsive',\n    tableContent: 'table m-0 border-bottom',\n    tableHeader: 'py-2 text-semibold border-bottom',\n    tableHeaderText: 'text-left border-0',\n    buttonsWrapper: 'd-flex justify-content-center pager mt-2',\n    arrowButton: 'btn btn-link mx-2',\n    confirmButton: 'btn btn-primary px-4 mt-4'\n  });\n  switch (true) {\n    case loading:\n      return (\n        <PageState\n          className={className}\n          icon={icons.faCircleNotch}\n          iconClass='fa-spin text-primary'\n          title={ledgerWaitingText}\n        />\n      );\n    default:\n      return (\n        <React.Fragment>\n          <div className='m-auto'>\n            <div className={classes.wrapper}>\n              <div className={classes.cardBody}>\n                <div\n                  className={classes.tableWrapper}\n                  data-testid='ledgerAddresses'\n                >\n                  <table className={classes.tableContent}>\n                    <thead className={classes.tableHeader}>\n                      <tr>\n                        <th className={classes.tableHeaderText}>Address</th>\n                        <th className={classes.tableHeaderText}>Balance</th>\n                        <th className={classes.tableHeaderText}>#</th>\n                      </tr>\n                    </thead>\n                    <tbody data-testid='addressesTable'>\n                      {accounts.map((address, index) => {\n                        const key = index + startIndex * addressesPerPage;\n                        return (\n                          <AddressRow\n                            key={key}\n                            address={address}\n                            index={key}\n                            selectedAddress={selectedAddress}\n                            onSelectAddress={onSelectAddress}\n                          />\n                        );\n                      })}\n                    </tbody>\n                  </table>\n                </div>\n                <div className={classes.buttonsWrapper}>\n                  <button\n                    type='button'\n                    className={classes.arrowButton}\n                    onClick={onGoToPrevPage}\n                    data-testid='prevBtn'\n                    disabled={startIndex === 0}\n                  >\n                    <ReactFontawesome.FontAwesomeIcon\n                      size='sm'\n                      icon={icons.faChevronLeft}\n                    />{' '}\n                    Prev\n                  </button>\n                  <button\n                    type='button'\n                    className={classes.arrowButton}\n                    onClick={onGoToNextPage}\n                    data-testid='nextBtn'\n                  >\n                    Next{' '}\n                    <ReactFontawesome.FontAwesomeIcon\n                      size='sm'\n                      icon={icons.faChevronRight}\n                    />\n                  </button>\n                </div>\n                <button\n                  className={classes.confirmButton}\n                  disabled={selectedAddress === ''}\n                  onClick={onConfirmSelectedAddress}\n                  data-testid='confirmBtn'\n                >\n                  Confirm\n                </button>\n              </div>\n            </div>\n          </div>\n        </React.Fragment>\n      );\n  }\n};\n\nexport default AddressTable;\n","import React from 'react';\nimport { useGetAccountInfo } from 'hooks';\n\nconst ConfirmAddress = ({\n  token,\n  noBorder\n}: {\n  token?: string;\n  noBorder?: boolean;\n}) => {\n  const { ledgerAccount } = useGetAccountInfo();\n  return (\n    <div className='m-auto'>\n      <div className={`card my-4 text-center ${noBorder ? 'border-0' : ''}`}>\n        <div className='card-body p-4 mx-lg-4'>\n          <h4 className='mb-4'>Confirm Ledger Address</h4>\n          <p>For security, please confirm that your address: </p>\n          <p className='lead border rounded p-2'>\n            {ledgerAccount ? ledgerAccount.address : ''}\n          </p>\n          {token && (\n            <React.Fragment>\n              <p>and Auth Token</p>\n              <p className='lead border rounded p-2'>{`${token}{}`}</p>\n            </React.Fragment>\n          )}\n          <p className='m-0'>\n            {token\n              ? 'are the one shown on your Ledger device screen now.'\n              : 'is the one shown on your Ledger device screen now.'}\n          </p>\n\n          <p>Select Approve on your device to confirm.</p>\n          <p>\n            Or, if it does not match, close this page and{' '}\n            <a\n              href='https://help.elrond.com/en/'\n              {...{\n                target: '_blank'\n              }}\n            >\n              contact support\n            </a>\n            .\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ConfirmAddress;\n","import React from 'react';\nimport { ReactComponent as LedgerLogo } from '../assets/ledger-nano.svg';\n\nconst LedgerConnect = ({\n  onClick,\n  error,\n  connectPageContent\n}: {\n  onClick: () => void;\n  error: string;\n  connectPageContent?: React.ReactNode;\n}) => {\n  return (\n    <div className='m-auto login-container'>\n      <div className='card my-4 text-center'>\n        <div className='card-body p-4 mx-lg-4'>\n          {connectPageContent ? (\n            <React.Fragment>{connectPageContent}</React.Fragment>\n          ) : (\n            <React.Fragment>\n              <LedgerLogo className='mb-4' />\n              <h4 className='mb-4'>Connect Ledger</h4>\n              <p className='lead mb-4'>\n                Unlock your device &amp; open the Elrond App.\n              </p>\n            </React.Fragment>\n          )}\n\n          <div>\n            {error && (\n              <p className='text-danger d-flex justify-content-center align-items-center'>\n                {error}\n              </p>\n            )}\n            <button\n              className='btn btn-primary px-4'\n              onClick={onClick}\n              data-testid='connectBtn'\n            >\n              Connect Ledger\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LedgerConnect;\n","import React from 'react';\nimport { useGetAccountInfo } from 'hooks';\n\nimport icons from 'optionalPackages/fortawesome-free-solid-svg-icons';\nimport { useLedgerLogin } from 'services';\nimport ModalContainer from 'UI/ModalContainer';\n\nimport PageState from 'UI/PageState';\nimport { getGeneratedClasses } from 'utils';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\nimport AddressTable from './AddressTable';\nimport ConfirmAddress from './ConfirmAddress';\nimport LedgerConnect from './LedgerConnect';\n\nconst ledgerWaitingText = 'Waiting for device';\n\ninterface LedgerLoginContainerPropsType {\n  callbackRoute: string;\n  className?: string;\n  shouldRenderDefaultCss?: boolean;\n  wrapContentInsideModal?: boolean;\n  redirectAfterLogin?: boolean;\n  token?: string;\n  onClose?: () => void;\n}\n\nfunction LedgerLoginContainer({\n  callbackRoute,\n  className = 'login-modal-content',\n  shouldRenderDefaultCss = true,\n  wrapContentInsideModal = true,\n  redirectAfterLogin,\n  onClose,\n  token\n}: LedgerLoginContainerPropsType) {\n  const generatedClasses = getGeneratedClasses(\n    className,\n    shouldRenderDefaultCss,\n    { spinner: 'fa-spin text-primary' }\n  );\n  const { ledgerAccount } = useGetAccountInfo();\n  const [\n    onStartLogin,\n    { error, isLoading },\n    {\n      showAddressList,\n      accounts,\n      onGoToPrevPage,\n      onGoToNextPage,\n      onSelectAddress,\n      onConfirmSelectedAddress,\n      startIndex,\n      selectedAddress\n    }\n  ] = useLedgerLogin({ callbackRoute, token, redirectAfterLogin });\n\n  function getContent() {\n    if (isLoading) {\n      return (\n        <PageState\n          icon={icons.faCircleNotch}\n          iconClass={generatedClasses.spinner}\n          title={ledgerWaitingText}\n        />\n      );\n    }\n    if (ledgerAccount != null && !error) {\n      return <ConfirmAddress token={token} />;\n    }\n\n    if (showAddressList && !error) {\n      return (\n        <AddressTable\n          accounts={accounts}\n          loading={isLoading}\n          className={className}\n          shouldRenderDefaultCss={shouldRenderDefaultCss}\n          onGoToNextPage={onGoToNextPage}\n          onGoToPrevPage={onGoToPrevPage}\n          onSelectAddress={onSelectAddress}\n          startIndex={startIndex}\n          selectedAddress={selectedAddress?.address}\n          onConfirmSelectedAddress={onConfirmSelectedAddress}\n        />\n      );\n    }\n\n    return <LedgerConnect onClick={onStartLogin} error={error} />;\n  }\n  return wrapContentInsideModal ? (\n    <ModalContainer\n      title={'Login with ledger'}\n      className={className}\n      onClose={onClose}\n    >\n      {getContent()}\n    </ModalContainer>\n  ) : (\n    getContent()\n  );\n}\n\nexport default withClassNameWrapper(LedgerLoginContainer);\n","import React from 'react';\nimport { getGeneratedClasses, wrapperClassName } from 'utils';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\nimport LedgerLoginContainer from '../LoginModal';\nimport { LedgerLoginButtonPropsType } from './types';\n\nconst LedgerLoginButton: (props: LedgerLoginButtonPropsType) => JSX.Element = ({\n  token,\n  callbackRoute,\n  children,\n  loginButtonText = 'Ledger',\n  buttonClassName,\n  className = 'ledger-login',\n  redirectAfterLogin = false,\n  wrapContentInsideModal = true,\n  shouldRenderDefaultCss = true\n}) => {\n  const [showLoginModal, setShowLoginModal] = React.useState(false);\n  const generatedClasses = getGeneratedClasses(\n    className,\n    shouldRenderDefaultCss,\n    {\n      wrapper: `btn btn-primary px-sm-4 m-1 mx-sm-3 ${\n        buttonClassName != null ? buttonClassName : ''\n      }`,\n      loginText: 'text-left'\n    }\n  );\n\n  function handleOpenModal() {\n    setShowLoginModal(true);\n  }\n\n  function handleCloseModal() {\n    setShowLoginModal(false);\n  }\n\n  return (\n    <span className={wrapperClassName}>\n      <button onClick={handleOpenModal} className={generatedClasses.wrapper}>\n        {children || (\n          <span className={generatedClasses.loginText}>{loginButtonText}</span>\n        )}\n      </button>\n      {showLoginModal && (\n        <LedgerLoginContainer\n          className={className}\n          shouldRenderDefaultCss={shouldRenderDefaultCss}\n          callbackRoute={callbackRoute}\n          token={token}\n          wrapContentInsideModal={wrapContentInsideModal}\n          redirectAfterLogin={redirectAfterLogin}\n          onClose={handleCloseModal}\n        />\n      )}\n    </span>\n  );\n};\n\nexport default withClassNameWrapper(LedgerLoginButton);\n","import React from 'react';\n\nimport { useGetNotification } from 'hooks';\n\nimport icons from 'optionalPackages/fortawesome-free-solid-svg-icons';\nimport ReactBootstrap from 'optionalPackages/react-bootstrap';\nimport { NotificationTypesEnum } from 'types';\n\nimport { wrapperClassName } from 'utils';\nimport PageState from '../PageState';\n\nconst notificationTypesToIcons = {\n  [NotificationTypesEnum.warning]: icons.faExclamationTriangle\n};\nconst defaultIcon = icons.faExclamationTriangle;\n\nexport function NotificationModal() {\n  const { notification, clearNotification } = useGetNotification();\n\n  const showModal = Boolean(notification);\n  const onDone = () => {\n    clearNotification();\n  };\n\n  const icon = notification\n    ? notificationTypesToIcons[notification?.type] || defaultIcon\n    : null;\n\n  return notification ? (\n    <ReactBootstrap.Modal\n      show={showModal}\n      backdrop={true}\n      onHide={notification}\n      className={`modal-container ${wrapperClassName}`}\n      animation={false}\n      centered\n    >\n      <div className='card w-100 notification-modal'>\n        <PageState\n          icon={icon}\n          iconClass={notification.iconClassName}\n          iconBgClass='p-4 rounded-bg-circle'\n          iconSize='3x'\n          title={notification.title}\n          description={notification.description}\n          action={\n            <button className='btn btn-primary' onClick={onDone}>\n              Done\n            </button>\n          }\n        />\n      </div>\n    </ReactBootstrap.Modal>\n  ) : null;\n}\n\nexport default NotificationModal;\n","import React from 'react';\nimport classNames from 'optionalPackages/classnames';\nimport freeSolidIcons from 'optionalPackages/fortawesome-free-solid-svg-icons';\nimport ReactBootstrap from 'optionalPackages/react-bootstrap';\nimport { SignModalPropsType } from 'types';\nimport PageState from 'UI/PageState';\nimport { getGeneratedClasses, wrapperClassName } from 'utils';\n\nconst SignWithExtensionModal = ({\n  handleClose,\n  error,\n  callbackRoute,\n  transactions,\n  className = 'extension-modal'\n}: SignModalPropsType) => {\n  const classes = getGeneratedClasses(className, true, {\n    wrapper: 'modal-container extension',\n    icon: 'text-white',\n    closeBtn: 'btn btn-close-link mt-2'\n  });\n  const description = error\n    ? error\n    : transactions && transactions.length > 1\n    ? 'Check your Elrond Wallet Extension to sign the transactions'\n    : 'Check your Elrond Wallet Extension to sign the transaction';\n\n  const close = (e: React.MouseEvent) => {\n    e.preventDefault();\n    handleClose();\n    if (\n      callbackRoute != null &&\n      !window.location.pathname.includes(callbackRoute)\n    ) {\n      window.location.href = callbackRoute;\n    }\n  };\n\n  return (\n    <ReactBootstrap.Modal\n      show\n      backdrop='static'\n      onHide={handleClose}\n      className={classNames(classes.wrapper, wrapperClassName)}\n      animation={false}\n      centered\n    >\n      <PageState\n        icon={error ? freeSolidIcons.faTimes : freeSolidIcons.faHourglass}\n        iconClass={classes.icon}\n        className={className}\n        iconBgClass={error ? 'bg-danger' : 'bg-warning'}\n        iconSize='3x'\n        title='Confirm on Maiar DeFi Wallet'\n        description={description}\n        action={\n          <button\n            id='closeButton'\n            data-testid='closeButton'\n            onClick={close}\n            className={classes.closeBtn}\n          >\n            Close\n          </button>\n        }\n      />\n    </ReactBootstrap.Modal>\n  );\n};\n\nexport default SignWithExtensionModal;\n","import * as React from 'react';\nimport icons from 'optionalPackages/fortawesome-free-solid-svg-icons';\nimport ReactFontawesome from 'optionalPackages/react-fontawesome';\n\nexport const Simple = ({ children }: { children: React.ReactNode }) => (\n  <div className='token-symbol'>{children}</div>\n);\n\nexport const Combined = ({\n  small,\n  children\n}: {\n  small: boolean | undefined;\n  children: React.ReactNode;\n}) => (\n  <div className={`token-symbol-combined ${small ? 'small' : ''}`}>\n    {children}\n  </div>\n);\n\nexport const Wrapped = ({ children }: { children: React.ReactNode }) => (\n  <div className='token-symbol-wrapped'>\n    <div className='wrapped rounded-circle shadow'>\n      <div className='locked-icon'>\n        <ReactFontawesome.FontAwesomeIcon icon={icons.faDollarSign} size='sm' />\n      </div>\n      {children}\n    </div>\n  </div>\n);\n\nexport const Pool = ({\n  first,\n  second\n}: {\n  first: React.ReactNode;\n  second: React.ReactNode;\n}) => (\n  <div className='token-symbol-pool'>\n    <div className='pool rounded-circle shadow'>\n      {first}\n      <div className='pool-icon'>{second}</div>\n    </div>\n  </div>\n);\n\nexport const Locked = ({ children }: { children: React.ReactNode }) => (\n  <div className='token-symbol-locked'>\n    <div className='locked rounded-circle shadow'>\n      <div className='locked-icon'>\n        <ReactFontawesome.FontAwesomeIcon icon={icons.faLock} size='sm' />\n      </div>\n      {children}\n    </div>\n  </div>\n);\n","import * as React from 'react';\n\nimport icons from 'optionalPackages/fortawesome-free-solid-svg-icons';\nimport ReactFontawesome from 'optionalPackages/react-fontawesome';\nimport { getEgldLabel, wrapperClassName } from 'utils';\nimport { ReactComponent as EgldIcon } from '../../assets/icons/EGLD.svg';\nimport { Simple, Combined } from './TokenSymbol';\n\nconst getIdentifierWithoutNonce = (identifier: string) => {\n  const tokenParts = identifier.split('-');\n  return identifier.includes('-')\n    ? `${tokenParts[0]}-${tokenParts[1]}`\n    : identifier;\n};\n\ntype TokenIconProps = {\n  token: string;\n  combined?: boolean | undefined;\n  small?: boolean | undefined;\n};\ntype TokenIconType = TokenIconProps & {\n  symbol: string;\n  label: string;\n  icon: React.ReactNode;\n};\n\nconst getDetails = (token: string): TokenIconType => {\n  const egldLabel = getEgldLabel();\n  const isEgldTransfer = token === egldLabel;\n  return {\n    token,\n    symbol: token ? token.split('-')[0] : '',\n    label: token,\n    // eslint-disable-next-line react/display-name\n    icon: () =>\n      isEgldTransfer ? (\n        <EgldIcon />\n      ) : (\n        <ReactFontawesome.FontAwesomeIcon icon={icons.faGem} />\n      )\n  };\n};\n\nexport default class TokenDetails extends React.Component {\n  static Token = (props: TokenIconProps) => (\n    <React.Fragment>{props.token}</React.Fragment>\n  );\n  static Symbol = (props: TokenIconProps) => (\n    <React.Fragment>\n      {getDetails(getIdentifierWithoutNonce(props.token)).symbol}\n    </React.Fragment>\n  );\n  static Label = (props: TokenIconProps) => (\n    <React.Fragment>\n      {getDetails(getIdentifierWithoutNonce(props.token)).label}\n    </React.Fragment>\n  );\n  static Icon = (props: TokenIconProps) => {\n    const Component: any =\n      process.env.NODE_ENV !== 'test'\n        ? getDetails(getIdentifierWithoutNonce(props.token)).icon\n        : () => null;\n\n    return (\n      <span className={wrapperClassName}>\n        {props.combined ? (\n          <Combined small={props.small}>\n            <Component />\n          </Combined>\n        ) : (\n          <Simple>\n            <Component />\n          </Simple>\n        )}\n      </span>\n    );\n  };\n  render() {\n    return null;\n  }\n}\n","import * as React from 'react';\nimport { decodePart } from 'utils';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\n\nconst allOccurences = (sourceStr: string, searchStr: string) =>\n  [...sourceStr.matchAll(new RegExp(searchStr, 'gi'))].map((a) => a.index);\n\nconst TransactionData = ({\n  data,\n  highlight,\n  isScCall\n}: {\n  data: string;\n  highlight?: string;\n  isScCall?: boolean;\n}) => {\n  let output = <React.Fragment>{data}</React.Fragment>;\n\n  const [encodedScCall, ...remainingDataFields] =\n    highlight && isScCall ? highlight.split('@') : [];\n\n  if (data && highlight && allOccurences(data, highlight).length === 1) {\n    switch (true) {\n      case data.startsWith(highlight): {\n        const [, rest] = data.split(highlight);\n        output = (\n          <React.Fragment>\n            {highlight}\n            <span className='text-muted'>{rest}</span>\n          </React.Fragment>\n        );\n        break;\n      }\n      case data.endsWith(highlight): {\n        const [rest] = data.split(highlight);\n        output = (\n          <React.Fragment>\n            <span className='text-muted'>{rest}</span>\n            {highlight}\n          </React.Fragment>\n        );\n        break;\n      }\n\n      default: {\n        const [start, end] = data.split(highlight);\n\n        output = (\n          <React.Fragment>\n            <span className='text-muted'>{start}</span>\n            <span className={'highlighted'}>{highlight}</span>\n            <span className='text-muted'>{end}</span>\n          </React.Fragment>\n        );\n        break;\n      }\n    }\n  }\n\n  return (\n    <React.Fragment>\n      {encodedScCall && (\n        <div className='form-group mb-0 data-field mw-100'>\n          <span className='form-label text-secondary d-block'>SC Call</span>\n\n          <div\n            data-testid='confirmScCall'\n            className='textarea sc-call form-control cursor-text mt-1 text-break-all'\n          >\n            {[decodePart(encodedScCall), ...remainingDataFields].join('@')}\n          </div>\n        </div>\n      )}\n      <div className='form-group mb-0 data-field mw-100'>\n        <span className='form-label text-secondary d-block'>Data</span>\n\n        <div\n          data-testid='confirmData'\n          className='textarea form-control cursor-text mt-1 text-break-all'\n        >\n          {data ? output : 'N/A'}\n        </div>\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default withClassNameWrapper(TransactionData);\n","import React from 'react';\nimport { Address } from '@elrondnetwork/erdjs/out';\nimport { useGetNetworkConfig } from 'hooks';\nimport useGetTokenDetails from 'hooks/transactions/useGetTokenDetails';\n\nimport icons from 'optionalPackages/fortawesome-free-solid-svg-icons';\nimport PageState from 'UI/PageState';\nimport TokenDetails from 'UI/TokenDetails';\nimport TransactionData from 'UI/TransactionData';\nimport {\n  denominate,\n  getEgldLabel,\n  getGeneratedClasses,\n  isTokenTransfer\n} from 'utils';\n\nexport interface SignStepType {\n  onSignTransaction: () => void;\n  onPrev: () => void;\n  handleClose: () => void;\n  waitingForDevice: boolean;\n  error: string | null;\n  callbackRoute?: string;\n  currentStep: number;\n  currentTransaction: any;\n  isLastTransaction: boolean;\n  className: string;\n}\n\nconst SignStep = ({\n  onSignTransaction,\n  handleClose,\n  onPrev,\n  waitingForDevice,\n  currentTransaction,\n  error,\n  isLastTransaction,\n  currentStep,\n  className\n}: SignStepType) => {\n  const egldLabel = getEgldLabel();\n  const transactionData = currentTransaction.transaction.getData().toString();\n  const { network } = useGetNetworkConfig();\n\n  const { tokenId, amount, type, multiTxData, receiver } =\n    currentTransaction.transactionTokenInfo;\n\n  const isTokenTransaction = Boolean(\n    tokenId && isTokenTransfer({ tokenId, erdLabel: egldLabel })\n  );\n\n  const onCloseClick = (e: React.MouseEvent) => {\n    e.preventDefault();\n    if (isFirst) {\n      handleClose();\n    } else {\n      onPrev();\n    }\n  };\n\n  const continueWithoutSigning =\n    type && multiTxData && !transactionData.endsWith(multiTxData);\n\n  let signBtnLabel = 'Sign & Continue';\n  signBtnLabel = waitingForDevice ? 'Check your Ledger' : signBtnLabel;\n  signBtnLabel =\n    isLastTransaction && !waitingForDevice ? 'Sign & Submit' : signBtnLabel;\n  signBtnLabel = continueWithoutSigning ? 'Continue' : signBtnLabel;\n\n  const isFirst = currentStep === 0;\n\n  const { tokenDenomination } = useGetTokenDetails({\n    tokenId: currentTransaction.transactionTokenInfo.tokenId\n  });\n\n  const denominatedAmount = denominate({\n    input: isTokenTransaction\n      ? amount\n      : currentTransaction.transaction.getValue().toString(),\n    denomination: isTokenTransaction\n      ? tokenDenomination\n      : Number(network.egldDenomination),\n    decimals: Number(network.decimals),\n    showLastNonZeroDecimal: false,\n    addCommas: true\n  });\n\n  const classes = getGeneratedClasses(className, true, {\n    formGroup: 'form-group text-left',\n    formLabel: 'form-label text-secondary',\n    icon: 'text-white',\n    contentWrapper:\n      'd-flex flex-column justify-content-start flex-md-row justify-content-md-between mb-3',\n    tokenWrapper: 'mb-3 mb-md-0 d-flex flex-column align-items-start',\n    tokenLabel: 'text-secondary text-left',\n    tokenValue: 'd-flex align-items-center mt-1',\n    tokenAmountLabel: 'text-secondary text-left',\n    tokenAmountValue: 'd-flex align-items-center',\n    dataFormGroup: 'form-group text-left',\n    errorMessage:\n      'text-danger d-flex justify-content-center align-items-center',\n    buttonsWrapper: 'd-flex align-items-center justify-content-end mt-spacer',\n    cancelButton: 'btn btn-dark text-white flex-even mr-2',\n    signButton: 'btn btn-primary flex-even ml-2'\n  });\n\n  return (\n    <PageState\n      icon={error ? icons.faTimes : icons.faHourglass}\n      iconClass={classes.icon}\n      iconBgClass={error ? 'bg-danger' : 'bg-warning'}\n      iconSize='3x'\n      className={className}\n      title='Confirm on Ledger'\n      description={\n        <React.Fragment>\n          {currentTransaction.transaction && (\n            <React.Fragment>\n              <div className={classes.formGroup} data-testid='transactionTitle'>\n                <div className={classes.formLabel}>To: </div>\n                {multiTxData\n                  ? new Address(receiver).bech32()\n                  : currentTransaction.transaction.getReceiver().toString()}\n              </div>\n\n              <div className={classes.contentWrapper}>\n                <div className={classes.tokenWrapper}>\n                  <div className={classes.tokenlabel}>Token</div>\n                  <div className={classes.tokenValue}>\n                    <TokenDetails.Icon token={tokenId || egldLabel} />\n                    <div className='mr-1'></div>\n                    <TokenDetails.Label token={tokenId || egldLabel} />\n                  </div>\n                </div>\n                <div>\n                  <div className={classes.tokenAmountLabel}>Amount</div>\n                  <div className={classes.tokenAmountValue}>\n                    <div className='mr-1'>{denominatedAmount}</div>\n                    <TokenDetails.Symbol token={tokenId || egldLabel} />\n                  </div>\n                </div>\n              </div>\n\n              <div className={classes.dataFormGroup}>\n                {currentTransaction.transaction.getData() && (\n                  <TransactionData\n                    {...{\n                      data: currentTransaction.transaction.getData().toString(),\n                      highlight: multiTxData,\n                      isScCall: !tokenId\n                    }}\n                  />\n                )}\n              </div>\n              {error && <p className={classes.errorMessage}>{error}</p>}\n            </React.Fragment>\n          )}\n        </React.Fragment>\n      }\n      action={\n        <div className={classes.buttonsWrapper}>\n          <button\n            id='closeButton'\n            data-testid='closeButton'\n            onClick={onCloseClick}\n            className={classes.cancelButton}\n          >\n            {isFirst ? 'Cancel' : 'Back'}\n          </button>\n\n          <button\n            type='button'\n            className={classes.signButton}\n            id='signBtn'\n            data-testid='signBtn'\n            onClick={onSignTransaction}\n            disabled={waitingForDevice}\n          >\n            {signBtnLabel}\n          </button>\n        </div>\n      }\n    />\n  );\n};\n\nexport default SignStep;\n","import React from 'react';\nimport { useSignTransactionsWithLedger } from 'hooks';\nimport classNames from 'optionalPackages/classnames';\nimport ReactBootstrap from 'optionalPackages/react-bootstrap';\nimport { SignModalPropsType } from 'types';\nimport { getGeneratedClasses, wrapperClassName } from 'utils';\nimport SignStep from './SignStep';\n\nconst SignWithLedgerModal = ({\n  handleClose,\n  error,\n  className = 'ledger-modal'\n}: SignModalPropsType) => {\n  const {\n    onSignTransaction,\n    onNext,\n    onPrev,\n    allTransactions,\n    waitingForDevice,\n    onAbort,\n    isLastTransaction,\n    currentStep,\n    callbackRoute,\n    currentTransaction\n  } = useSignTransactionsWithLedger({ onCancel: handleClose });\n  const classes = getGeneratedClasses(className, true, {\n    wrapper: 'modal-container wallet-connect',\n    container: 'card container',\n    cardBody: 'card-body'\n  });\n  return (\n    <ReactBootstrap.Modal\n      show={currentTransaction != null}\n      backdrop='static'\n      onHide={handleClose}\n      className={classNames(classes.wrapper, wrapperClassName)}\n      animation={false}\n      centered\n    >\n      <div className={classes.container}>\n        <div className={classes.cardBody}>\n          <SignStep\n            {...{\n              onSignTransaction,\n              onNext,\n              onPrev,\n              allTransactions,\n              waitingForDevice,\n              isLastTransaction,\n              currentStep,\n              callbackRoute,\n              currentTransaction,\n              handleClose: onAbort,\n              className,\n              error\n            }}\n          />\n        </div>\n      </div>\n    </ReactBootstrap.Modal>\n  );\n};\n\nexport default SignWithLedgerModal;\n","import React from 'react';\n\nimport classNames from 'optionalPackages/classnames';\nimport icons from 'optionalPackages/fortawesome-free-solid-svg-icons';\nimport ReactBootstrap from 'optionalPackages/react-bootstrap';\nimport { SignModalPropsType } from 'types';\nimport PageState from 'UI/PageState';\nimport { getGeneratedClasses, wrapperClassName } from 'utils';\n\nexport const SignWithWalletConnectModal = ({\n  error,\n  handleClose,\n  callbackRoute,\n  transactions,\n  className = 'wallet-connect-modal'\n}: SignModalPropsType) => {\n  const classes = getGeneratedClasses(className, true, {\n    wrapper: 'modal-container wallet-connect',\n    icon: 'text-white',\n    closeBtn: 'btn btn-close-link mt-2'\n  });\n\n  const hasMultipleTransactions = transactions && transactions?.length > 1;\n  const description = error\n    ? error\n    : `Check your phone to sign the transaction${\n        hasMultipleTransactions ? 's' : ''\n      }`;\n\n  const close = (e: React.MouseEvent) => {\n    e.preventDefault();\n    handleClose();\n    if (\n      callbackRoute != null &&\n      !window.location.pathname.includes(callbackRoute)\n    ) {\n      window.location.href = callbackRoute;\n    }\n  };\n  return (\n    <ReactBootstrap.Modal\n      show\n      backdrop='static'\n      onHide={close}\n      className={classNames(classes.wrapper, wrapperClassName)}\n      animation={false}\n      centered\n    >\n      <PageState\n        icon={error ? icons.faTimes : icons.faHourglass}\n        iconClass={classes.icon}\n        className={className}\n        iconBgClass={error ? 'bg-danger' : 'bg-warning'}\n        iconSize='3x'\n        title='Confirm on Maiar'\n        description={description}\n        action={\n          <button\n            id='closeButton'\n            data-testid='closeButton'\n            onClick={close}\n            className={classes.closeBtn}\n          >\n            Close\n          </button>\n        }\n      />\n    </ReactBootstrap.Modal>\n  );\n};\n\nexport default SignWithWalletConnectModal;\n","import React from 'react';\n\nimport { Transaction } from '@elrondnetwork/erdjs';\nimport {\n  useGetAccountProvider,\n  useGetSignTransactionsError,\n  useSignTransactions\n} from 'hooks';\nimport { LoginMethodsEnum } from 'types';\nimport { getIsProviderEqualTo } from 'utils';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\nimport SignWithExtensionModal from './SignWithExtensionModal';\nimport SignWithLedgerModal from './SignWithLedgerModal';\nimport SignWithWalletConnectModal from './SignWithWalletConnectModal';\n\ninterface SignPropsType {\n  handleClose: () => void;\n  error: string | null;\n  sessionId?: string;\n  transactions: Transaction[];\n  providerType: LoginMethodsEnum;\n  callbackRoute: string;\n  className?: string;\n}\n\ninterface CustomConfirmScreensType {\n  Ledger: (signProps: SignPropsType) => React.ReactNode;\n  Extension: (signProps: SignPropsType) => React.ReactNode;\n  WalletConnect: (signProps: SignPropsType) => React.ReactNode;\n  Extra: (signProps: SignPropsType) => React.ReactNode;\n}\n\ninterface SignTransactionsPropsType {\n  className?: string;\n  CustomConfirmScreens?: CustomConfirmScreensType;\n}\n\nfunction SignTransactionsModals({\n  className,\n  CustomConfirmScreens\n}: SignTransactionsPropsType) {\n  const {\n    callbackRoute,\n    transactions,\n    error,\n    sessionId,\n    onAbort,\n    hasTransactions\n  } = useSignTransactions();\n\n  const { providerType } = useGetAccountProvider();\n  const signTransactionsError = useGetSignTransactionsError();\n\n  const handleClose = () => {\n    onAbort(sessionId);\n  };\n\n  const signError = error || signTransactionsError;\n\n  const signProps: SignPropsType = {\n    handleClose,\n    error: signError,\n    sessionId,\n    transactions: transactions!,\n    providerType,\n    callbackRoute,\n    className\n  };\n  return signError || hasTransactions ? (\n    <React.Fragment>\n      {getIsProviderEqualTo(LoginMethodsEnum.ledger) &&\n        (CustomConfirmScreens?.Ledger?.(signProps) || (\n          <SignWithLedgerModal {...signProps} />\n        ))}\n      {getIsProviderEqualTo(LoginMethodsEnum.walletconnect) &&\n        (CustomConfirmScreens?.WalletConnect?.(signProps) || (\n          <SignWithWalletConnectModal {...signProps} />\n        ))}\n      {getIsProviderEqualTo(LoginMethodsEnum.extension) &&\n        (CustomConfirmScreens?.Extension?.(signProps) || (\n          <SignWithExtensionModal {...signProps} />\n        ))}\n      {getIsProviderEqualTo(LoginMethodsEnum.extra) &&\n        CustomConfirmScreens?.Extra?.(signProps)}\n    </React.Fragment>\n  ) : null;\n}\n\nexport default withClassNameWrapper(SignTransactionsModals);\n","enum SessionStorageKeysEnum {\n  'toasts' = 'toasts'\n}\n\nexport function setToastsIdsToStorage(ids: string[]) {\n  return sessionStorage.setItem(\n    SessionStorageKeysEnum.toasts,\n    JSON.stringify(ids)\n  );\n}\n\nexport function getToastsIdsFromStorage() {\n  const toastsIds = sessionStorage.getItem(SessionStorageKeysEnum.toasts);\n  return toastsIds != null ? JSON.parse(toastsIds) : [];\n}\n","import { Address } from '@elrondnetwork/erdjs/out';\nimport { getShardOfAddress } from 'utils';\n\ninterface IsCrossShardTransactionPropsType {\n  receiverAddress: string;\n  senderShard?: number;\n  senderAddress?: string;\n}\nexport function isCrossShardTransaction({\n  receiverAddress,\n  senderShard,\n  senderAddress\n}: IsCrossShardTransactionPropsType) {\n  try {\n    const receiver = new Address(receiverAddress);\n    const receiverShard = getShardOfAddress(receiver.pubkey());\n    if (senderShard == null && senderAddress != null) {\n      const sender = new Address(senderAddress);\n      return getShardOfAddress(sender) === receiverShard;\n    }\n    return receiverShard === senderShard;\n  } catch (err) {\n    return false;\n  }\n}\n","import React from 'react';\nimport classnames from 'optionalPackages/classnames';\nimport ReactFontawesome from 'optionalPackages/react-fontawesome';\nimport { getGeneratedClasses } from 'utils';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\nimport { Props } from './types';\n\nconst IconState = ({\n  icon,\n  iconSize = '3x',\n  className = 'icon-state',\n  shouldRenderDefaultCss = true\n}: Props) => {\n  const generatedClasses = getGeneratedClasses(\n    className,\n    shouldRenderDefaultCss,\n    {\n      wrapper: classnames('icon-state mx-auto', className, {\n        half: iconSize === '2x'\n      }),\n      icon: classnames('text-white', className)\n    }\n  );\n\n  return (\n    <span className={generatedClasses.wrapper}>\n      <ReactFontawesome.FontAwesomeIcon\n        icon={icon}\n        size={iconSize}\n        className={generatedClasses.icon}\n      />\n    </span>\n  );\n};\n\nexport default withClassNameWrapper(IconState);\n","import React from 'react';\nimport moment from 'optionalPackages/moment';\nimport { logarithmicRest } from 'utils';\nimport storage from 'utils/session';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\nimport { Props } from './type';\n\nconst Progress = ({ id, children, progress, done }: Props) => {\n  const ref = React.useRef(null);\n  const intervalRef = React.useRef<any>();\n  const removeTxFromSession = () => {\n    const toastProgress = storage.getItem('toastProgress');\n    const hasSessionStoredTx = Boolean(toastProgress[id]);\n\n    if (!hasSessionStoredTx) {\n      return;\n    }\n\n    const expires = moment().add(10, 'minutes').unix();\n\n    delete toastProgress[id];\n\n    storage.setItem({\n      key: 'toastProgress',\n      data: toastProgress,\n      expires\n    });\n  };\n\n  const saveToSession = ({ value }: { value: number }) => {\n    const toastProgress = storage.getItem('toastProgress') || {};\n    toastProgress[id] = value;\n    storage.setItem({\n      key: 'toastProgress',\n      data: toastProgress,\n      expires: moment().add(10, 'minutes').unix()\n    });\n  };\n\n  const getInitialData = () => {\n    const totalSeconds = progress ? progress.endTime - progress.startTime : 0;\n    const toastProgress = storage.getItem('toastProgress');\n    const remaining = progress\n      ? ((progress.endTime - moment().unix()) * 100) / totalSeconds\n      : 0;\n\n    const currentRemaining =\n      toastProgress && id in toastProgress ? toastProgress[id] : remaining;\n    return { currentRemaining, totalSeconds };\n  };\n\n  const { totalSeconds, currentRemaining } = getInitialData();\n\n  const [percentRemaining, setPercentRemaining] =\n    React.useState<number>(currentRemaining);\n\n  React.useEffect(() => {\n    if (progress) {\n      const maxPercent = 90;\n      const perc = totalSeconds / maxPercent;\n      const int = moment.duration(perc.toFixed(2), 's').asMilliseconds();\n\n      if (done) {\n        intervalRef.current = setInterval(() => {\n          if (ref.current !== null) {\n            setPercentRemaining((existing) => {\n              const value = existing - 1;\n              if (value <= 0) {\n                clearInterval(intervalRef.current);\n                removeTxFromSession();\n                return 0;\n              } else {\n                saveToSession({ value });\n                return value;\n              }\n            });\n          }\n        }, 5);\n      } else {\n        intervalRef.current = setInterval(() => {\n          if (ref.current !== null) {\n            setPercentRemaining((existing) => {\n              const decrement =\n                existing > 100 - maxPercent ? 1 : logarithmicRest(existing);\n              const value = existing - decrement;\n              saveToSession({ value });\n              return value;\n            });\n          }\n        }, int);\n      }\n\n      return () => {\n        clearInterval(intervalRef.current);\n      };\n    }\n    return;\n  }, [progress, done]);\n  return progress ? (\n    <div className='progress position-relative' ref={ref}>\n      <div\n        className='progress-bar'\n        role='progressbar'\n        style={{ width: `${percentRemaining}%` }}\n        aria-valuenow={percentRemaining}\n        aria-valuemin={0}\n        aria-valuemax={100}\n      >\n        <div className='content-height'>{children}</div>\n      </div>\n      <div className='d-flex position-absolute w-100'>{children}</div>\n    </div>\n  ) : (\n    <React.Fragment>{children}</React.Fragment>\n  );\n};\n\nexport default withClassNameWrapper(Progress);\n","function fallbackCopyTextToClipboard(text: string) {\n  let success = false;\n\n  const textArea = document.createElement('textarea');\n  textArea.value = text;\n  textArea.style.position = 'fixed';\n  document.body.appendChild(textArea);\n  textArea.focus();\n  textArea.select();\n\n  try {\n    document.execCommand('copy');\n    success = true;\n  } catch (err) {\n    console.error('Fallback: Oops, unable to copy', err);\n  }\n\n  document.body.removeChild(textArea);\n\n  return success;\n}\n\nexport default async function copyTextToClipboard(text: string) {\n  let success = false;\n\n  if (!navigator.clipboard) {\n    success = fallbackCopyTextToClipboard(text);\n  } else {\n    success = await navigator.clipboard.writeText(text).then(\n      function done() {\n        return true;\n      },\n      function error(err) {\n        console.error('Async: Could not copy text: ', err);\n        return false;\n      }\n    );\n  }\n\n  return success;\n}\n","import React from 'react';\n\nimport icons from 'optionalPackages/fortawesome-free-solid-svg-icons';\nimport ReactFontawesome from 'optionalPackages/react-fontawesome';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\nimport copyTextToClipboard from './helpers/copyToClipboard';\n\ninterface CopyButtonType {\n  text: string;\n  className?: string;\n}\n\nconst CopyButton = ({ text, className = '' }: CopyButtonType) => {\n  const [copyResult, setCopyResut] = React.useState({\n    default: true,\n    success: false\n  });\n\n  const handleCopyToClipboard = async (e: React.MouseEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    const noSpaces = text ? text.trim() : text;\n    setCopyResut({\n      default: false,\n      success: await copyTextToClipboard(noSpaces)\n    });\n\n    setTimeout(() => {\n      setCopyResut({\n        default: true,\n        success: false\n      });\n    }, 1000);\n  };\n\n  return (\n    <a\n      href='/#'\n      onClick={handleCopyToClipboard}\n      className={`side-action text-secondary ${className}`}\n    >\n      {copyResult.default || !copyResult.success ? (\n        <ReactFontawesome.FontAwesomeIcon icon={icons.faCopy} />\n      ) : (\n        <ReactFontawesome.FontAwesomeIcon\n          icon={icons.faCheck}\n          className='text-primary-highlight'\n        />\n      )}\n    </a>\n  );\n};\n\nexport default withClassNameWrapper(CopyButton);\n","import React from 'react';\nimport { useCallback } from 'react';\nimport debounce from 'lodash/debounce';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\n\ninterface TrimType {\n  text: string;\n  dataTestId?: string;\n}\n\nconst Trim = ({ text, dataTestId = '' }: TrimType) => {\n  const [overflow, setOverflow] = React.useState(false);\n  const trimRef = React.useRef(document.createElement('span'));\n  const hiddenTextRef = React.useRef(document.createElement('span'));\n\n  const listener = useCallback(\n    debounce(() => {\n      if (trimRef.current && hiddenTextRef.current) {\n        const diff =\n          hiddenTextRef.current.offsetWidth - trimRef.current.offsetWidth;\n        setOverflow(diff > 1);\n      }\n    }, 300),\n    []\n  );\n\n  const addWindowResizeListener = () => {\n    window.addEventListener('resize', listener);\n    return () => {\n      window.removeEventListener('resize', listener);\n    };\n  };\n\n  React.useEffect(addWindowResizeListener);\n\n  React.useEffect(() => {\n    listener();\n  }, []);\n\n  return (\n    <span\n      ref={trimRef}\n      className={`trim ${overflow ? 'overflow' : ''}`}\n      data-testid={dataTestId}\n    >\n      <span ref={hiddenTextRef} className='hidden-text-ref'>\n        {text}\n      </span>\n\n      {overflow ? (\n        <React.Fragment>\n          <span className='left'>\n            <span>\n              {String(text).substring(0, Math.floor(text.length / 2))}\n            </span>\n          </span>\n          <span className='ellipsis'>...</span>\n          <span className='right'>\n            <span>{String(text).substring(Math.ceil(text.length / 2))}</span>\n          </span>\n        </React.Fragment>\n      ) : (\n        <span>{text}</span>\n      )}\n    </span>\n  );\n};\n\nexport default withClassNameWrapper(Trim);\n","import React from 'react';\n\nimport icons from 'optionalPackages/fortawesome-free-solid-svg-icons';\nimport ReactFontawesome from 'optionalPackages/react-fontawesome';\nimport CopyButton from 'UI/CopyButton';\nimport ExplorerLink from 'UI/ExplorerLink';\nimport Trim from 'UI/Trim';\nimport { getGeneratedClasses, isServerTransactionPending } from 'utils';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\nimport { Props } from './types';\n\nconst TxDetails = ({\n  title,\n  transactions,\n  className = 'tx-details',\n  isTimedOut = false,\n  shouldRenderDefaultCss = true\n}: Props) => {\n  const generatedClasses = getGeneratedClasses(\n    className,\n    shouldRenderDefaultCss,\n    {\n      title: 'mb-0',\n      statusTransactions: 'mb-2 mt-1',\n      iconSuccess: 'mr-1 text-secondary',\n      iconFailed: 'mr-1 text-secondary',\n      trimContainer: 'text-nowrap trim-fs-sm mr-3',\n      iconPending: 'mr-1 text-secondary fa-spin slow-spin',\n      item: 'tx-description d-flex justify-content-start align-items-center'\n    }\n  );\n\n  const iconSuccessData = {\n    icon: icons.faCheck,\n    classNames: generatedClasses.iconSuccess\n  };\n\n  const iconFailedData = {\n    icon: icons.faTimes,\n    classNames: generatedClasses.iconSuccess\n  };\n\n  const iconPendingData = {\n    icon: icons.faSpinner,\n    classNames: generatedClasses.iconPending\n  };\n\n  const iconData = {\n    pending: iconPendingData,\n    success: iconSuccessData,\n    completed: iconSuccessData,\n    fail: iconFailedData,\n    invalid: iconFailedData,\n    timedOut: iconFailedData\n  };\n  return (\n    <React.Fragment>\n      {title && <div className={generatedClasses.title}>{title}</div>}\n      <div className={generatedClasses.statusTransactions}>\n        {\n          transactions.filter((tx) => !isServerTransactionPending(tx.status))\n            .length\n        }{' '}\n        / {transactions.length} transactions processed\n      </div>\n      {transactions.map(({ hash, status }) => {\n        const iconSrc = iconData[status];\n        return (\n          <div className={generatedClasses.item} key={hash}>\n            {!isTimedOut && iconSrc != null && (\n              <ReactFontawesome.FontAwesomeIcon\n                icon={iconSrc.icon}\n                className={iconSrc.classNames}\n              />\n            )}\n            <span\n              className={generatedClasses.trimContainer}\n              style={{ width: '10rem' }}\n            >\n              <Trim text={hash} />\n            </span>\n            <CopyButton text={hash} />\n            {!isServerTransactionPending(status) && (\n              <ExplorerLink page={`/transactions/${hash}`} className='ml-2' />\n            )}\n          </div>\n        );\n      })}\n    </React.Fragment>\n  );\n};\n\nexport default withClassNameWrapper(TxDetails);\n","import React, { useMemo, useRef, useState } from 'react';\n\nimport { useGetTransactionDisplayInfo } from 'hooks';\n\nimport icons from 'optionalPackages/fortawesome-free-solid-svg-icons';\nimport moment from 'optionalPackages/moment';\nimport ReactBootstrap from 'optionalPackages/react-bootstrap';\nimport ReactFontawesome from 'optionalPackages/react-fontawesome';\nimport { useSelector } from 'redux/DappProviderContext';\nimport { shardSelector } from 'redux/selectors';\nimport { isCrossShardTransaction } from 'services/transactions/isCrossShardTransaction';\nimport { SignedTransactionType } from 'types';\nimport IconState from 'UI/IconState';\nimport Progress from 'UI/Progress';\nimport TxDetails from 'UI/TxDetails';\nimport {\n  getAddressFromDataField,\n  getGeneratedClasses,\n  getIsTransactionPending,\n  getIsTransactionTimedOut\n} from 'utils';\n\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\nimport { TransactionToastPropsType } from './types';\n\nconst averageTxDurationMs = 6000;\nconst crossShardRounds = 5;\n\nconst TransactionToast = ({\n  toastId,\n  title = '',\n  shouldRenderDefaultCss = true,\n  className = 'transaction-toast',\n  withTxNonce = false,\n  transactions,\n  status,\n  onClose\n}: TransactionToastPropsType) => {\n  const ref = useRef(null);\n  const [shouldRender, setShouldRender] = useState(true);\n  const transactionDisplayInfo = useGetTransactionDisplayInfo(toastId);\n  const accountShard = useSelector(shardSelector);\n\n  const {\n    errorMessage = 'Transaction failed',\n    timedOutMessage = 'Transaction timed out',\n    successMessage = 'Transaction successful',\n    processingMessage = 'Processing transaction'\n  } = transactionDisplayInfo;\n\n  const isSameShard = useMemo(\n    () =>\n      transactions!.reduce(\n        (\n          prevTxIsSameShard: boolean,\n          { receiver, data }: SignedTransactionType\n        ) => {\n          const receiverAddress = getAddressFromDataField({\n            receiver,\n            data\n          });\n          if (receiverAddress == null) {\n            return prevTxIsSameShard;\n          }\n          return (\n            prevTxIsSameShard &&\n            isCrossShardTransaction({\n              receiverAddress,\n              senderShard: accountShard\n            })\n          );\n        },\n        true\n      ),\n    [transactions, accountShard]\n  );\n\n  const shardAdjustedDuration = isSameShard\n    ? averageTxDurationMs\n    : crossShardRounds * averageTxDurationMs;\n\n  const transactionDuration =\n    transactionDisplayInfo?.transactionDuration || shardAdjustedDuration;\n  const generatedClasses = getGeneratedClasses(\n    className,\n    shouldRenderDefaultCss,\n    {\n      toastFooter: 'mb-0 text-break',\n      details: 'media-body flex-grow-1',\n      toastContainer: 'w-100 media p-2',\n      wrapper: 'toast-visible clickable',\n      toastHeader: 'd-flex justify-content-between mb-1',\n      iconContainer: 'align-self-center ml-2 mr-2 pr-1',\n      title: 'm-0 font-weight-normal text-nowrap text-truncate',\n      closeButton: 'close d-flex side-action align-items-center mx-2 outline-0'\n    }\n  );\n\n  const [startTime, endTime] = useMemo(() => {\n    const startTime = moment().unix();\n    const endTime = moment()\n      .add(Number(transactionDuration), 'milliseconds')\n      .unix();\n    return [startTime, endTime];\n  }, []);\n\n  const progress = { startTime, endTime };\n\n  const successToastData = {\n    id: toastId,\n    icon: icons.faCheck,\n    expires: 30000,\n    hasCloseButton: true,\n    title: successMessage,\n    iconClassName: 'bg-success'\n  };\n\n  const pendingToastData = {\n    id: toastId,\n    expires: false,\n    icon: icons.faHourglass,\n    hasCloseButton: false,\n    title: processingMessage,\n    iconClassName: 'bg-warning'\n  };\n\n  const failToastData = {\n    id: toastId,\n    icon: icons.faTimes,\n    title: errorMessage,\n    hasCloseButton: true,\n    iconClassName: 'bg-danger'\n  };\n\n  const timedOutToastData = {\n    id: toastId,\n    icon: icons.faTimes,\n    title: timedOutMessage,\n    hasCloseButton: true,\n    iconClassName: 'bg-warning'\n  };\n\n  const isPending = getIsTransactionPending(status);\n  const isTimedOut = getIsTransactionTimedOut(status);\n\n  const toatsOptionsData = {\n    signed: pendingToastData,\n    sent: pendingToastData,\n    pending: pendingToastData,\n    success: successToastData,\n    completed: successToastData,\n    cancelled: failToastData,\n    fail: failToastData,\n    timedOut: timedOutToastData\n  };\n\n  const toastDataState = toatsOptionsData[status!];\n\n  const handleDeleteToast = () => {\n    setShouldRender(false);\n    onClose?.(toastId);\n  };\n\n  if (!shouldRender || transactions == null) {\n    return null;\n  }\n\n  return (\n    <ReactBootstrap.Toast\n      ref={ref}\n      className={generatedClasses.wrapper}\n      key={toastId}\n    >\n      <Progress\n        key={toastId}\n        id={toastId}\n        progress={progress}\n        done={!isPending || isTimedOut}\n      >\n        <div className={generatedClasses.toastContainer}>\n          <div className={generatedClasses.iconContainer}>\n            <IconState\n              iconSize='2x'\n              icon={toastDataState.icon}\n              className={toastDataState.iconClassName}\n            />\n            {withTxNonce &&\n              transactions.map((tx: any) => (\n                <p key={tx.nonce.valueOf()}>{tx.nonce.valueOf()}</p>\n              ))}\n          </div>\n          <div className={generatedClasses.details} style={{ minWidth: 0 }}>\n            <div className={generatedClasses.toastHeader}>\n              <h5 className={generatedClasses.title}>{toastDataState.title}</h5>\n              {!isPending && (\n                <button\n                  type='button'\n                  className={generatedClasses.closeButton}\n                  onClick={handleDeleteToast}\n                >\n                  <ReactFontawesome.FontAwesomeIcon\n                    icon={icons.faTimes}\n                    size='xs'\n                  />\n                </button>\n              )}\n            </div>\n            <div className={generatedClasses.toastFooter}>\n              <TxDetails\n                transactions={transactions}\n                title={title}\n                isTimedOut={isTimedOut}\n              />\n            </div>\n          </div>\n        </div>\n      </Progress>\n    </ReactBootstrap.Toast>\n  );\n};\n\nexport default withClassNameWrapper(TransactionToast);\n","import React, { useEffect, useState } from 'react';\nimport { useGetSignedTransactions } from 'hooks';\nimport { useGetPendingTransactions } from 'services';\nimport {\n  getToastsIdsFromStorage,\n  setToastsIdsToStorage\n} from 'storage/session';\nimport { SignedTransactionsBodyType } from 'types';\nimport TransactionToast from 'UI/TransactionToast';\nimport { getGeneratedClasses } from 'utils';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\n\nimport { TransactionsToastListPropsType } from './types';\n\nfunction TransactionsToastList({\n  shouldRenderDefaultCss = true,\n  withTxNonce = false,\n  className = 'transactions-toast-list',\n  pendingTransactions,\n  signedTransactions\n}: TransactionsToastListPropsType) {\n  const [toastsIds, setToastsIds] = useState<any>([]);\n\n  const pendingTransactionsFromStore =\n    useGetPendingTransactions().pendingTransactions;\n\n  const signedTransactionsFromStore = useGetSignedTransactions();\n\n  const pendingTransactionsToRender =\n    pendingTransactions || pendingTransactionsFromStore;\n\n  const signedTransactionsToRender =\n    signedTransactions || signedTransactionsFromStore;\n\n  const generatedClasses = getGeneratedClasses(\n    className,\n    shouldRenderDefaultCss,\n    {\n      wrapper:\n        'toast-messages d-flex flex-column align-items-center justify-content-sm-end',\n      toast: ''\n    }\n  );\n\n  const mappedToastsList = toastsIds?.map((toastId: string) => {\n    const currentTx: SignedTransactionsBodyType =\n      signedTransactionsToRender[toastId];\n    if (\n      currentTx == null ||\n      currentTx?.transactions == null ||\n      currentTx?.status == null\n    ) {\n      return null;\n    }\n\n    const { transactions, status } = currentTx;\n    return (\n      <TransactionToast\n        className={className}\n        key={toastId}\n        transactions={transactions}\n        status={status}\n        toastId={toastId}\n        withTxNonce={withTxNonce}\n      />\n    );\n  });\n\n  const mapPendingSignedTransactions = () => {\n    const newToasts = [...toastsIds];\n\n    for (const sessionId in pendingTransactionsToRender) {\n      const hasToast = toastsIds.includes(sessionId);\n\n      if (!hasToast) {\n        newToasts.push(sessionId);\n      }\n    }\n\n    setToastsIds(newToasts);\n  };\n\n  const fetchSessionStorageToasts = () => {\n    const sessionStorageToastsIds = getToastsIdsFromStorage();\n\n    if (sessionStorageToastsIds) {\n      const newToasts = [...toastsIds, ...sessionStorageToastsIds];\n      setToastsIds(newToasts);\n    }\n  };\n\n  const saveSessionStorageToasts = () => {\n    const shouldSaveLocalToasts = Boolean(toastsIds.length);\n    if (!shouldSaveLocalToasts) {\n      return;\n    }\n\n    setToastsIdsToStorage(toastsIds);\n  };\n\n  useEffect(() => {\n    fetchSessionStorageToasts();\n    return () => {\n      saveSessionStorageToasts();\n    };\n  }, []);\n\n  useEffect(() => {\n    mapPendingSignedTransactions();\n  }, [pendingTransactionsToRender]);\n\n  return <div className={generatedClasses.wrapper}>{mappedToastsList}</div>;\n}\n\nexport default withClassNameWrapper(TransactionsToastList);\n","let platform: any = {};\ntry {\n  platform = require('platform');\n} catch (err) {}\n\nexport default platform;\n","let qrcode: any = {};\ntry {\n  qrcode = require('qrcode');\n} catch (err) {}\n\nexport default qrcode;\n","import React, { useEffect, useState } from 'react';\n\nimport platform from 'optionalPackages/platform';\nimport QRCode from 'optionalPackages/qrcode';\nimport { useWalletConnectLogin } from 'services';\nimport ModalContainer from 'UI/ModalContainer';\nimport { getGeneratedClasses } from 'utils';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\nimport { ReactComponent as Lighting } from '../WalletConnectLoginButton/lightning.svg';\nimport { LoginModalPropsType } from './types';\n\nfunction WalletConnectLoginContainer({\n  callbackRoute,\n  loginButtonText,\n  title = 'Maiar Login',\n  logoutRoute = '/unlock',\n  className = 'wallect-connect-login-modal',\n  lead = 'Scan the QR code using Maiar',\n  shouldRenderDefaultCss = true,\n  wrapContentInsideModal = true,\n  redirectAfterLogin,\n  token,\n  onClose\n}: LoginModalPropsType) {\n  const [\n    initLoginWithWalletConnect,\n    { error },\n    { uriDeepLink, walletConnectUri }\n  ] = useWalletConnectLogin({\n    logoutRoute,\n    callbackRoute,\n    token,\n    redirectAfterLogin,\n    shouldLoginUser: true\n  });\n  const [qrCodeSvg, setQrCodeSvg] = useState<string>('');\n  const isMobileDevice =\n    platform?.os?.family === 'iOS' || platform?.os?.family === 'Android';\n  const generatedClasses = getGeneratedClasses(\n    className,\n    shouldRenderDefaultCss,\n    {\n      wrapper: 'btn btn-primary px-sm-4 m-1 mx-sm-3',\n      loginText: 'text-left',\n      container: 'm-auto login-container',\n      card: 'card my-3 text-center',\n      cardBody: 'card-body p-4 mx-lg-4',\n      qrCodeSvgContainer: 'mx-auto mb-3',\n      title: 'mb-3',\n      leadText: 'lead mb-0',\n      mobileLoginButton: 'btn btn-primary px-4 mt-4',\n      errorMessage:\n        'text-danger d-flex justify-content-center align-items-center'\n    }\n  );\n\n  const generateQRCode = async () => {\n    if (!walletConnectUri) {\n      return;\n    }\n\n    const svg = await QRCode.toString(walletConnectUri, {\n      type: 'svg'\n    });\n\n    setQrCodeSvg(svg);\n  };\n\n  useEffect(() => {\n    generateQRCode();\n  }, [walletConnectUri]);\n\n  useEffect(() => {\n    initLoginWithWalletConnect();\n  }, []);\n\n  const content = (\n    <div className={generatedClasses.container}>\n      <div className={generatedClasses.root}>\n        <div className={generatedClasses.card}>\n          <div className={generatedClasses.cardBody}>\n            <div\n              className={generatedClasses.qrCodeSvgContainer}\n              dangerouslySetInnerHTML={{\n                __html: qrCodeSvg\n              }}\n              style={{\n                width: '15rem',\n                height: '15rem'\n              }}\n            />\n            <h4 className={generatedClasses.title}>{title}</h4>\n            {isMobileDevice ? (\n              <React.Fragment>\n                <p className={generatedClasses.leadText}>{loginButtonText}</p>\n                <a\n                  id='accessWalletBtn'\n                  data-testid='accessWalletBtn'\n                  className={generatedClasses.mobileLoginButton}\n                  href={uriDeepLink || undefined}\n                  rel='noopener noreferrer nofollow'\n                  target='_blank'\n                >\n                  <Lighting\n                    className={generatedClasses.cardBody}\n                    style={{\n                      width: '0.7rem',\n                      height: '0.7rem'\n                    }}\n                  />\n                  {title}\n                </a>\n              </React.Fragment>\n            ) : (\n              <p className={generatedClasses.leadText}>{lead}</p>\n            )}\n            <div>\n              {error && (\n                <p className={generatedClasses.errorMessage}>{error}</p>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n\n  return wrapContentInsideModal ? (\n    <ModalContainer\n      title={'Login with Maiar'}\n      className={className}\n      onClose={onClose}\n    >\n      {content}\n    </ModalContainer>\n  ) : (\n    content\n  );\n}\n\nexport default withClassNameWrapper(WalletConnectLoginContainer);\n","import React, { Fragment, useState } from 'react';\nimport { getGeneratedClasses } from 'utils';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\nimport WalletConnectLoginContainer from '../WalletConnectLoginContainer';\nimport { WalletConnectLoginButtonPropsType } from './types';\n\nconst WalletConnectLoginButton = ({\n  children,\n  callbackRoute,\n  loginButtonText = 'Maiar App',\n  title = 'Maiar Login',\n  logoutRoute = '/unlock',\n  shouldRenderDefaultCss = true,\n  wrapContentInsideModal = true,\n  redirectAfterLogin = false,\n  buttonClassName,\n  className = 'wallect-connect-login',\n  lead = 'Scan the QR code using Maiar',\n  token\n}: WalletConnectLoginButtonPropsType) => {\n  const [showLoginModal, setShowLoginModal] = useState(false);\n  const generatedClasses = getGeneratedClasses(\n    className,\n    shouldRenderDefaultCss,\n    {\n      wrapper: `btn btn-primary px-sm-4 m-1 mx-sm-3 ${\n        buttonClassName != null ? buttonClassName : ''\n      }`,\n      loginText: 'text-left'\n    }\n  );\n\n  const handleOpenModal = () => {\n    setShowLoginModal(true);\n  };\n\n  const handleCloseModal = () => {\n    setShowLoginModal(false);\n  };\n\n  return (\n    <Fragment>\n      <button onClick={handleOpenModal} className={generatedClasses.wrapper}>\n        {children || (\n          <span className={generatedClasses.loginText}>{loginButtonText}</span>\n        )}\n      </button>\n      {showLoginModal && (\n        <WalletConnectLoginContainer\n          callbackRoute={callbackRoute}\n          loginButtonText={loginButtonText}\n          title={title}\n          token={token}\n          className={className}\n          logoutRoute={logoutRoute}\n          lead={lead}\n          wrapContentInsideModal={wrapContentInsideModal}\n          redirectAfterLogin={redirectAfterLogin}\n          onClose={handleCloseModal}\n        />\n      )}\n    </Fragment>\n  );\n};\n\nexport default withClassNameWrapper(WalletConnectLoginButton);\n","import React from 'react';\nimport { useWebWalletLogin } from 'services';\nimport { getGeneratedClasses } from 'utils';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\nimport { WebWalletLoginButtonPropsType } from './types';\n\nconst WebWalletLoginButton: (\n  props: WebWalletLoginButtonPropsType\n) => JSX.Element = ({\n  children,\n  token,\n  className = 'web-wallet-login',\n  callbackRoute,\n  buttonClassName,\n  loginButtonText = 'Elrond Web Wallet',\n  shouldRenderDefaultCss = true\n}) => {\n  const [onInitiateLogin] = useWebWalletLogin({\n    callbackRoute,\n    token\n  });\n  const classes = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    wrapper: `btn btn-primary px-sm-4 m-1 mx-sm-3 ${\n      buttonClassName != null ? buttonClassName : ''\n    }`,\n    loginText: 'text-left'\n  });\n\n  const handleLogin = () => {\n    onInitiateLogin();\n  };\n\n  return (\n    <button onClick={handleLogin} className={classes.wrapper}>\n      {children || <span className={classes.loginText}>{loginButtonText}</span>}\n    </button>\n  );\n};\n\nexport default withClassNameWrapper(WebWalletLoginButton);\n","import React from 'react';\nimport { useGetLoginInfo } from 'hooks';\nimport ExtensionLoginButton from 'UI/extension/LoginButton';\n\nimport LedgerLoginButton from 'UI/ledger/LoginButton';\nimport WalletConnectLoginButton from 'UI/walletConnect/WalletConnectLoginButton';\nimport WebWalletLoginButton from 'UI/webWallet/LoginButton';\nimport { getGeneratedClasses, wrapperClassName } from 'utils';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\nimport { Props } from './types';\n\nconst UnlockPage = ({\n  loginRoute,\n  title = 'Login',\n  className = 'unlock-page',\n  shouldRenderDefaultCss = true,\n  LedgerLoginButtonText = 'Ledger',\n  description = 'Pick a login method',\n  WalletConnectLoginButtonText = 'Maiar',\n  ExtensionLoginButtonText = 'Extension',\n  WebWalletLoginButtonText = 'Web wallet'\n}: Props) => {\n  const generatedClasses = getGeneratedClasses(\n    className,\n    shouldRenderDefaultCss,\n    {\n      wrapper: `home d-flex flex-fill align-items-center ${wrapperClassName}`,\n      title: 'mb-4',\n      description: 'mb-4',\n      cardContainer: 'm-auto',\n      card: 'card my-4 text-center',\n      cardBody: 'card-body py-4 px-2 px-sm-2 mx-lg-4'\n    }\n  );\n  const { isLoggedIn } = useGetLoginInfo();\n\n  React.useEffect(() => {\n    if (isLoggedIn) {\n      window.location.href = loginRoute;\n    }\n  }, [isLoggedIn]);\n\n  return (\n    <div className={generatedClasses.wrapper}>\n      <div className={generatedClasses.cardContainer}>\n        <div className={generatedClasses.card}>\n          <div className={generatedClasses.cardBody}>\n            <h4 className={generatedClasses.title}>{title}</h4>\n            <p className={generatedClasses.description}>{description}</p>\n            <ExtensionLoginButton\n              callbackRoute={loginRoute}\n              loginButtonText={ExtensionLoginButtonText}\n            />\n            <WebWalletLoginButton\n              callbackRoute={loginRoute}\n              loginButtonText={WebWalletLoginButtonText}\n            />\n            <LedgerLoginButton\n              loginButtonText={LedgerLoginButtonText}\n              callbackRoute={loginRoute}\n            />\n            <WalletConnectLoginButton\n              callbackRoute={loginRoute}\n              loginButtonText={WalletConnectLoginButtonText}\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default withClassNameWrapper(UnlockPage);\n"]},"metadata":{},"sourceType":"module"}