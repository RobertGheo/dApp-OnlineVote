{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.onPrimitiveTypeSelect = exports.onPrimitiveValueSelect = exports.onTypedValueSelect = exports.onTypeSelect = void 0;\n\nconst errors = __importStar(require(\"../../errors\"));\n\nconst address_1 = require(\"./address\");\n\nconst boolean_1 = require(\"./boolean\");\n\nconst bytes_1 = require(\"./bytes\");\n\nconst enum_1 = require(\"./enum\");\n\nconst generic_1 = require(\"./generic\");\n\nconst h256_1 = require(\"./h256\");\n\nconst numerical_1 = require(\"./numerical\");\n\nconst nothing_1 = require(\"./nothing\");\n\nconst struct_1 = require(\"./struct\");\n\nconst tokenIdentifier_1 = require(\"./tokenIdentifier\");\n\nconst tuple_1 = require(\"./tuple\");\n\nconst types_1 = require(\"./types\");\n\nconst genericArray_1 = require(\"./genericArray\"); // TODO: Extend functionality or rename wrt. restricted / reduced functionality (not all types are handled: composite, variadic).\n\n\nfunction onTypeSelect(type, selectors) {\n  if (type instanceof generic_1.OptionType) {\n    return selectors.onOption();\n  }\n\n  if (type instanceof generic_1.ListType) {\n    return selectors.onList();\n  }\n\n  if (type instanceof genericArray_1.ArrayVecType) {\n    return selectors.onArray();\n  }\n\n  if (type instanceof types_1.PrimitiveType) {\n    return selectors.onPrimitive();\n  }\n\n  if (type instanceof struct_1.StructType) {\n    return selectors.onStruct();\n  }\n\n  if (type instanceof tuple_1.TupleType) {\n    return selectors.onTuple();\n  }\n\n  if (type instanceof enum_1.EnumType) {\n    return selectors.onEnum();\n  }\n\n  if (selectors.onOther) {\n    return selectors.onOther();\n  }\n\n  throw new errors.ErrTypingSystem(`type isn't known: ${type}`);\n}\n\nexports.onTypeSelect = onTypeSelect;\n\nfunction onTypedValueSelect(value, selectors) {\n  if (value instanceof types_1.PrimitiveValue) {\n    return selectors.onPrimitive();\n  }\n\n  if (value instanceof generic_1.OptionValue) {\n    return selectors.onOption();\n  }\n\n  if (value instanceof generic_1.List) {\n    return selectors.onList();\n  }\n\n  if (value instanceof genericArray_1.ArrayVec) {\n    return selectors.onArray();\n  }\n\n  if (value instanceof struct_1.Struct) {\n    return selectors.onStruct();\n  }\n\n  if (value instanceof tuple_1.Tuple) {\n    return selectors.onTuple();\n  }\n\n  if (value instanceof enum_1.EnumValue) {\n    return selectors.onEnum();\n  }\n\n  if (selectors.onOther) {\n    return selectors.onOther();\n  }\n\n  throw new errors.ErrTypingSystem(`value isn't typed: ${value}`);\n}\n\nexports.onTypedValueSelect = onTypedValueSelect;\n\nfunction onPrimitiveValueSelect(value, selectors) {\n  if (value instanceof boolean_1.BooleanValue) {\n    return selectors.onBoolean();\n  }\n\n  if (value instanceof numerical_1.NumericalValue) {\n    return selectors.onNumerical();\n  }\n\n  if (value instanceof address_1.AddressValue) {\n    return selectors.onAddress();\n  }\n\n  if (value instanceof bytes_1.BytesValue) {\n    return selectors.onBytes();\n  }\n\n  if (value instanceof h256_1.H256Value) {\n    return selectors.onH256();\n  }\n\n  if (value instanceof tokenIdentifier_1.TokenIdentifierValue) {\n    return selectors.onTypeIdentifier();\n  }\n\n  if (value instanceof nothing_1.NothingValue) {\n    return selectors.onNothing();\n  }\n\n  if (selectors.onOther) {\n    return selectors.onOther();\n  }\n\n  throw new errors.ErrTypingSystem(`value isn't a primitive: ${value.getType()}`);\n}\n\nexports.onPrimitiveValueSelect = onPrimitiveValueSelect;\n\nfunction onPrimitiveTypeSelect(type, selectors) {\n  if (type instanceof boolean_1.BooleanType) {\n    return selectors.onBoolean();\n  }\n\n  if (type instanceof numerical_1.NumericalType) {\n    return selectors.onNumerical();\n  }\n\n  if (type instanceof address_1.AddressType) {\n    return selectors.onAddress();\n  }\n\n  if (type instanceof bytes_1.BytesType) {\n    return selectors.onBytes();\n  }\n\n  if (type instanceof h256_1.H256Type) {\n    return selectors.onH256();\n  }\n\n  if (type instanceof tokenIdentifier_1.TokenIdentifierType) {\n    return selectors.onTokenIndetifier();\n  }\n\n  if (type instanceof nothing_1.NothingType) {\n    return selectors.onNothing();\n  }\n\n  if (selectors.onOther) {\n    return selectors.onOther();\n  }\n\n  throw new errors.ErrTypingSystem(`type isn't a known primitive: ${type}`);\n}\n\nexports.onPrimitiveTypeSelect = onPrimitiveTypeSelect;","map":{"version":3,"mappings":"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","names":["onTypeSelect","type","selectors","generic_1","onOption","onList","genericArray_1","onArray","types_1","onPrimitive","struct_1","onStruct","tuple_1","onTuple","enum_1","onEnum","onOther","errors","ErrTypingSystem","exports","onTypedValueSelect","value","onPrimitiveValueSelect","boolean_1","onBoolean","numerical_1","onNumerical","address_1","onAddress","bytes_1","onBytes","h256_1","onH256","tokenIdentifier_1","onTypeIdentifier","nothing_1","onNothing","getType","onPrimitiveTypeSelect","onTokenIndetifier"],"sourceRoot":"","sources":["../../../src/smartcontracts/typesystem/matchers.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}