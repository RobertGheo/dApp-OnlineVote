{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport fs from 'fs';\nimport path from 'path';\nimport { useGetAccountInfo } from '@elrondnetwork/dapp-core';\nimport { ProxyProvider, UserSigner, Account, Transaction, Address, Balance, GasLimit, NetworkConfig } from '@elrondnetwork/erdjs';\n//Egld Claim Faucet for blockchain transaction fee\nconst PemFile = '../wallet/wallet-owner.pem';\nconst ProxyUrl = 'https://devnet-gateway.elrond.com';\nconst ApiUrl = 'https://devnet-api.elrond.com'; //const __dirname = dirname(pathToFileURL(''));\n\nconst ClaimEgldFaucet = async () => {\n  _s();\n\n  const {\n    address\n  } = useGetAccountInfo();\n  const provider = new ProxyProvider(ProxyUrl, {\n    timeout: 5000\n  });\n  const signer = await getSigner();\n  const accountSender = new Account(signer.getAddress());\n  console.log(`login ${address}`);\n  await new Promise(resolve => setTimeout(resolve, 5000));\n  console.log(`who is sending ${signer}`);\n  await NetworkConfig.getDefault().sync(provider);\n  await accountSender.sync(provider);\n  const tx = await buildRewardTransactionFor(address);\n  tx.setNonce(accountSender.nonce);\n  await signer.sign(tx);\n  console.log(`name of wallet ${accountSender}`);\n  console.log(`proxy name ${provider}`);\n  await tx.send(provider);\n  await new Promise(r => setTimeout(r, 5000));\n};\n\n_s(ClaimEgldFaucet, \"7qrQ0ctvcTJVxIevjF36DsgkyDw=\", false, function () {\n  return [useGetAccountInfo];\n});\n\n_c = ClaimEgldFaucet;\n\nconst getSigner = async () => {\n  const pemWalletPath = path.basename(PemFile);\n  const pemWalletContents = await fs.promises.readFile(pemWalletPath, {\n    encoding: 'utf8'\n  });\n  return UserSigner.fromPem(pemWalletContents);\n};\n\nconst buildRewardTransactionFor = async receiverAddress => new Transaction({\n  gasLimit: new GasLimit(500000),\n  receiver: new Address(receiverAddress),\n  value: Balance.egld(0.0006)\n});\n\nexport { ClaimEgldFaucet };\n\nvar _c;\n\n$RefreshReg$(_c, \"ClaimEgldFaucet\");","map":{"version":3,"sources":["/home/robert/Final Project/dApp-OnlineVote/src/claimxegdl.tsx"],"names":["fs","path","useGetAccountInfo","ProxyProvider","UserSigner","Account","Transaction","Address","Balance","GasLimit","NetworkConfig","PemFile","ProxyUrl","ApiUrl","ClaimEgldFaucet","address","provider","timeout","signer","getSigner","accountSender","getAddress","console","log","Promise","resolve","setTimeout","getDefault","sync","tx","buildRewardTransactionFor","setNonce","nonce","sign","send","r","pemWalletPath","basename","pemWalletContents","promises","readFile","encoding","fromPem","receiverAddress","gasLimit","receiver","value","egld"],"mappings":";;AAAA,OAAOA,EAAP,MAAe,IAAf;AAEA,OAAOC,IAAP,MAAiB,MAAjB;AAGA,SAIEC,iBAJF,QAMO,0BANP;AAOA,SACEC,aADF,EAEEC,UAFF,EAGEC,OAHF,EAIEC,WAJF,EAKEC,OALF,EAMEC,OANF,EAQEC,QARF,EASEC,aATF,QAcO,sBAdP;AAiBA;AACA,MAAMC,OAAO,GAAG,4BAAhB;AACA,MAAMC,QAAQ,GAAG,mCAAjB;AACA,MAAMC,MAAM,GAAG,+BAAf,C,CAEA;;AACA,MAAMC,eAAe,GAAG,YAAY;AAAA;;AAClC,QAAM;AAAEC,IAAAA;AAAF,MAAcb,iBAAiB,EAArC;AACA,QAAMc,QAAQ,GAAG,IAAIb,aAAJ,CAAkBS,QAAlB,EAA4B;AAAEK,IAAAA,OAAO,EAAE;AAAX,GAA5B,CAAjB;AACA,QAAMC,MAAM,GAAG,MAAMC,SAAS,EAA9B;AACA,QAAMC,aAAa,GAAG,IAAIf,OAAJ,CAAYa,MAAM,CAACG,UAAP,EAAZ,CAAtB;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAa,SAAQR,OAAQ,EAA7B;AACA,QAAM,IAAIS,OAAJ,CAAaC,OAAD,IAAaC,UAAU,CAACD,OAAD,EAAU,IAAV,CAAnC,CAAN;AACAH,EAAAA,OAAO,CAACC,GAAR,CAAa,kBAAiBL,MAAO,EAArC;AACA,QAAMR,aAAa,CAACiB,UAAd,GAA2BC,IAA3B,CAAgCZ,QAAhC,CAAN;AACA,QAAMI,aAAa,CAACQ,IAAd,CAAmBZ,QAAnB,CAAN;AAEA,QAAMa,EAAE,GAAG,MAAMC,yBAAyB,CAACf,OAAD,CAA1C;AACAc,EAAAA,EAAE,CAACE,QAAH,CAAYX,aAAa,CAACY,KAA1B;AACA,QAAMd,MAAM,CAACe,IAAP,CAAYJ,EAAZ,CAAN;AACAP,EAAAA,OAAO,CAACC,GAAR,CAAa,kBAAiBH,aAAc,EAA5C;AACAE,EAAAA,OAAO,CAACC,GAAR,CAAa,cAAaP,QAAS,EAAnC;AAEA,QAAMa,EAAE,CAACK,IAAH,CAAQlB,QAAR,CAAN;AACA,QAAM,IAAIQ,OAAJ,CAAaW,CAAD,IAAOT,UAAU,CAACS,CAAD,EAAI,IAAJ,CAA7B,CAAN;AACD,CAnBD;;GAAMrB,e;UACgBZ,iB;;;KADhBY,e;;AAqBN,MAAMK,SAAS,GAAG,YAAY;AAC5B,QAAMiB,aAAa,GAAGnC,IAAI,CAACoC,QAAL,CAAc1B,OAAd,CAAtB;AACA,QAAM2B,iBAAiB,GAAG,MAAMtC,EAAE,CAACuC,QAAH,CAAYC,QAAZ,CAAqBJ,aAArB,EAAoC;AAClEK,IAAAA,QAAQ,EAAE;AADwD,GAApC,CAAhC;AAGA,SAAOrC,UAAU,CAACsC,OAAX,CAAmBJ,iBAAnB,CAAP;AACD,CAND;;AAQA,MAAMR,yBAAyB,GAAG,MAAOa,eAAP,IAChC,IAAIrC,WAAJ,CAAgB;AACdsC,EAAAA,QAAQ,EAAE,IAAInC,QAAJ,CAAa,MAAb,CADI;AAEdoC,EAAAA,QAAQ,EAAE,IAAItC,OAAJ,CAAYoC,eAAZ,CAFI;AAGdG,EAAAA,KAAK,EAAEtC,OAAO,CAACuC,IAAR,CAAa,MAAb;AAHO,CAAhB,CADF;;AAOA,SAASjC,eAAT","sourcesContent":["import fs from 'fs';\nimport fetch from 'node-fetch';\nimport path from 'path';\nimport { fileURLToPath, pathToFileURL } from 'url';\nimport BigNumber from 'bignumber.js';\nimport {\n  getEgldLabel,\n  refreshAccount,\n  transactionServices,\n  useGetAccountInfo,\n  useGetNetworkConfig\n} from '@elrondnetwork/dapp-core';\nimport {\n  ProxyProvider,\n  UserSigner,\n  Account,\n  Transaction,\n  Address,\n  Balance,\n  TransactionPayload,\n  GasLimit,\n  NetworkConfig,\n  ContractFunction,\n  BigUIntValue,\n  BytesValue,\n  Egld\n} from '@elrondnetwork/erdjs';\nimport { url } from 'inspector';\n\n//Egld Claim Faucet for blockchain transaction fee\nconst PemFile = '../wallet/wallet-owner.pem';\nconst ProxyUrl = 'https://devnet-gateway.elrond.com';\nconst ApiUrl = 'https://devnet-api.elrond.com';\n\n//const __dirname = dirname(pathToFileURL(''));\nconst ClaimEgldFaucet = async () => {\n  const { address } = useGetAccountInfo();\n  const provider = new ProxyProvider(ProxyUrl, { timeout: 5000 });\n  const signer = await getSigner();\n  const accountSender = new Account(signer.getAddress());\n  console.log(`login ${address}`);\n  await new Promise((resolve) => setTimeout(resolve, 5000));\n  console.log(`who is sending ${signer}`);\n  await NetworkConfig.getDefault().sync(provider);\n  await accountSender.sync(provider);\n\n  const tx = await buildRewardTransactionFor(address);\n  tx.setNonce(accountSender.nonce);\n  await signer.sign(tx);\n  console.log(`name of wallet ${accountSender}`);\n  console.log(`proxy name ${provider}`);\n\n  await tx.send(provider);\n  await new Promise((r) => setTimeout(r, 5000));\n};\n\nconst getSigner = async () => {\n  const pemWalletPath = path.basename(PemFile);\n  const pemWalletContents = await fs.promises.readFile(pemWalletPath, {\n    encoding: 'utf8'\n  });\n  return UserSigner.fromPem(pemWalletContents);\n};\n\nconst buildRewardTransactionFor = async (receiverAddress: string) =>\n  new Transaction({\n    gasLimit: new GasLimit(500000),\n    receiver: new Address(receiverAddress),\n    value: Balance.egld(0.0006)\n  });\n\nexport { ClaimEgldFaucet };\n"]},"metadata":{},"sourceType":"module"}