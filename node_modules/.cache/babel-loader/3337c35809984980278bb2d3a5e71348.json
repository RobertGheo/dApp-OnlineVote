{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.StructBinaryCodec = void 0;\n\nconst typesystem_1 = require(\"../typesystem\");\n\nconst fields_1 = require(\"./fields\");\n\nclass StructBinaryCodec {\n  constructor(binaryCodec) {\n    this.fieldsCodec = new fields_1.FieldsBinaryCodec(binaryCodec);\n  }\n\n  decodeTopLevel(buffer, type) {\n    let [decoded] = this.decodeNested(buffer, type);\n    return decoded;\n  }\n\n  decodeNested(buffer, type) {\n    let fieldDefinitions = type.getFieldsDefinitions();\n    let [fields, offset] = this.fieldsCodec.decodeNested(buffer, fieldDefinitions);\n    let struct = new typesystem_1.Struct(type, fields);\n    return [struct, offset];\n  }\n\n  encodeNested(struct) {\n    let fields = struct.getFields();\n    let buffer = this.fieldsCodec.encodeNested(fields);\n    return buffer;\n  }\n\n  encodeTopLevel(struct) {\n    return this.encodeNested(struct);\n  }\n\n}\n\nexports.StructBinaryCodec = StructBinaryCodec;","map":{"version":3,"sources":["../../../src/smartcontracts/codec/struct.ts"],"names":[],"mappings":";;;;;;;AAAA,MAAA,YAAA,GAAA,OAAA,CAAA,eAAA,CAAA;;AAEA,MAAA,QAAA,GAAA,OAAA,CAAA,UAAA,CAAA;;AAEA,MAAa,iBAAb,CAA8B;AAG1B,EAAA,WAAA,CAAY,WAAZ,EAAoC;AAChC,SAAK,WAAL,GAAmB,IAAI,QAAA,CAAA,iBAAJ,CAAsB,WAAtB,CAAnB;AACH;;AAED,EAAA,cAAc,CAAC,MAAD,EAAiB,IAAjB,EAAiC;AAC3C,QAAI,CAAC,OAAD,IAAY,KAAK,YAAL,CAAkB,MAAlB,EAA0B,IAA1B,CAAhB;AACA,WAAO,OAAP;AACH;;AAED,EAAA,YAAY,CAAC,MAAD,EAAiB,IAAjB,EAAiC;AACzC,QAAI,gBAAgB,GAAG,IAAI,CAAC,oBAAL,EAAvB;AACA,QAAI,CAAC,MAAD,EAAS,MAAT,IAAsC,KAAK,WAAL,CAAiB,YAAjB,CAA8B,MAA9B,EAAsC,gBAAtC,CAA1C;AACA,QAAI,MAAM,GAAG,IAAI,YAAA,CAAA,MAAJ,CAAW,IAAX,EAAiB,MAAjB,CAAb;AACA,WAAO,CAAC,MAAD,EAAS,MAAT,CAAP;AACH;;AAED,EAAA,YAAY,CAAC,MAAD,EAAe;AACvB,QAAI,MAAM,GAAG,MAAM,CAAC,SAAP,EAAb;AACA,QAAI,MAAM,GAAG,KAAK,WAAL,CAAiB,YAAjB,CAA8B,MAA9B,CAAb;AACA,WAAO,MAAP;AACH;;AAED,EAAA,cAAc,CAAC,MAAD,EAAe;AACzB,WAAO,KAAK,YAAL,CAAkB,MAAlB,CAAP;AACH;;AA3ByB;;AAA9B,OAAA,CAAA,iBAAA,GAAA,iBAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StructBinaryCodec = void 0;\nconst typesystem_1 = require(\"../typesystem\");\nconst fields_1 = require(\"./fields\");\nclass StructBinaryCodec {\n    constructor(binaryCodec) {\n        this.fieldsCodec = new fields_1.FieldsBinaryCodec(binaryCodec);\n    }\n    decodeTopLevel(buffer, type) {\n        let [decoded] = this.decodeNested(buffer, type);\n        return decoded;\n    }\n    decodeNested(buffer, type) {\n        let fieldDefinitions = type.getFieldsDefinitions();\n        let [fields, offset] = this.fieldsCodec.decodeNested(buffer, fieldDefinitions);\n        let struct = new typesystem_1.Struct(type, fields);\n        return [struct, offset];\n    }\n    encodeNested(struct) {\n        let fields = struct.getFields();\n        let buffer = this.fieldsCodec.encodeNested(fields);\n        return buffer;\n    }\n    encodeTopLevel(struct) {\n        return this.encodeNested(struct);\n    }\n}\nexports.StructBinaryCodec = StructBinaryCodec;\n//# sourceMappingURL=struct.js.map"]},"metadata":{},"sourceType":"script"}