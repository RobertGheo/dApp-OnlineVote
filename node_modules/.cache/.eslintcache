[{"/home/robert/Final Project/dApp-OnlineVote/src/index.tsx":"1","/home/robert/Final Project/dApp-OnlineVote/src/App.tsx":"2","/home/robert/Final Project/dApp-OnlineVote/src/routes.ts":"3","/home/robert/Final Project/dApp-OnlineVote/src/components/Layout/index.tsx":"4","/home/robert/Final Project/dApp-OnlineVote/src/pages/PageNotFound/index.tsx":"5","/home/robert/Final Project/dApp-OnlineVote/src/config.tsx":"6","/home/robert/Final Project/dApp-OnlineVote/src/pages/Home/index.tsx":"7","/home/robert/Final Project/dApp-OnlineVote/src/components/PageTitle/index.tsx":"8","/home/robert/Final Project/dApp-OnlineVote/src/pages/UnlockPage/index.tsx":"9","/home/robert/Final Project/dApp-OnlineVote/src/pages/Dashboard/index.tsx":"10","/home/robert/Final Project/dApp-OnlineVote/src/pages/Transaction/index.tsx":"11","/home/robert/Final Project/dApp-OnlineVote/src/pages/Dashboard/TopInfo.tsx":"12","/home/robert/Final Project/dApp-OnlineVote/src/components/Layout/Footer/index.tsx":"13","/home/robert/Final Project/dApp-OnlineVote/src/components/Layout/Navbar/index.tsx":"14","/home/robert/Final Project/dApp-OnlineVote/src/pages/Dashboard/Transactions/index.tsx":"15","/home/robert/Final Project/dApp-OnlineVote/src/pages/Dashboard/Transactions/TransactionsList.tsx":"16","/home/robert/Final Project/dApp-OnlineVote/src/pages/Dashboard/Transactions/txStatus.tsx":"17","/home/robert/Final Project/dApp-OnlineVote/src/pages/Dashboard/Transactions/StatusIcon.tsx":"18","/home/robert/Final Project/dApp-OnlineVote/src/apiRequests/index.tsx":"19","/home/robert/Final Project/dApp-OnlineVote/src/pages/Dashboard/Register.tsx":"20","/home/robert/Final Project/dApp-OnlineVote/src/pages/Dashboard/CheckVote.tsx":"21","/home/robert/Final Project/dApp-OnlineVote/src/pages/Dashboard/Actions/indexBlue.tsx":"22","/home/robert/Final Project/dApp-OnlineVote/src/pages/Dashboard/Actions/indexRed.tsx":"23"},{"size":204,"mtime":1649698924255,"results":"24","hashOfConfig":"25"},{"size":1466,"mtime":1649840732225,"results":"26","hashOfConfig":"25"},{"size":1258,"mtime":1649409512460,"results":"27","hashOfConfig":"25"},{"size":774,"mtime":1649699216961,"results":"28","hashOfConfig":"25"},{"size":1080,"mtime":1645017405000,"results":"29","hashOfConfig":"25"},{"size":354,"mtime":1649851109784,"results":"30","hashOfConfig":"25"},{"size":11648,"mtime":1650022670569,"results":"31","hashOfConfig":"25"},{"size":282,"mtime":1645017405000,"results":"32","hashOfConfig":"25"},{"size":1900,"mtime":1649652114495,"results":"33","hashOfConfig":"25"},{"size":795,"mtime":1650028276669,"results":"34","hashOfConfig":"25"},{"size":1586,"mtime":1645017405000,"results":"35","hashOfConfig":"25"},{"size":1105,"mtime":1649873421733,"results":"36","hashOfConfig":"25"},{"size":531,"mtime":1649849356829,"results":"37","hashOfConfig":"25"},{"size":2502,"mtime":1650028150858,"results":"38","hashOfConfig":"25"},{"size":1591,"mtime":1645017405000,"results":"39","hashOfConfig":"25"},{"size":3845,"mtime":1649417292651,"results":"40","hashOfConfig":"25"},{"size":140,"mtime":1645017405000,"results":"41","hashOfConfig":"25"},{"size":1190,"mtime":1645017405000,"results":"42","hashOfConfig":"25"},{"size":909,"mtime":1645017405000,"results":"43","hashOfConfig":"25"},{"size":6920,"mtime":1650069132032,"results":"44","hashOfConfig":"25"},{"size":6256,"mtime":1650070683519,"results":"45","hashOfConfig":"25"},{"size":5702,"mtime":1650070765023,"results":"46","hashOfConfig":"25"},{"size":5698,"mtime":1650042074948,"results":"47","hashOfConfig":"25"},{"filePath":"48","messages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},"fdpm88",{"filePath":"51","messages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"53","messages":"54","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"55","messages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"57","messages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"59","messages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"61","messages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"63","messages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"65","messages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"67","messages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"69","messages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"71","messages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"73","messages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"75","messages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"77","messages":"78","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"79"},{"filePath":"80","messages":"81","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"79"},{"filePath":"82","messages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"79"},{"filePath":"84","messages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"79"},{"filePath":"86","messages":"87","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"79"},{"filePath":"88","messages":"89","errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"90","messages":"91","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"92","messages":"93","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"94","messages":"95","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"96","usedDeprecatedRules":"50"},"/home/robert/Final Project/dApp-OnlineVote/src/index.tsx",[],[],"/home/robert/Final Project/dApp-OnlineVote/src/App.tsx",[],"/home/robert/Final Project/dApp-OnlineVote/src/routes.ts",[],"/home/robert/Final Project/dApp-OnlineVote/src/components/Layout/index.tsx",[],"/home/robert/Final Project/dApp-OnlineVote/src/pages/PageNotFound/index.tsx",[],"/home/robert/Final Project/dApp-OnlineVote/src/config.tsx",[],"/home/robert/Final Project/dApp-OnlineVote/src/pages/Home/index.tsx",[],"/home/robert/Final Project/dApp-OnlineVote/src/components/PageTitle/index.tsx",[],"/home/robert/Final Project/dApp-OnlineVote/src/pages/UnlockPage/index.tsx",[],"/home/robert/Final Project/dApp-OnlineVote/src/pages/Dashboard/index.tsx",[],"/home/robert/Final Project/dApp-OnlineVote/src/pages/Transaction/index.tsx",[],"/home/robert/Final Project/dApp-OnlineVote/src/pages/Dashboard/TopInfo.tsx",[],"/home/robert/Final Project/dApp-OnlineVote/src/components/Layout/Footer/index.tsx",[],"/home/robert/Final Project/dApp-OnlineVote/src/components/Layout/Navbar/index.tsx",[],"/home/robert/Final Project/dApp-OnlineVote/src/pages/Dashboard/Transactions/index.tsx",[],[],"/home/robert/Final Project/dApp-OnlineVote/src/pages/Dashboard/Transactions/TransactionsList.tsx",[],"/home/robert/Final Project/dApp-OnlineVote/src/pages/Dashboard/Transactions/txStatus.tsx",[],"/home/robert/Final Project/dApp-OnlineVote/src/pages/Dashboard/Transactions/StatusIcon.tsx",[],"/home/robert/Final Project/dApp-OnlineVote/src/apiRequests/index.tsx",[],"/home/robert/Final Project/dApp-OnlineVote/src/pages/Dashboard/Register.tsx",["97","98","99","100","101","102"],"/home/robert/Final Project/dApp-OnlineVote/src/pages/Dashboard/CheckVote.tsx",["103","104","105","106"],"/home/robert/Final Project/dApp-OnlineVote/src/pages/Dashboard/Actions/indexBlue.tsx",["107"],"/home/robert/Final Project/dApp-OnlineVote/src/pages/Dashboard/Actions/indexRed.tsx",["108"],"import * as React from 'react';\nimport {\n  transactionServices,\n  useGetAccountInfo,\n  useGetPendingTransactions,\n  refreshAccount,\n  useGetNetworkConfig\n} from '@elrondnetwork/dapp-core';\nimport {\n  Address,\n  AddressValue,\n  ContractFunction,\n  ProxyProvider,\n  Query\n} from '@elrondnetwork/erdjs';\nimport { faArrowUp, faArrowDown } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport moment from 'moment';\nimport { contractAddress } from 'config';\n\nconst ActionsRed = () => {\n  const account = useGetAccountInfo();\n  const { hasPendingTransactions } = useGetPendingTransactions();\n  const { network } = useGetNetworkConfig();\n  const { address } = account;\n\n  const [secondsLeft, setSecondsLeft] = React.useState<number>();\n  const [hasPing, setHasPing] = React.useState<boolean>();\n  const /*transactionSessionId*/ [, setTransactionSessionId] = React.useState<\n      string | null\n    >(null);\n\n  const mount = () => {\n    if (secondsLeft) {\n      const interval = setInterval(() => {\n        setSecondsLeft((existing) => {\n          if (existing) {\n            return existing - 1;\n          } else {\n            clearInterval(interval);\n            return 0;\n          }\n        });\n      }, 1000);\n      return () => {\n        clearInterval(interval);\n      };\n    }\n  };\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  React.useEffect(mount, [hasPing]);\n\n  React.useEffect(() => {\n    const query = new Query({\n      address: new Address(contractAddress),\n      func: new ContractFunction('getTimeToPong'),\n      args: [new AddressValue(new Address(address))]\n    });\n    const proxy = new ProxyProvider(network.apiAddress);\n    proxy\n      .queryContract(query)\n      .then(({ returnData }) => {\n        const [encoded] = returnData;\n        switch (encoded) {\n          case undefined:\n            setHasPing(true);\n            break;\n          case '':\n            setSecondsLeft(0);\n            setHasPing(false);\n            break;\n          default: {\n            const decoded = Buffer.from(encoded, 'base64').toString('hex');\n            setSecondsLeft(parseInt(decoded, 16));\n            setHasPing(false);\n            break;\n          }\n        }\n      })\n      .catch((err) => {\n        console.error('Unable to call VM query', err);\n      });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [hasPendingTransactions]);\n\n  const { sendTransactions } = transactionServices;\n\n  const sendPingTransaction = async () => {\n    const pingTransaction = {\n      value: '1000000000000000000',\n      data: 'ping',\n      receiver: contractAddress\n    };\n    await refreshAccount();\n\n    const { sessionId /*, error*/ } = await sendTransactions({\n      transactions: pingTransaction,\n      transactionsDisplayInfo: {\n        processingMessage: 'Processing Ping transaction',\n        errorMessage: 'An error has occured during Ping',\n        successMessage: 'Ping transaction successful'\n      },\n      redirectAfterSign: false\n    });\n    if (sessionId != null) {\n      setTransactionSessionId(sessionId);\n    }\n  };\n\n  const sendPongTransaction = async () => {\n    const pongTransaction = {\n      value: '0',\n      data: 'pong',\n      receiver: contractAddress\n    };\n    await refreshAccount();\n\n    const { sessionId /*, error*/ } = await sendTransactions({\n      transactions: pongTransaction,\n      transactionsDisplayInfo: {\n        processingMessage: 'Processing Pong transaction',\n        errorMessage: 'An error has occured during Pong',\n        successMessage: 'Pong transaction successful'\n      },\n      redirectAfterSign: false\n    });\n    if (sessionId != null) {\n      setTransactionSessionId(sessionId);\n    }\n  };\n\n  const pongAllowed = secondsLeft === 0 && !hasPendingTransactions;\n  const notAllowedClass = pongAllowed ? '' : 'not-allowed disabled';\n\n  const timeRemaining = moment()\n    .startOf('day')\n    .seconds(secondsLeft || 0)\n    .format('mm:ss');\n\n  return (\n    <div className='d-flex justify-content-center'>\n      {hasPing !== undefined && (\n        <>\n          {hasPing && !hasPendingTransactions ? (\n            <div\n              className='card row w-50 border-danger shadow mx-auto'\n              onClick={sendPingTransaction}\n            >\n              <button type='button' className='btn btn-danger m-2'>\n                Vote\n              </button>\n              <a href='/' className='text-dark'></a>\n            </div>\n          ) : (\n            <>\n              <div className='d-flex flex-column'>\n                <div\n                  {...{\n                    className: `action-btn ${notAllowedClass}`,\n                    ...(pongAllowed ? { onClick: sendPongTransaction } : {})\n                  }}\n                >\n                  <button className={`btn ${notAllowedClass}`}>\n                    <FontAwesomeIcon\n                      icon={faArrowDown}\n                      className='text-primary'\n                    />\n                  </button>\n                  <span className='text-white'>\n                    {pongAllowed ? (\n                      <a href='/' className='text-white text-decoration-none'>\n                        Pong\n                      </a>\n                    ) : (\n                      <>Pong</>\n                    )}\n                  </span>\n                </div>\n                {!pongAllowed && !hasPendingTransactions && (\n                  <span className='opacity-6 text-white'>\n                    {timeRemaining} until able to Pong\n                  </span>\n                )}\n              </div>\n            </>\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default ActionsRed;\n",{"ruleId":"109","severity":1,"message":"110","line":13,"column":20,"nodeType":"111","messageId":"112","endLine":13,"endColumn":27},{"ruleId":"109","severity":1,"message":"113","line":23,"column":9,"nodeType":"111","messageId":"112","endLine":23,"endColumn":28},{"ruleId":"109","severity":1,"message":"114","line":46,"column":10,"nodeType":"111","messageId":"112","endLine":46,"endColumn":18},{"ruleId":"109","severity":1,"message":"115","line":46,"column":20,"nodeType":"111","messageId":"112","endLine":46,"endColumn":30},{"ruleId":"109","severity":1,"message":"116","line":47,"column":10,"nodeType":"111","messageId":"112","endLine":47,"endColumn":15},{"ruleId":"109","severity":1,"message":"117","line":47,"column":17,"nodeType":"111","messageId":"112","endLine":47,"endColumn":25},{"ruleId":"109","severity":1,"message":"118","line":2,"column":29,"nodeType":"111","messageId":"112","endLine":2,"endColumn":35},{"ruleId":"109","severity":1,"message":"119","line":3,"column":10,"nodeType":"111","messageId":"112","endLine":3,"endColumn":25},{"ruleId":"109","severity":1,"message":"120","line":6,"column":8,"nodeType":"111","messageId":"112","endLine":6,"endColumn":15},{"ruleId":"109","severity":1,"message":"110","line":9,"column":20,"nodeType":"111","messageId":"112","endLine":9,"endColumn":27},{"ruleId":"109","severity":1,"message":"121","line":16,"column":10,"nodeType":"111","messageId":"112","endLine":16,"endColumn":19},{"ruleId":"109","severity":1,"message":"121","line":16,"column":10,"nodeType":"111","messageId":"112","endLine":16,"endColumn":19},"@typescript-eslint/no-unused-vars","'account' is assigned a value but never used.","Identifier","unusedVar","'sendPingTransaction' is assigned a value but never used.","'faddress' is assigned a value but never used.","'setAddress' is assigned a value but never used.","'error' is assigned a value but never used.","'setError' is assigned a value but never used.","'DappUI' is defined but never used.","'contractAddress' is defined but never used.","'TopInfo' is defined but never used.","'faArrowUp' is defined but never used."]