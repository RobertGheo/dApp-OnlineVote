'use strict';

var scryptsy = require('scryptsy');

var generateDerivedKey = function generateDerivedKey(key) {
  var salt = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';
  var nrOfIterations = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 4096;
  var memFactor = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 8;
  var pFactor = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;
  var dkLen = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 32;
  return scryptsy(key, salt, nrOfIterations, memFactor, pFactor, dkLen);
};

module.exports = {
  generateDerivedKey: generateDerivedKey
};